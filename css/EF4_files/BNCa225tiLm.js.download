if (self.CavalryLogger) { CavalryLogger.start_js(["V6FFs"]); }

__d("AdsCampaignPlacementMutators",["AdsAccountUtils","AdsAPIAdCampaignFields","AdsAPICampaignPaths","AdsAPIDevicePlatform","AdsAPIFacebookPosition","AdsAPIPublisherPlatform","AdsAPITargetFields","AdsAppUtils","AdsBrandSafetyContentFilterLevel","AdsCampaignPlacementAddDataActionFlux","AdsCampaignPlacementApplyDefaultsDataActionFlux","AdsCampaignPlacementRemoveDataActionFlux","AdsCampaignPlacementResetDataActionFlux","AdsCampaignPlacementSetDataActionFlux","AdsCampaignPlacementSetFromAPISpecDataActionFlux","AdsCampaignPromotedObjectSetOfflineOptimizationFieldsDataActionFlux","AdsCampaignSetBlockListsDataActionFlux","AdsCampaignSetBrandSafetyContentFilterLevelDataActionFlux","AdsCampaignSetDevicePlatformDataActionFlux","AdsCampaignSetDeviceTypeDataActionFlux","AdsCampaignSetExcludedCategoriesDataActionFlux","AdsCampaignSetExcludedContentTypesDataActionFlux","AdsCampaignSetExcludedGranularDevicesDataActionFlux","AdsCampaignSetGranularDevicesDataActionFlux","AdsCampaignSetMaxOsVersionDataActionFlux","AdsCampaignSetMinOsVersionDataActionFlux","AdsCampaignSetPublisherVisibilityCategoriesDataActionFlux","AdsCampaignToggleWifiOnlyDataActionFlux","AdsMutators","AdsPlacementAPISpecReaderUtils","AdsPlacementAPISpecWriterUtils","AdsPlacementPluginList","AdsPlacementPositionGroupPlugins","AdsPlacementReducerUtils","AdsPlacementTaxonomyExperimentUtils","AdsPlacementUIUtils","AdsPlacementUtils","AdsPlannerChangePlannerLocalAdFormatDataActionFlux","AdsPlannerChangePlannerLocalEventDataActionFlux","AdsReachFrequencyFlowChangeAdFormatActionFlux","AdsReachFrequencyFlowChangeAdFormatsCanvasActionFlux","AdsReachFrequencyFlowChangeAdFormatsCheckboxActionFlux","AdsReachFrequencyFlowChangeEventActionFlux","AdsReachFrequencyOptimizationEvents","AdsUEditorAdgroupNavigateMessengerPromotedObjectActionFlux","AdsUEditorCampaignPlacementResetMixedDataActionFlux","AdsUEditorCampaignSetMessengerPromotedObjectTypeDataActionFlux","AdsUserOSUtils","AdsWirelessCarriers","AppAdsConfig","FBLogger","FDSThreeStateCheckboxEnum","RFPredictionAdFormatsTypes","adsPlacementAPISpecReaderIsActiveFacebookPosition","adsPlacementAPISpecReaderIsActivePublisherPlatform","adsReachFrequencyCreativeFormatGetNewCampaignState","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsBrandSafetyContentFilterLevel").ADS_BRAND_SAFETY_CONTENT_FILTER_AN_LEVELS,h=b("AdsBrandSafetyContentFilterLevel").ADS_BRAND_SAFETY_CONTENT_FILTER_FACEBOOK_LEVELS,i=b("AdsBrandSafetyContentFilterLevel").getANEquivalentOfFBContentFilterLevel,j=b("AdsPlacementAPISpecWriterUtils").addGroup,k=b("AdsPlacementAPISpecWriterUtils").createMutator,l=b("AdsPlacementAPISpecWriterUtils").recomputePublisherPlatform,m=b("AdsPlacementAPISpecWriterUtils").setCampaignPlacement,n=b("AdsMutators").mutateEach;a={reduce:function(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsCampaignSetDevicePlatformDataActionFlux").actionType:var e=d.eligibilityInformation,f=d.value;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(b("AdsPlacementReducerUtils").setDevicePlatform(a,f,e))});case b("AdsCampaignSetDeviceTypeDataActionFlux").actionType:var j=d.value;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(b("AdsPlacementReducerUtils").setMobileDeviceType(a,j))});case b("AdsCampaignSetGranularDevicesDataActionFlux").actionType:var k=d.addedDevices,l=d.removedDevices;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(x(a,k,l))});case b("AdsCampaignSetExcludedGranularDevicesDataActionFlux").actionType:var m=d.addedDevices,o=d.removedDevices;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(y(a,m,o))});case b("AdsCampaignSetMaxOsVersionDataActionFlux").actionType:var r=d.value;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(z(a,r))});case b("AdsCampaignSetMinOsVersionDataActionFlux").actionType:var s=d.value;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(A(a,s))});case b("AdsCampaignToggleWifiOnlyDataActionFlux").actionType:return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(B(a,d.isWifiEnabled))});case b("AdsCampaignSetExcludedCategoriesDataActionFlux").actionType:var t=d.category,u=d.value;return n(a,d.ids,function(a){var c=(a.getIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PUBLISHER_CATEGORIES)||b("immutable").List()).toSet();c=u?c.add(t):c.remove(t);return b("AdsPlacementReducerUtils").updatePlacementSpec(b("AdsPlacementReducerUtils").setExcludedCategories(a,c))});case b("AdsCampaignSetExcludedContentTypesDataActionFlux").actionType:var E=d.contentType,F=d.value;return n(a,d.ids,function(a){var c;c=((c=a.getIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_BRAND_SAFETY_CONTENT_TYPES))!=null?c:b("immutable").List()).toSet();c=F?c.add(E):c.remove(E);return b("AdsPlacementReducerUtils").updatePlacementSpec(a.setIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_BRAND_SAFETY_CONTENT_TYPES,b("immutable").List(c)))});case b("AdsCampaignSetBrandSafetyContentFilterLevelDataActionFlux").actionType:var G=d.newLevel,H=d.isANLinkedToFB;return n(a,d.ids,function(a){var c=(a.getIn(b("AdsAPICampaignPaths").TARGETING.BRAND_SAFETY_CONTENT_FILTER_LEVELS)||b("immutable").List()).toSet(),d=g.includes(G),e=h.includes(G),f=b("AdsPlacementUtils").getBrandSafetyContentFilterANLevel(c),j=b("AdsPlacementUtils").getBrandSafetyContentFilterFBLevel(c);c=c.remove(d?f:e?j:null).add(G);e&&H&&(c=c.remove(f).add(i(G)));return b("AdsPlacementReducerUtils").updatePlacementSpec(b("AdsPlacementReducerUtils").setBrandSafetyContentFilterLevel(a,c.toList()))});case b("AdsCampaignSetBlockListsDataActionFlux").actionType:var I=d.blockListIDs;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(C(a,I))});case b("AdsCampaignSetPublisherVisibilityCategoriesDataActionFlux").actionType:var J=d.visibilityCategories;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(D(a,J))});case b("AdsCampaignPlacementAddDataActionFlux").actionType:var K=d.eligibilityInformation;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(p(a,K,d.pluginKey))});case b("AdsCampaignPlacementRemoveDataActionFlux").actionType:var L=d.eligibilityInformation;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(q(a,L))});case b("AdsUEditorAdgroupNavigateMessengerPromotedObjectActionFlux").actionType:case b("AdsUEditorCampaignSetMessengerPromotedObjectTypeDataActionFlux").actionType:return n(a,d.campaignIDs,function(a){return b("AdsPlacementReducerUtils").resetPlacement(a,d.eligibilityInformation)});case b("AdsCampaignPromotedObjectSetOfflineOptimizationFieldsDataActionFlux").actionType:return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").resetPlacement(a,d.eligibilityInformation)});case b("AdsUEditorCampaignPlacementResetMixedDataActionFlux").actionType:case b("AdsCampaignPlacementResetDataActionFlux").actionType:var M=d.eligibilityInformation;c=n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").resetPlacement(a,M)});return b("gkx")("922520")&&b("AdsAppUtils").isAppObjective(M.objective,M.promotedObjectType)?n(c,d.ids,function(a){return b("AdsPlacementReducerUtils").mergeMobilePlacementData(a,M)}):c;case b("AdsCampaignPlacementSetFromAPISpecDataActionFlux").actionType:var N=d.placementAPISpec;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(b("AdsPlacementAPISpecWriterUtils").setCampaignPlacement(a,N))});case b("AdsCampaignPlacementSetDataActionFlux").actionType:var O=d.eligibilityInformation;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(w(a,O))});case b("AdsCampaignPlacementApplyDefaultsDataActionFlux").actionType:var P=d.eligibilityInformationMap;return n(a,d.ids,function(a){return b("AdsPlacementReducerUtils").updatePlacementSpec(v(a,P.get(a.id)))});default:return a}}};function o(a,c){c=c.action;switch(c.type){case b("AdsPlannerChangePlannerLocalAdFormatDataActionFlux").actionType:case b("AdsReachFrequencyFlowChangeAdFormatActionFlux").actionType:var d=c.eligibilityInformation,e=c.status,f=c.value;e=e===b("FDSThreeStateCheckboxEnum").CHECKED;var g=!e;return b("adsReachFrequencyCreativeFormatGetNewCampaignState")(c.ids,f,a,d,e,g)}return a}function p(a,c,d){b("AdsAccountUtils").hasCapabilityFromList(c.capabilities,"CAN_USE_IG_IGTV_POSITION")&&!b("AdsAccountUtils").hasCapabilityFromList(c.capabilities,"CAN_USE_IG_IGTV_POSITION_PO")&&(d==="instagram/igtv"?a=b("AdsPlacementAPISpecWriterUtils").removeAllPlacementsExceptOneInCampaign(a,c,d,b("AdsAPITargetFields").INSTAGRAM_POSITIONS,b("AdsAPIPublisherPlatform").INSTAGRAM):a=b("AdsPlacementAPISpecWriterUtils").removeInstagramIgtvGroup(a,c));a=w(a,c);return b("AdsPlacementAPISpecWriterUtils").resetDevicesIfIneligible(a,c,!1)}function q(a,c){var d=a.getIn(b("AdsAPICampaignPaths").TARGETING.PUBLISHER_PLATFORMS),e=a.getIn(b("AdsAPICampaignPaths").TARGETING.FACEBOOK_POSITIONS),f=a.getIn(b("AdsAPICampaignPaths").TARGETING.INSTAGRAM_POSITIONS),g=a.getIn(b("AdsAPICampaignPaths").TARGETING.MESSENGER_POSITIONS),h=a.getIn(b("AdsAPICampaignPaths").TARGETING.AUDIENCE_NETWORK_POSITIONS),i=a.getIn(b("AdsAPICampaignPaths").TARGETING.WHATSAPP_POSITIONS),j=babelHelpers["extends"]({},c,{spec:{publisher_platforms:d?d.toJS():[],facebook_positions:e?e.toJS():[],instagram_positions:f?f.toJS():[],messenger_positions:g?g.toJS():[],audience_network_positions:h?h.toJS():[],whatsapp_positions:i?i.toJS():[],device_platforms:[b("AdsAPIDevicePlatform").MOBILE]}});d=b("AdsPlacementPluginList").getPositions(c).some(function(a){return a.isActive(j.spec)&&!a.getIneligibilityReason(j)});d||(a=b("AdsPlacementReducerUtils").clearUpMobileSettings(a));a=w(a,c);return a}function r(a){var c=a.getIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PUBLISHER_CATEGORIES),d=a;c&&(d=a.setIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PUBLISHER_CATEGORIES,c.toSet().remove("dating").remove("gambling").toList()));return d}function s(a){a;a=a.deleteIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PUBLISHER_CATEGORIES);return a}function t(a){a;a=a.deleteIn(b("AdsAPICampaignPaths").TARGETING.PUBLISHER_VISIBILITY_CATEGORIES);return a}function u(a,c,d){return a.setIn(b("AdsAPICampaignPaths").TARGETING.BRAND_SAFETY_CONTENT_FILTER_LEVELS,b("AdsPlacementUtils").getNextCampaignContentFilterRecord(a,c,d))}function v(a,c){var d=b("AdsPlacementUtils").getDefaultCampaignPlacement(babelHelpers["extends"]({},c));a=m(a,d);return b("gkx")("922520")&&b("AdsAppUtils").isAppObjective(c.objective,c.promotedObjectType)?b("AdsPlacementReducerUtils").mergeMobilePlacementData(a,c):a}function w(a,c){var d=a.getIn(b("AdsAPICampaignPaths").TARGETING.PUBLISHER_PLATFORMS),e=a.getIn(b("AdsAPICampaignPaths").TARGETING.FACEBOOK_POSITIONS);d=babelHelpers["extends"]({},c,{spec:babelHelpers["extends"]({},c.spec,{publisher_platforms:d?d.toJS():[],facebook_positions:e?e.toJS():[]})});e=b("adsPlacementAPISpecReaderIsActiveFacebookPosition")(d.spec,b("AdsAPIFacebookPosition").INSTREAM_VIDEO);var f=b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(d.spec,b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK),g=b("adsPlacementAPISpecReaderIsActiveFacebookPosition")(d.spec,b("AdsAPIFacebookPosition").INSTANT_ARTICLE);!f&&!g&&(a=r(a),e||(a=s(a)));c=b("AdsPlacementUIUtils").isContentFilteringAvailable(c.buyingType,c.capabilities)&&b("AdsPlacementUIUtils").shouldSurfaceContentFilteringOfEligibility(c);a=u(a,c&&(g||e),c&&f);b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(d.spec,b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)||(a=t(a));return a}function x(a,c,d){var e=b("immutable").Set(a.getIn(b("AdsAPICampaignPaths").TARGETING.USER_DEVICE));if(e.isEmpty()&&!(c.isEmpty()&&d.isEmpty())){var f=b("AdsPlacementAPISpecReaderUtils").convertCampaignToPlacementSpec(a),g=!!a.getIn(b("AdsAPICampaignPaths").TARGETING.DIRECT_INSTALL_DEVICES);f=b("AdsPlacementUIUtils").getDeviceType(f,g);e=b("immutable").Set(b("AdsAppUtils").getSupportedDevicesByDeviceType(f))}g=e.subtract(d).union(c);return a.setIn(b("AdsAPICampaignPaths").TARGETING.USER_DEVICE,b("immutable").List(g))}function y(a,c,d){var e=b("immutable").Set(a.getIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_USER_DEVICE));e=e.subtract(d).union(c);return a.setIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_USER_DEVICE,b("immutable").List(e))}function z(a,c){__p&&__p();var d=a.getIn(b("AdsAPICampaignPaths").TARGETING.USER_OS);if(!d||d.size!==1){b("FBLogger")("ads").mustfix("Trying to set max version when device type is not defined or more than one is defined");return a}d=b("AdsUserOSUtils").splitUserOS(d.toJS()[0]);var e=d.min_version;if(!e){var f=b("AppAdsConfig").mobileOsVersionNames[d.os];if(!f){b("FBLogger")("ads").mustfix("Trying to set max version but versions couldn't be computed");return a}e=Object.keys(f)[0]}return a.setIn(b("AdsAPICampaignPaths").TARGETING.USER_OS,b("immutable").List([b("AdsUserOSUtils").toUserOSString(d.os||"",e,c)]))}function A(a,c){var d=a.getIn(b("AdsAPICampaignPaths").TARGETING.USER_OS);if(!d||d.size!==1){b("FBLogger")("ads").mustfix("Trying to set min version when device type is not defined or more than one is defined");return a}d=b("AdsUserOSUtils").splitUserOS(d.toJS()[0]);return a.setIn(b("AdsAPICampaignPaths").TARGETING.USER_OS,d.os==null?b("immutable").List([null]):b("immutable").List([b("AdsUserOSUtils").toUserOSString(d.os,c,d.max_version)]))}function B(a,c){return a.setIn(b("AdsAPICampaignPaths").TARGETING.WIRELESS_CARRIER,c?b("immutable").List([b("AdsWirelessCarriers").WIFI]):b("immutable").List())}function C(a,c){return a.setIn(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PUBLISHER_LIST_IDS,b("immutable").List(c))}function D(a,c){return a.setIn(b("AdsAPICampaignPaths").TARGETING.PUBLISHER_VISIBILITY_CATEGORIES,b("immutable").List(c))}function E(a,c){__p&&__p();var d=a.action;if(!d.type||d.type!==b("AdsReachFrequencyFlowChangeAdFormatsCheckboxActionFlux").actionType||d.isChecked!==!0)return c;if(d.adFormatType===b("RFPredictionAdFormatsTypes").SPHERICAL_IMAGE||d.adFormatType===b("RFPredictionAdFormatsTypes").SPHERICAL_VIDEO)return n(c,d.ids,function(a){return j(a,"facebook/feed",d.eligibilityInformation,b("AdsAPITargetFields").FACEBOOK_POSITIONS,b("AdsAPIPublisherPlatform").FACEBOOK)});else if(d.adFormatType===b("RFPredictionAdFormatsTypes").STORIES_CAROUSEL)return n(c,d.ids,function(a){return j(a,"instagram/story",d.eligibilityInformation,b("AdsAPITargetFields").INSTAGRAM_POSITIONS,b("AdsAPIPublisherPlatform").INSTAGRAM)});return c}c=b("immutable").List([]);c=c.concat(b("AdsPlacementPluginList").getAllPositions().map(function(a){return k(a,function(a){a.isEnabled;return!0},function(a){a=a.adsetReducer;return a})}).filter(function(a){return a}));b("AdsPlacementTaxonomyExperimentUtils").shouldShowNewGrouping()&&(c=c.concat(b("AdsPlacementPositionGroupPlugins").getSet().map(function(a){return k(a,function(a){a.isEnabled;return!0},function(a){a=a.adsetReducer;return a})}).filter(function(a){return a})));c=c.concat(b("AdsPlacementPluginList").getAllPlatforms().map(function(a){return k(a,function(a){a.isEnabled;return!0},function(a){a=a.adsetReducer;return a})}).filter(function(a){return a}));d={reduce:function(a,b){return o(a,b)}};f={reduce:function(a,c){__p&&__p();var d=c.action;switch(d.type){case b("AdsReachFrequencyFlowChangeEventActionFlux").actionType:case b("AdsPlannerChangePlannerLocalEventDataActionFlux").actionType:if(d.event===b("AdsReachFrequencyOptimizationEvents").IMPRESSION_10_SECONDS)break;case b("AdsReachFrequencyFlowChangeAdFormatsCanvasActionFlux").actionType:case b("AdsReachFrequencyFlowChangeAdFormatsCheckboxActionFlux").actionType:c=n(a,d.ids,function(a){var c=a.getIn([b("AdsAPIAdCampaignFields").TARGETING,b("AdsAPITargetFields").PUBLISHER_PLATFORMS]);return c.reduce(function(a,b){return l(a,b,d.eligibilityInformation)},a)});return E({action:d},c)}return a}};c=c.push(d,f);c=c.push(a);e.exports=c}),null);
__d("AdsCampaignReachFrequencyMutators",["AdsAPICampaignPaths","AdsMutators","AdsReachFrequencyFlowChangeDestinationActionFlux","AdsReachFrequencyFlowChangeLinkActionFlux"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").mutateEach,h=b("AdsMutators").setIn;function a(a,c){var d=c.action;switch(d.type){case b("AdsReachFrequencyFlowChangeDestinationActionFlux").actionType:return g(a,d.ids,function(a){return i(d.destinationID,d.appStoreUrl,d.isApp,a)});case b("AdsReachFrequencyFlowChangeLinkActionFlux").actionType:return g(a,d.ids,function(a){return h(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL,d.link,a)});default:return a}}function i(a,c,d,e){if(!d)return e;e=h(b("AdsAPICampaignPaths").PROMOTED_OBJECT.APPLICATION_ID,a,e);e=h(b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL,c,e);return e}c={reduce:a};e.exports=c}),null);
__d("AdsCampaignCombinedStore",["AdsAdObjectStores"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdObjectStores").AdsCampaignCombinedStore;e.exports=a}),null);
__d("AdsPERouteName",[],(function(a,b,c,d,e,f){"use strict";e.exports={ACCOUNTS:["AdsPE",["accounts"]],ACCOUNTS_HISTORY:["AdsPE",["accounts_history"]],ADS:["AdsPE",["ads"]],ADSETS:["AdsPE",["adsets"]],ADSETS_APP:["AdsPE",["adsets_app"]],ADSETS_EDIT:["AdsPE",["adsets_edit"]],ADSETS_HISTORY:["AdsPE",["adsets_history"]],ADSETS_INSIGHTS:["AdsPE",["adsets_insights"]],ADSETS_INSPECT:["AdsPE",["adsets_inspect"]],ADS_APP:["AdsPE",["ads_app"]],ADS_EDIT:["AdsPE",["ads_edit"]],ADS_HISTORY:["AdsPE",["ads_history"]],ADS_INSIGHTS:["AdsPE",["ads_insights"]],AD_OBJECT_APP:["AdsPE",["ad_object_app"]],AD_OBJECT_EDIT:["AdsPE",["ad_object_edit"]],AD_OBJECT_HISTORY:["AdsPE",["ad_object_history"]],AD_OBJECT_INSIGHTS:["AdsPE",["ad_object_insights"]],AD_OBJECT_INSPECT:["AdsPE",["ad_object_inspect"]],AD_OBJECT_SUMMARY:["AdsPE",["ad_object_summary"]],AUDIENCES:["AdsPE",["audiences"]],BUSINESS_REPORTING_VIEW:["AdsPE",["business_reporting_view"]],CAMPAIGNS:["AdsPE",["campaigns"]],CAMPAIGNS_APP:["AdsPE",["campaigns_app"]],CAMPAIGNS_EDIT:["AdsPE",["campaigns_edit"]],CAMPAIGNS_HISTORY:["AdsPE",["campaigns_history"]],CAMPAIGNS_INSIGHTS:["AdsPE",["campaigns_insights"]],CONTRACTS:["AdsPE",["contracts"]],CONVERSION_HEALTH:["AdsPE",["conversion_health"]],CREATION:["AdsPE",["creation"]],CREATIVES:["AdsPE",["creatives"]],EDIT_ADSETS_ON_GLOBAL_TREE:["AdsPE",["edit_adsets_on_global_tree"]],EDIT_ADS_ON_GLOBAL_TREE:["AdsPE",["edit_ads_on_global_tree"]],EDIT_CAMPAIGNS_ON_GLOBAL_TREE:["AdsPE",["edit_campaigns_on_global_tree"]],EMBED_L4_MANAGE_REPORTS:["AdsPE",["embed_l4_manage_reports"]],EMBED_L4_VIEW_REPORT:["AdsPE",["embed_l4_view_report"]],GLOBAL_TREE_VIEW:["AdsPE",["global_tree_view"]],IMAGES:["AdsPE",["images"]],LEARN:["AdsPE",["learn"]],MAIN:["AdsPE",["main"]],MANAGE_ADS:["AdsPE",["manage_ads"]],OPPORTUNITIES:["AdsPE",["opportunities"]],PAGES:["AdsPE",["pages"]],REPORTING:["AdsPE",["reporting"]],REPORTING_MANAGE:["AdsPE",["reporting_manage"]],REPORTING_VIEW:["AdsPE",["reporting_view"]],REPORTS:["AdsPE",["reports"]],RULES:["AdsPE",["rules"]],SCRIPTS:["AdsPE",["scripts"]],TEST:["AdsPE",["test"]],TEST_AND_LEARN:["AdsPE",["test_and_learn"]]}}),null);
__d("AdsAdgroupCombinedStore",["AdsAdObjectStores"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdObjectStores").AdsAdgroupCombinedStore;e.exports=a}),null);
__d("AdsCampaignGroupCombinedStore",["AdsAdObjectStores"],(function(a,b,c,d,e,f){"use strict";a=b("AdsAdObjectStores").AdsCampaignGroupCombinedStore;e.exports=a}),null);
__d("AdsCampaignGroupPromotedPageIDSelector",["AdsCampaignGroupCombinedStore","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateStoreSelector")([b("AdsCampaignGroupCombinedStore")],function(a){a=b("AdsCampaignGroupCombinedStore").getCached(a).getValueEnforcing();return(a=a)!=null?(a=a.promoted_object)!=null?a.page_id:a:a},e.id+".AdsCampaignGroupPromotedPageIDSelector");e.exports=a}),null);
__d("AdsPromotedObjectTypeStore",["AdsAPICampaignRecordUtils","AdsCampaignCombinedStore","AdsCampaignGroupCombinedStore","AdsDataAtom","AdsPromotedObjectTypes","AdsPromotedObjectTypeUIProvider","FluxDerivedStore","shallowEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPromotedObjectTypeUIProvider").toFluxStore();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__computeResult=function(a,c){a=c.campaign;var d=c.objective;c=c.uiState;return a==null||d==null?b("AdsPromotedObjectTypes").NONE:b("AdsAPICampaignRecordUtils").getPromotedObjectType(d,a,(d=c)!=null?d:void 0)};d.__getData=function(a){var c=b("AdsCampaignCombinedStore").getRecord(a).getValue(),d=c==null?void 0:c.campaign_id;d=d!=null?b("AdsCampaignGroupCombinedStore").get(d).getValue():null;return{campaign:c,objective:d==null?void 0:d.objective,uiState:g.getState().get(a)}};d.__getStores=function(){return[b("AdsCampaignCombinedStore"),b("AdsCampaignGroupCombinedStore"),g]};d.__areEqual=function(a,c){return b("shallowEqual")(a,c)};return c}(b("FluxDerivedStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsPageInstagramAccountStore",["AdsBaseDataStore","AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux","AdsInstagramAccountPageBatchLoadedDataActionFlux","AdsInstagramAccountPageBatchLoadErrorDataActionFlux","AdsInstagramAccountPageClearAccountsDataActionFlux","AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux","AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux","AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux","AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux","AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux","AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux","AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux","AdsInstagramAccountPageLinkAccountDataActionFlux","AdsInstagramAccountPageUnlinkAccountDataActionFlux","AdsLoadState_LEGACY","AdsPageInstagramAccountDataManager","InstagramAuthenticationErrorMessages","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b;b=a.call(this)||this;b.$AdsPageInstagramAccountStore1={};b.$AdsPageInstagramAccountStore2={};b.$AdsPageInstagramAccountStore3={};return b}var d=c.prototype;d.getDataManager=function(){return b("AdsPageInstagramAccountDataManager")};d.__getActionTypes=function(){return g?[b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType,b("AdsInstagramAccountPageBatchLoadErrorDataActionFlux").actionType,b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType,b("AdsInstagramAccountPageClearAccountsDataActionFlux").actionType,b("AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux").actionType,b("AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux").actionType,b("AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux").actionType,b("AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux").actionType,b("AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux").actionType,b("AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux").actionType,b("AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux").actionType,b("AdsInstagramAccountPageLinkAccountDataActionFlux").actionType,b("AdsInstagramAccountPageUnlinkAccountDataActionFlux").actionType]:null};d.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsInstagramAccountPageBatchLoadedDataActionFlux").actionType:this.__handleData(a.specs,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsInstagramAccountPageBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsInstagramAccountPageClearAccountsDataActionFlux").actionType:this.__invalidate(a.data.pageID);break;case b("AdsInstagramAccountPageCreateAndUsePageBackedDataActionFlux").actionType:if(this.$AdsPageInstagramAccountStore1[a.data.pageID]===b("AdsLoadState_LEGACY").LOADING)return;this.$AdsPageInstagramAccountStore1[a.data.pageID]=b("AdsLoadState_LEGACY").LOADING;this.__emitChange();b("AdsPageInstagramAccountDataManager").createAndUsePageBackedAccount(a.data.campaignID,a.data.adgroupIDs,a.data.pageID,a.data.accessToken,a.source,a.hostID);break;case b("AdsInstagramAccountPageCreatePageBackedErrorDataActionFlux").actionType:this.$AdsPageInstagramAccountStore4(a.data.pageID);break;case b("AdsInstagramAccountPageCreatePageBackedSuccessDataActionFlux").actionType:this.$AdsPageInstagramAccountStore5(a.data);break;case b("AdsInstagramAccountErrorRefreshAllErrorsDataActionFlux").actionType:this.__invalidateAllErrors()&&this.__emitChange();break;case b("AdsInstagramAccountPageLinkAccountDataActionFlux").actionType:this.$AdsPageInstagramAccountStore6(a.data.pageID,a.data.username,a.data.password);break;case b("AdsInstagramAccountPageUnlinkAccountDataActionFlux").actionType:this.$AdsPageInstagramAccountStore7(a.data.pageID,a.data.instagramAccountID);break;case b("AdsInstagramAccountPageHandleLinkAccountErrorDataActionFlux").actionType:case b("AdsInstagramAccountPageHandleUnlinkAccountErrorDataActionFlux").actionType:this.$AdsPageInstagramAccountStore8(a.data.pageID);break;case b("AdsInstagramAccountPageHandleLinkAccountResponseDataActionFlux").actionType:this.$AdsPageInstagramAccountStore9(a.data.pageID,a.data.instagramAccountID,a.data.errorMessages,a.data.errorCode);break;case b("AdsInstagramAccountPageHandleUnlinkAccountResponseDataActionFlux").actionType:this.$AdsPageInstagramAccountStore10(a.data.pageID,a.data.error,a.data.success);break}};d.getPageBackedAccountCreateState=function(a){return this.$AdsPageInstagramAccountStore1[a]?this.$AdsPageInstagramAccountStore1[a]:b("AdsLoadState_LEGACY").LOADED};d.getPageLinkOrUnlinkAccountErrors=function(a){return this.$AdsPageInstagramAccountStore2[a]?this.$AdsPageInstagramAccountStore2[a]:[]};d.getPageLinkOrUnlinkState=function(a){return this.$AdsPageInstagramAccountStore3[a]?this.$AdsPageInstagramAccountStore3[a]:b("AdsLoadState_LEGACY").LOADED};d.$AdsPageInstagramAccountStore5=function(a){a.instagramAccountIDCallback&&a.instagramAccountIDCallback(a.instagramAccountID),this.$AdsPageInstagramAccountStore1[a.pageID]=b("AdsLoadState_LEGACY").LOADED,this.__invalidate(a.pageID)};d.$AdsPageInstagramAccountStore4=function(a){this.$AdsPageInstagramAccountStore1[a]=b("AdsLoadState_LEGACY").ERROR,this.__emitChange()};d.$AdsPageInstagramAccountStore6=function(a,c,d){this.$AdsPageInstagramAccountStore2[a]=[],this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADING,b("AdsPageInstagramAccountDataManager").linkInstagramAccount(a,c,d),this.__emitChange()};d.$AdsPageInstagramAccountStore7=function(a,c){this.$AdsPageInstagramAccountStore2[a]=[],this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADING,b("AdsPageInstagramAccountDataManager").unlinkInstagramAccount(a,c),this.__emitChange()};d.$AdsPageInstagramAccountStore9=function(a,c,d,e){__p&&__p();this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;if(!c){c=d||[];e&&c.push(b("InstagramAuthenticationErrorMessages").getMessage(e));c.length===0&&c.push(b("InstagramAuthenticationErrorMessages").getMessage());this.$AdsPageInstagramAccountStore2[a]=c;this.__emitChange();return}this.__invalidate(a);this.__emitChange()};d.$AdsPageInstagramAccountStore10=function(a,c,d){this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;if(c||!d){this.$AdsPageInstagramAccountStore2[a]=[b("InstagramAuthenticationErrorMessages").getMessage(c)];this.__emitChange();return}this.__invalidate(a);this.__emitChange()};d.$AdsPageInstagramAccountStore8=function(a){this.$AdsPageInstagramAccountStore3[a]=b("AdsLoadState_LEGACY").LOADED;var c=b("InstagramAuthenticationErrorMessages").getMessage();this.$AdsPageInstagramAccountStore2[a]=[c];this.__emitChange()};return c}(b("AdsBaseDataStore"));e.exports=new a()}),null);
__d("AdsProductSetAssetEligibilityStore",["AdsDataAtom","AdsProductSetAssetEligibilityDataManager","AdsProductSetAssetEligibilityLoadedActionFlux","AdsProductSetAssetEligibilityLoadErrorActionFlux","FluxLoadObjectStore","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),b("AdsProductSetAssetEligibilityLoadErrorActionFlux").actionType,b("AdsProductSetAssetEligibilityLoadedActionFlux").actionType]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsProductSetAssetEligibilityLoadedActionFlux").actionType:var d=this.$AdsProductSetAssetEligibilityStore1(c.data);return this.__handleOne(a,c.productSetID,d);case b("AdsProductSetAssetEligibilityLoadErrorActionFlux").actionType:return this.__handleOne(a,c.productSetID,c.error);default:return a}};d.$AdsProductSetAssetEligibilityStore1=function(a){return b("immutable").Map(a.map(function(a){return[a.key,a]}))};d.__load=function(a){b("AdsProductSetAssetEligibilityDataManager").loadProductSetAssetEligibilityData(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsCampaignStoreSetters",["invariant","AdObjectLevels","AdsAccountStore","AdsAdgroupStoreUtils","AdsAPIAccountPaths","AdsAPIBidStrategies","AdsAPIBillingEvents","AdsAPICampaignGroupPaths","AdsAPICampaignPaths","AdsAPIObjectives","AdsAPIOptimizationGoals","AdsAPIToplinePaths","AdsAudienceSplittingUtils","AdsCampaignBudgetPluginResolver","AdsCampaignCreation","AdsCampaignGroupCombinedStore","AdsCampaignMigratePricingDataActionFlux","AdsCampaignPlacementAddDataActionFlux","AdsCampaignSetDeliveryDataActionFlux","AdsCampaignSetEndTimeDataActionFlux","AdsCampaignSetImpressionsDataActionFlux","AdsCampaignSetPromotedObjectDataActionFlux","AdsCampaignSetStartTimeAndEndTimeDataActionFlux","AdsCampaignSetStatusDataActionFlux","AdsCFCampaignCreationMode","AdsCFNewCampaignFBID","AdsCopyCopyCompletedDataActionFlux","AdsCopyDataManager","AdsCopySource","AdsCreateDuplicateCampaignByTargetingDataActionFlux","AdsCreateSplitTestByTargetingDataActionFlux","AdsDeliveryClarityOpenEditDialogActionFlux","AdsDeliveryPaths","AdsDynamicAudienceBatchCreatedDataActionFlux","AdsDynamicTargetingPackagePlugins","AdsDynamicTargetingTypes","AdsEmptyValue","AdsIterativeSplitTestCreationSource","AdsIterativeSplitTestUtils","AdsMessengerBidAmountUtils","AdsMixedValue","AdsPECampaignLiveStatusChangeActionFlux","AdsPECampaignRawCombinedTableStore","AdsProductAudienceSpecsUtils","AdsProductSetBatchCreatedActionFlux","AdsProductSetCreationSources","AdsPromotedObjectTypes","AdsReachFrequencyAddNewTimeBasedAdRotationActionFlux","AdsReachFrequencyAdjustRotationOnAdsetChangeActionFlux","AdsReachFrequencyDeleteTimeBasedAdRotationActionFlux","AdsReachFrequencyDeliveryOptions","AdsReachFrequencyDestinationUtils","AdsReachFrequencyFlowChangeDestinationActionFlux","AdsReachFrequencyFlowChangeInstagramDestinationActionFlux","AdsReachFrequencySetDeliveryMethodActionFlux","AdsReachFrequencyUpdateTimeBasedAdRotationIdBlocksActionFlux","AdsReachFrequencyUpdateTimeBasedAdRotationIntervalActionFlux","AdsSequencingConfirmSequenceDataActionFlux","AdsSetMessengerPromotedObjectSource","AdsToplineUtils","AdsUEditorAdgroupSetInstagramAccountDataAction","AdsUEditorAdgroupSetLoadedProductSetIDAction","AdsUEditorAdgroupSetUseDynamicDataAction","AdsUEditorCampaignSetOfflineFromPageSetPromotedObjectTypeDataActionFlux","AdsUEditorCampaignSetPageSetFromOfflinePromotedObjectTypeDataActionFlux","AdsUEditorHostIDs","AdsUniformValue","AdsWebsiteOptimizationUtil","DateConsts","DateTime","DayPartingUtils","FBLogger","ads-budgetImpsConverter","adsCampaignGetDefaultLifetimeBudget","adsCampaignGetDefaultStartDate","adsCampaignGetISODateTimeString","adsCampaignIsCampaignGroupBudget","areEqual","getBulkByPath","getByPath","isEmpty","nullthrows","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsAccountStore").getSelectedAccountIDX,i=b("AdsReachFrequencyDeliveryOptions").AdsReachFrequencyDeliveryOptions,j=b("ads-budgetImpsConverter").Converter,k=b("AdsProductAudienceSpecsUtils").mergeProductAudienceWithPromotedProductSetID,l=100;a=function(){__p&&__p();function a(){this.$1=null}var c=a.prototype;c.$2=function(a,c,d){this.$1?this.$1(a,c,d):b("FBLogger")("ads").mustfix("called setPath but setPath callback not set")};c.handleDispatch=function(a,c){__p&&__p();var d=this,e=a.action;this.$1=c;switch(e.type){case b("AdsCreateDuplicateCampaignByTargetingDataActionFlux").actionType:this.$3(e.campaign,e.draftID,e.audienceSplittingSpecs,e.budget);break;case b("AdsCreateSplitTestByTargetingDataActionFlux").actionType:this.$3(e.campaign,e.draftID,e.audienceSplittingSpecs,e.budget,!0);break;case b("AdsSequencingConfirmSequenceDataActionFlux").actionType:this.$4([e.campaignID],e.sequence);break;case b("AdsCampaignSetEndTimeDataActionFlux").actionType:this.$5(e.ids,e.endTime,b("AdsAPICampaignPaths").END_TIME);break;case b("AdsCampaignSetStartTimeAndEndTimeDataActionFlux").actionType:this.$6(e.ids,e.startTime,e.endTime);break;case b("AdsCampaignSetImpressionsDataActionFlux").actionType:this.$7(e.ids,e.lifetimeImpressions,e.topline,e.isCorporate,e.buyingType,e.offset);break;case b("AdsCampaignMigratePricingDataActionFlux").actionType:this.$8(e.ids);break;case b("AdsProductSetBatchCreatedActionFlux").actionType:a=e.source;a&&!this.$9(a.campaignIDs)&&(a.spec===b("AdsProductSetCreationSources").PROMOTED_OBJECT?(b("promiseDone")(b("AdsAdgroupStoreUtils").loadAdgroupIDsInCampaigns(a.campaignIDs),function(a){return b("AdsUEditorAdgroupSetUseDynamicDataAction").dispatch({hostID:b("AdsUEditorHostIDs").EDITING,adgroupIDs:a,productSetID:e.productSetID},{line:"199",module:"AdsCampaignStoreSetters.js"})}),this.$10(a.campaignIDs,e.productSetID)):a.spec===b("AdsProductSetCreationSources").PRODUCT_AUDIENCE_SPECS&&this.$11(a.campaignIDs,{product_set_id:e.productSetID}));break;case b("AdsDynamicAudienceBatchCreatedDataActionFlux").actionType:this.$12(e.ids,e.dynamicAudienceIds,e.isExcludedDynamicAudience);break;case b("AdsCampaignSetPromotedObjectDataActionFlux").actionType:this.$13(e.campaignIDs,e.promotedObject);break;case b("AdsCampaignPlacementAddDataActionFlux").actionType:e.eventSource===b("AdsSetMessengerPromotedObjectSource").SELECT_SPONSORED_MESSAGE_IN_PE&&(this.$14(e.ids),this.$15(e.ids),this.$16(e.ids,!0));break;case b("AdsUEditorCampaignSetOfflineFromPageSetPromotedObjectTypeDataActionFlux").actionType:case b("AdsUEditorCampaignSetPageSetFromOfflinePromotedObjectTypeDataActionFlux").actionType:this.$17(e.campaignIDs,b("AdsWebsiteOptimizationUtil").getUnifiedPixelPromotedObject(null));break;case b("AdsCampaignSetDeliveryDataActionFlux").actionType:this.$18(e.ids,e.deliverySpec,e.oldBulkSpec);break;case b("AdsDeliveryClarityOpenEditDialogActionFlux").actionType:c=e.deliverySpecChanges;c!=null&&this.$18(c.ids,c.deliverySpec,c.oldBulkSpec);break;case b("AdsCampaignSetStatusDataActionFlux").actionType:this.$19(e.ids,e.status);break;case b("AdsReachFrequencyFlowChangeInstagramDestinationActionFlux").actionType:this.$20(e.ids,e.instagramActorID);break;case b("AdsReachFrequencySetDeliveryMethodActionFlux").actionType:this.$21(e.ids,e.deliverySelection===i.SEQUENCING,e.originalCampaigns);e.deliverySelection===i.TIME_BASED?this.$22(e.ids,e.timeRotationIdBlocks,e.timeRotationIntervals):this.$23(e.ids);break;case b("AdsReachFrequencyUpdateTimeBasedAdRotationIdBlocksActionFlux").actionType:this.$24(e.ids,e.idBlock,e.index);break;case b("AdsReachFrequencyUpdateTimeBasedAdRotationIntervalActionFlux").actionType:this.$25(e.ids,e.interval,e.index);break;case b("AdsReachFrequencyAddNewTimeBasedAdRotationActionFlux").actionType:this.$26(e.ids,e.endDate,e.timezoneID);break;case b("AdsReachFrequencyDeleteTimeBasedAdRotationActionFlux").actionType:this.$27(e.ids,e.index);break;case b("AdsReachFrequencyAdjustRotationOnAdsetChangeActionFlux").actionType:this.$28(e.endTime,e.ids,e.startTime);break;case b("AdsReachFrequencyFlowChangeDestinationActionFlux").actionType:if(this.$9(e.ids))break;var f=e.destinationID;e.ids.forEach(function(a){var c=d.$29(a);c=b("getByPath")(c,b("AdsAPICampaignPaths").CAMPAIGN_ID);c=b("AdsCampaignGroupCombinedStore").getCached(c).getValue();c=b("getByPath")(c,b("AdsAPICampaignGroupPaths").OBJECTIVE,b("AdsAPIObjectives").NONE);b("AdsReachFrequencyDestinationUtils").isDestinationPromotedObjectPage(c)&&d.$30([a],f)});break;case b("AdsCopyCopyCompletedDataActionFlux").actionType:e.responses.forEach(function(a){a.extraData&&a.extraData.audiences&&d.$31(a.fragments,a.extraData.audiences.audienceSplittingSpecs,a.extraData.audiences.budget)});break;case b("AdsPECampaignLiveStatusChangeActionFlux").actionType:this.$2(b("AdsAPICampaignPaths").STATUS,e.ids,e.runStatus);break}this.$1=null};c.$29=function(a){return b("AdsPECampaignRawCombinedTableStore").get(a).getValueEnforcing()};c.$23=function(a){var c=this;a.forEach(function(a){var d=c.$29(a),e=b("getByPath")(d,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS);e&&e.length>0&&c.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,[a],[]);e=b("getByPath")(d,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS);e&&e.length>0&&c.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,[a],[])})};c.$3=function(a,c,d,e,f){__p&&__p();var i=d.shift();this.$32(a,i,e);c||g(0,5207);i=h();var j=b("getByPath")(a,b("AdsAPICampaignPaths").ID);e={audienceSplittingSpecs:d,budget:e};f=f?{campaignGroupID:a.campaign_id,creationSource:b("AdsIterativeSplitTestCreationSource").ITERATIVE_AUDIENCE_SPLITTING_TOOL,draftConfigID:b("AdsIterativeSplitTestUtils").createIterativeSplitTestConfigDraftID(),originalCampaignID:j}:null;a={audiences:e,count:d.length,iterativeSplitTestCreationData:f};e={ids:[j],accountID:i,draftID:c,newParentID:null,extraData:a,requestID:0};b("AdsCopyDataManager").copy([e],b("AdsCopySource").DUPLICATE_CAMPAIGN_BY_TARGETING)};c.$32=function(a,c,d){var e=this,f=b("AdsAudienceSplittingUtils").applySplittingSpec(a,c,d);c=[b("AdsAPICampaignPaths").DAILY_BUDGET,b("AdsAPICampaignPaths").LIFETIME_BUDGET,b("AdsAPICampaignPaths").NAME,b("AdsAPICampaignPaths").SAVED_AUDIENCE.path,b("AdsAPICampaignPaths").SAVED_AUDIENCE_ID,b("AdsAPICampaignPaths").TARGETING.path];c.forEach(function(c){var d=b("getByPath")(f,c);d&&e.$2(c,[a.id],d)})};c.$31=function(a,c,d){var e=this,f=0;a.map(function(a){if(a.ad_object_type===b("AdObjectLevels").CAMPAIGN){a=e.$29(a.ad_object_id);b("isEmpty")(a)||e.$32(a,c[f++],d)}})};c.$11=function(a,c){__p&&__p();var d=this;if(!c){a.forEach(function(a){d.$2(b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS,[a],null)});return}a.forEach(function(a){var e=d.$29(a);e=b("getByPath")(e,b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS);e&&e.length>0?e=babelHelpers["extends"]({},e[0],c):e=babelHelpers["extends"]({},b("AdsDynamicTargetingPackagePlugins").get(b("AdsDynamicTargetingTypes").VIEWED_ADDED_TO_CART_NOT_PURCHASED).defaultFields[0],c);d.$2(b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS,[a],[e])})};c.$33=function(a,c){this.$2(b("AdsAPICampaignPaths").BID_AMOUNT,a,c)};c.$4=function(a,c){this.$2(b("AdsAPICampaignPaths").CREATIVE_SEQUENCE,a,c)};c.$22=function(a,c,d){this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,a,c),this.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,a,d)};c.$28=function(a,c,d){var e=this;if(this.$9(c))return;c.forEach(function(c){var f=e.$29(c);f=b("getByPath")(f,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS);if(!f||f.length===0)return;(a-d<=b("DateConsts").SEC_PER_DAY||f[0]!==d||f[f.length-1]>=a)&&(e.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,[c],[]),e.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,[c],[]))})};c.$24=function(a,c,d){var e=this;a.forEach(function(a){var f=e.$29(a);f=b("getByPath")(f,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS);if(f&&d<f.length){f=f.slice();f[d]=c;e.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,[a],f)}})};c.$25=function(a,c,d){var e=this;a.forEach(function(a){var f=e.$29(a);f=b("getByPath")(f,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS);if(f&&d<f.length){f=f.slice();f[d]=c;e.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,[a],f)}})};c.$26=function(a,c,d){__p&&__p();var e=this;a.forEach(function(a){__p&&__p();var f=e.$29(a),g=b("getByPath")(f,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS);if(g&&g.length>0){var h=g.slice();g=g[g.length-1];var i=(c-g)/b("DateConsts").SEC_PER_DAY;g=g+Math.ceil(i/2)*b("DateConsts").SEC_PER_DAY;i=new(b("DateTime"))(g,d);i.getHours()===1?g-=b("DateConsts").SEC_PER_HOUR:i.getHours()===23&&(g+=b("DateConsts").SEC_PER_HOUR);h.push(g);e.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,[a],h);i=b("getByPath")(f,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS);g=i.slice();g.push(i[i.length-1]);e.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,[a],g)}})};c.$27=function(a,c){__p&&__p();var d=this;a.forEach(function(a){var e=d.$29(a),f=b("getByPath")(e,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS);if(f&&f.length>=3){var g=f.slice();e=b("getByPath")(e,b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS);e=e.slice();c===f.length-1?(g.splice(c,1),e.splice(c,1)):(g.splice(c+1,1),e.splice(c+1,1));d.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_INTERVALS,[a],g);d.$2(b("AdsAPICampaignPaths").TIME_BASED_AD_ROTATION_ID_BLOCKS,[a],e)}})};c.$5=function(a,c,d){if(c){var e=b("getByPath")(b("AdsAccountStore").getSelectedAccount_LEGACY(),b("AdsAPIAccountPaths").TIMEZONE_ID);c=b("DateTime").create(c,e).toISOString();this.$2(d,a,c)}};c.$6=function(a,c,d){this.$5(a,c,b("AdsAPICampaignPaths").START_TIME),this.$5(a,d,b("AdsAPICampaignPaths").END_TIME)};c.$7=function(a,c,d,e,f,g){__p&&__p();var h=this;a.forEach(function(a){__p&&__p();var f=h.$29(a);if(d){var i=b("AdsToplineUtils").allowPriceOverride(d);if(!i){i=b("getByPath")(d,b("AdsAPIToplinePaths").FUNC_PRICE);i=j.convertToBudget(c,i);var k=i*g;i=h.$34(k);h.$2(b("AdsAPICampaignPaths").LIFETIME_BUDGET,[a],i)}h.$2(b("AdsAPICampaignPaths").LIFETIME_IMPS,[a],c)}else if(!e){h.$2(b("AdsAPICampaignPaths").LIFETIME_IMPS,[a],c);k=b("getByPath")(f,b("AdsAPICampaignPaths").EXTERNAL_BID);if(k){i=j.convertToBudget(c,k);i=h.$34(i);h.$2(b("AdsAPICampaignPaths").LIFETIME_BUDGET,[a],i)}}})};c.$34=function(a){return a>l?a:l};c.$35=function(a,c){this.$2(b("AdsAPICampaignPaths").PACING_TYPE,a,c)};c.$10=function(a,c){var d=this;a.forEach(function(a){var e=d.$29(a),f=k(e,b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS,c);e=k(e,b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PRODUCT_AUDIENCE_SPECS,c);d.$2(b("AdsAPICampaignPaths").TARGETING.PRODUCT_AUDIENCE_SPECS,[a],f);d.$2(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_PRODUCT_AUDIENCE_SPECS,[a],e)});this.$2(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PRODUCT_SET_ID,a,c);b("promiseDone")(b("AdsAdgroupStoreUtils").loadAdgroupIDsInCampaigns(a),function(a){return b("AdsUEditorAdgroupSetLoadedProductSetIDAction").dispatch({adgroupIDs:a,hostID:b("AdsUEditorHostIDs").EDITING,productSetID:c},{line:"868",module:"AdsCampaignStoreSetters.js"})})};c.$12=function(a,c,d){d?(this.$2(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_DYNAMIC_AUDIENCE_IDS,a,c),this.$2(b("AdsAPICampaignPaths").TARGETING.DYNAMIC_AUDIENCE_IDS,a,[])):(this.$2(b("AdsAPICampaignPaths").TARGETING.DYNAMIC_AUDIENCE_IDS,a,c),this.$2(b("AdsAPICampaignPaths").TARGETING.EXCLUDED_DYNAMIC_AUDIENCE_IDS,a,[]))};c.$19=function(a,c){this.$2(b("AdsAPICampaignPaths").STATUS,a,c)};c.$18=function(a,c,d){__p&&__p();var e=this;b("AdsDeliveryPaths").forEach(function(f){__p&&__p();if(f===b("AdsAPICampaignPaths").PACING_TYPE)return;var g=b("getByPath")(c,f)||b("AdsEmptyValue").instance(),h=b("getBulkByPath")(d,f)||b("AdsEmptyValue").instance(),i=g instanceof b("AdsUniformValue");if(!i)return;i=h instanceof b("AdsMixedValue");if(!i&&f!==b("AdsAPICampaignPaths").BID_AMOUNT&&b("areEqual")(h.getValue(),g.getValue()))return;i=g.getValue();i===void 0&&(i=null);e.$2(f,a,i)});var f=b("AdsAPICampaignPaths").PACING_TYPE,g=b("getByPath")(c,f)||b("AdsEmptyValue").instance();if(g instanceof b("AdsUniformValue")){var h=g.getValue();h===void 0&&(h=null);this.$2(f,a,h)}else if(g instanceof b("AdsMixedValue")){var i=g.getValues();a.forEach(function(a,b){e.$35([a],i[b])})}};c.$21=function(a,c,d){var e=this;a.forEach(function(a){var f=[];if(c){var g=d?d.get(a):null;f=b("getByPath")(g,b("AdsAPICampaignPaths").CREATIVE_SEQUENCE,[])}e.$2(b("AdsAPICampaignPaths").CREATIVE_SEQUENCE,[a],f)})};c.$8=function(a){__p&&__p();var c=this;a.forEach(function(a){__p&&__p();var d=c.$29(a),e=b("AdsAccountStore").getSelectedAccount_LEGACY();d=b("getByPath")(d,b("AdsAPICampaignPaths").CAMPAIGN_ID);d=b("AdsCampaignGroupCombinedStore").getCached(d).getValue();d=d?b("AdsCampaignCreation").getDefaultPricing(d,e):null;if(!d)return;c.$2(b("AdsAPICampaignPaths").BILLING_EVENT,[a],d.billing_event);c.$2(b("AdsAPICampaignPaths").OPTIMIZATION_GOAL,[a],d.optimization_goal);c.$2(b("AdsAPICampaignPaths").IS_AUTOBID,[a],d.is_autobid);c.$2(b("AdsAPICampaignPaths").BID_AMOUNT,[a],d.bid_amount)})};c.$16=function(a,c){var d=this;a.forEach(function(a){var e=d.$29(a);e=b("getByPath")(e,b("AdsAPICampaignPaths").PACING_TYPE);var f=!1;d.$36(a)||d.$35([a],b("DayPartingUtils").setPacingType(Array.isArray(e)?e.slice():[],c,f))})};c.$13=function(a,c){this.$2(b("AdsAPICampaignPaths").PROMOTED_OBJECT.path,a,c)};c.$30=function(a,c){this.$2(b("AdsAPICampaignPaths").PROMOTED_OBJECT.PAGE_ID,a,c)};c.$17=function(a,c){var d=this;b("AdsWebsiteOptimizationUtil").getPixelOptimizationFields().forEach(function(e){return d.$2([].concat(b("AdsAPICampaignPaths").PROMOTED_OBJECT.path,[e]),a,c[e])})};c.$14=function(a){var c=this,d=b("AdsAccountStore").getSelectedAccount_LEGACY(),e=b("getByPath")(d,b("AdsAPIAccountPaths").CURRENCY),f=b("getByPath")(d,b("AdsAPIAccountPaths").TIMEZONE_OFFSET_HOURS_UTC),g=b("adsCampaignGetDefaultStartDate")(),h=new Date(g);h.setDate(g.getDate()+7);var i=b("adsCampaignGetDefaultLifetimeBudget")(e,b("AdsCampaignBudgetPluginResolver").resolve({objective:b("AdsAPIObjectives").MESSAGES,promotedObjectType:b("AdsPromotedObjectTypes").SPONSORED_MESSAGES}),null,null);a.forEach(function(a){c.$36(a)||(c.$2(b("AdsAPICampaignPaths").DAILY_BUDGET,[a],0),c.$2(b("AdsAPICampaignPaths").LIFETIME_BUDGET,[a],i)),c.$2(b("AdsAPICampaignPaths").START_TIME,[a],b("adsCampaignGetISODateTimeString")(g,f)),c.$2(b("AdsAPICampaignPaths").END_TIME,[a],b("adsCampaignGetISODateTimeString")(h,f))})};c.$15=function(a){var c=this,d=b("AdsAccountStore").getSelectedAccount_LEGACY(),e=b("getByPath")(d,b("AdsAPIAccountPaths").CURRENCY),f=b("getByPath")(d,b("AdsAPIAccountPaths").BUSINESS_COUNTRY_CODE);a.forEach(function(a){c.$36(a)||(c.$2(b("AdsAPICampaignPaths").IS_AUTOBID,[a],!1),c.$2(b("AdsAPICampaignPaths").IS_AVERAGE_PRICE_PACING,[a],!1),c.$2(b("AdsAPICampaignPaths").BID_STRATEGY,[a],b("AdsAPIBidStrategies").LOWEST_COST_WITH_BID_CAP),c.$2(b("AdsAPICampaignPaths").BID_AMOUNT,[a],b("AdsMessengerBidAmountUtils").getDefaultBidAmount(e,f))),c.$2(b("AdsAPICampaignPaths").BILLING_EVENT,[a],b("AdsAPIBillingEvents").IMPRESSIONS),c.$2(b("AdsAPICampaignPaths").OPTIMIZATION_GOAL,[a],b("AdsAPIOptimizationGoals").IMPRESSIONS)})};c.$9=function(a){return a.some(function(a){return a.startsWith(b("AdsCFNewCampaignFBID"))||Object.keys(b("AdsCFCampaignCreationMode")).some(function(c){return a.startsWith(c+"_"+b("AdsCFNewCampaignFBID"))})})};c.$20=function(a,c){if(this.$9(a))return;b("promiseDone")(b("AdsAdgroupStoreUtils").loadAdgroupIDsInCampaigns(a),function(a){b("AdsUEditorAdgroupSetInstagramAccountDataAction").dispatch({hostID:b("AdsUEditorHostIDs").EDITING,adgroupIDs:a,instagramAccountID:c},{line:"1181",module:"AdsCampaignStoreSetters.js"})})};c.$36=function(a){return b("adsCampaignIsCampaignGroupBudget")(this.$29(a))};return a}();e.exports=a}),null);
__d("AdsAdgroupLiveListStore",["AdObjectLevels","AdsAdgroupListBatchLoadedDataActionFlux","AdsAdgroupListBatchLoadErrorDataActionFlux","AdsAdgroupListLoadErrorDataActionFlux","AdsAdgroupLiveListDataManager","AdsAPIAdCampaignFields","AdsBaseListStore","AdsCreatePublishedFromCreationActionFlux","AdsDraftDraftCloseAfterSyncDataActionFlux","AdsDraftDraftPublishCompletedDataActionFlux","AdsLoadState_LEGACY","AdsPEExportDataPreloadedActionFlux","adsDraftGetIDsToInvalidateAfterPublish","adsDraftIsApplicationIDPowerEditor","gkx","naturalComparator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdgroupLiveListDataManager").AdsAdgroupLiveListDataManager,h=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return g};d.getForCampaigns=function(a,b){var c=this,d=this.__updateLoadingFor(b);d.length>0&&g.loadForCampaigns(a,d);var e=new Map();b.forEach(function(a){e.set(a,c.getCachedFor(a))});return e};d.getForCampaign=function(a,b){return this.getForCampaigns(a,[b]).get(b)};d.getForCampaignGroups=function(a,b){var c=this,d=this.__updateLoadingFor(b);d.length>0&&g.loadForCampaignGroups(a,b);var e=new Map();b.forEach(function(a){e.set(a,c.getCachedFor(a))});return e};d.getForCampaignGroup=function(a,b){return this.getForCampaignGroups(a,[b]).get(b)};d.getForAccount=function(a){var b=this.__updateLoadingFor([a]);b.length===1&&g.loadForAccount(a);return this.getCachedFor(a)};d.__getActionTypes=function(){return h?[b("AdsAdgroupListBatchLoadErrorDataActionFlux").actionType,b("AdsAdgroupListBatchLoadedDataActionFlux").actionType,b("AdsAdgroupListLoadErrorDataActionFlux").actionType,b("AdsCreatePublishedFromCreationActionFlux").actionType,b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType,b("AdsDraftDraftPublishCompletedDataActionFlux").actionType,b("AdsPEExportDataPreloadedActionFlux").actionType]:null};d.__onDispatch=function(a){__p&&__p();var c=this;a=a.action;if(!b("adsDraftIsApplicationIDPowerEditor")(a.adsApplicationID))return;switch(a.actionType){case b("AdsAdgroupListBatchLoadedDataActionFlux").actionType:a.responses.forEach(function(a,d){c.__handleDataFor(d,a,b("AdsLoadState_LEGACY").LOADED)});break;case b("AdsAdgroupListBatchLoadErrorDataActionFlux").actionType:a.responses.forEach(function(a,d){c.__handleDataFor(d,null,b("AdsLoadState_LEGACY").ERROR)});break;case b("AdsAdgroupListLoadErrorDataActionFlux").actionType:this.__handleDataFor(a.campaignID,null,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsPEExportDataPreloadedActionFlux").actionType:this.$AdsAdgroupLiveListStore1(a.childMap.adgroup);break;case b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType:this.$AdsAdgroupLiveListStore2(a.publishedObjectIDs);break;case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:var d=b("adsDraftGetIDsToInvalidateAfterPublish")(a);this.$AdsAdgroupLiveListStore2(d);break;case b("AdsCreatePublishedFromCreationActionFlux").actionType:this.$AdsAdgroupLiveListStore3(a.data.publishedObjectIDs);break}};d.getSortKey=function(){return b("AdsAPIAdCampaignFields").NAME};d.compare=function(a,c){return b("naturalComparator")(a,c)};d.$AdsAdgroupLiveListStore2=function(a){var b=this;if(!a)this.__invalidateEntireCache()&&this.__emitChange();else{a=a.map(function(a){return b.__invalidate(a)});a.some(function(a){return a})&&this.__emitChange()}};d.$AdsAdgroupLiveListStore1=function(a){var c=this;a.forEach(function(a,d){c.__handleDataFor(d,a,b("AdsLoadState_LEGACY").LOADED)})};d.$AdsAdgroupLiveListStore3=function(a){var c=this;a[b("AdObjectLevels").CAMPAIGN].forEach(function(a){return c.__invalidate(a)});a[b("AdObjectLevels").CAMPAIGN_GROUP].forEach(function(a){return c.__invalidate(a)})};return c}(b("AdsBaseListStore"));e.exports=new a()}),null);
__d("AdsBaseCombinedListStore",["AdsBaseListStore","AdsDataAtom","FluxDerivedStore","abstractMethod","shallowArrayEqual"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(d,a);var c=d.prototype;c.$AdsBaseCombinedListStore1=function(b){var c=this;b=a.prototype.getAll.call(this,b);var d=new Map();b.forEach(function(a,b){b=c.$AdsBaseCombinedListStore2(b);b=b.parentID;d.set(b,a)});return d};c.getLoadingList=function(){return b("AdsBaseListStore").getLoadingList()};c.__getAllCached=function(a){return b("abstractMethod")("__getAllCached","AdsBaseCombinedListStore")};c.__getLiveList=function(a,c,d){return b("abstractMethod")("__getLiveList","AdsBaseCombinedListStore")};c.__getAllDraftIDsForAccount=function(a){return b("abstractMethod")("__getAllDraftIDsForAccount","AdsBaseCombinedListStore")};c.__getParentIDForDraftChild=function(a,c){return b("abstractMethod")("__getParentIDForDraftChild","AdsBaseCombinedListStore")};c.__startLoadingDataFor=function(a,b,c){};c.__getFor=function(a,b,c){return this.get(this.$AdsBaseCombinedListStore3(a,b,c))};c.__getForAll=function(a,b,c){var d=this,e=c.map(function(c){return d.$AdsBaseCombinedListStore3(a,b,c)});this.__startLoadingDataFor(a,b,c);return this.$AdsBaseCombinedListStore1(e)};c.__computeResult=function(a,b){return b};c.__getData=function(a){__p&&__p();var b=this;a=this.$AdsBaseCombinedListStore2(a);var c=a.accountID,d=a.parentType,e=a.parentID;a=this.__getAllDraftIDsForAccount(c);c=this.__getLiveList(c,d,e);a=a.filter(function(a){return b.__getParentIDForDraftChild(a,d)===e});if(a.size===0)return c;else{var f=c.loadState;a=a.toArray().concat(c.list);return{loadState:f,list:a}}};c.__areEqual=function(a,c){return a.loadState===c.loadState&&b("shallowArrayEqual")(a.list,c.list)};c.$AdsBaseCombinedListStore3=function(a,b,c){return[a,b,c].join(":")};c.$AdsBaseCombinedListStore2=function(a){a=a.split(":");var b=a[0],c=a[1];a=a[2];c=c;return{accountID:b,parentType:c,parentID:a}};function d(){return a.call(this,b("AdsDataAtom"))||this}return d}(b("FluxDerivedStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("AdsAdgroupCombinedListStore",["invariant","AdsAdgroupCombinedStore","AdsAdgroupDraftFragmentStore","AdsAdgroupLiveListStore","AdsBaseCombinedListStore","AdsCampaignDraftFragmentStore","AdsCampaignGroupDraftFragmentStore","AdsDataAtom","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={loadState:b("AdsLoadState_LEGACY").LOADED,list:[]};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getForCampaignsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),function(a){var b=a[0];a=a[1];return d.getForCampaigns(b,a)}),d.getAdgroupIDsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),function(c,e){var f=[];c=a.prototype.__getForAll.call(babelHelpers.assertThisInitialized(d),c,"campaign",[e]);Array.from(c.values()).forEach(function(a){b("AdsLoadStateUtils_LEGACY").isLoaded(a)&&f.push.apply(f,a.list)});return f}),d.getForCampaignGroupsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getForCampaignGroups.bind(babelHelpers.assertThisInitialized(d))),d.getCampaignIDForDraftAdgroupSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),function(a){return d.__getParentIDForDraftChild(a,"campaign")}),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getForCampaigns=function(b,c){return a.prototype.__getForAll.call(this,b,"campaign",c)};d.getForCampaign=function(a,b){return this.getForCampaigns(a,[b]).get(b)};d.getForCampaignGroups=function(b,c){return a.prototype.__getForAll.call(this,b,"campaignGroup",c)};d.getForAccount=function(b){return a.prototype.__getFor.call(this,b,"account",b)};d.__getAllDraftIDsForAccount=function(a){return b("AdsAdgroupDraftFragmentStore").getNewIDsFor(a)};d.__getLiveList=function(a,c,d){switch(c){case"account":return b("AdsAdgroupLiveListStore").getForAccount(a);case"campaign":c=d;return b("AdsCampaignDraftFragmentStore").isNew(c)?h:b("AdsAdgroupLiveListStore").getForCampaign(a,c);case"campaignGroup":c=d;return b("AdsCampaignGroupDraftFragmentStore").isNew(c)?h:b("AdsAdgroupLiveListStore").getForCampaignGroup(a,c);default:g(0,620)}};d.__getParentIDForDraftChild=function(a,c){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupCombinedStore").getDispatchToken()]);a=b("AdsAdgroupCombinedStore").getCached(a).getValue();if(!a)return null;switch(c){case"account":return a.account_id;case"campaign":return a.adset_id;case"campaignGroup":return a.campaign_id;default:g(0,620)}};d.__startLoadingDataFor=function(a,c,d){__p&&__p();if(c==="campaign"){var e=d.filter(function(a){return!b("AdsCampaignDraftFragmentStore").isNew(a)});b("AdsAdgroupLiveListStore").getForCampaigns(a,e)}else if(c==="campaignGroup"){e=d.filter(function(a){return!b("AdsCampaignGroupDraftFragmentStore").isNew(a)});b("AdsAdgroupLiveListStore").getForCampaignGroups(a,e)}};d.__getStores=function(){return[b("AdsAdgroupCombinedStore"),b("AdsAdgroupDraftFragmentStore"),b("AdsAdgroupLiveListStore"),b("AdsCampaignDraftFragmentStore"),b("AdsCampaignGroupDraftFragmentStore")]};return c}(b("AdsBaseCombinedListStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsAdgroupDraftFragmentStore",["AdsAdgroupDraftFragmentsDataProvider","AdsBaseDraftFragmentStore","AdsEditingAdgroupDataReducerUtils","AdsEditingDraftFragmentsLegacyFluxReduce","AdsAdgroupDraftFragmentsDataProviderReducerWeakRequires"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsBaseDraftFragmentStore").AdsBaseExternalStateDraftFragmentStore;b("AdsEditingAdgroupDataReducerUtils");b("AdsEditingDraftFragmentsLegacyFluxReduce");b("AdsAdgroupDraftFragmentsDataProviderReducerWeakRequires");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("AdsAdgroupDraftFragmentsDataProvider").toFluxStore())||this}return c}(a);e.exports=new c()}),null);
__d("AdsBaseDraftFragmentStore",["requireCond","AdsDataAtom","AdsDraftFragmentStoreStateMutators","AdsDraftFragmentStoreStateReducers","AdsDraftFragmentStoreStateUtils","cr:828562","FluxStore","abstractMethod","adsCreateStoreSelector","adsCreateStoreThunkSelector","gkx","immutable","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[/AdsDraft\.DRAFT_FRAGMENT/,/ADS_INTERFACES_ROUTE-UPDATE_PARAMS/,/AdsDraft\.DRAFT/,/ACCOUNT\./,/ADS_CM_ROUTE_INIT/,/BIZ_NOTIFICATION\./,/BusinessUnifiedNavigationDataProviderPluginSetStateAction/,/AdsBootloadedStoreModuleLoadedDataActionPlugin/,/ADS_INTERFACES_ROUTE-DATA_FETCHED/,/AdsUserProviderPluginSetStateAction/,/AdsIntelligentComponents\./,/ads_settings_loaded/];a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(g))||this,d.getSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.get.bind(babelHelpers.assertThisInitialized(d))),d.getRawSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getRaw.bind(babelHelpers.assertThisInitialized(d))),d.getAllSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getAll.bind(babelHelpers.assertThisInitialized(d))),d.getParentIDSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getParentID.bind(babelHelpers.assertThisInitialized(d))),d.hasDraft=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(a){return b("AdsDraftFragmentStoreStateUtils").hasDraft(d.__getState(),a)},e.id),d.getHasDraftSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.hasDraft.bind(babelHelpers.assertThisInitialized(d))),d.getChangedFieldsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getChangedFields.bind(babelHelpers.assertThisInitialized(d))),d.getNewIDsForSelector=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],d.getNewIDsFor.bind(babelHelpers.assertThisInitialized(d)),e.id),d.getIsDirtySelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.isDirty.bind(babelHelpers.assertThisInitialized(d))),d.getIsNewSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.isNew.bind(babelHelpers.assertThisInitialized(d))),d.getIsDeletedSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.isDeleted.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.__getState=function(){return b("abstractMethod")(e.id,"__getState")};d.getDraftID=function(){return b("AdsDraftFragmentStoreStateUtils").getDraftID(this.__getState())};d.getObjectType=function(){return b("AdsDraftFragmentStoreStateUtils").getObjectType(this.__getState())};d.getLiveStore=function(){return b("AdsDraftFragmentStoreStateUtils").getLiveStore(this.__getState())};d.get=function(a){return b("AdsDraftFragmentStoreStateUtils").get(this.__getState(),a)};d.getRaw=function(a){return b("AdsDraftFragmentStoreStateUtils").getRaw(this.__getState(),a)};d.getAll=function(a){return b("AdsDraftFragmentStoreStateUtils").getAll(this.__getState(),a)};d.getParentID=function(a){return b("AdsDraftFragmentStoreStateUtils").getParentID(this.__getState(),a)};d.getChangedFields=function(a){return b("AdsDraftFragmentStoreStateUtils").getChangedFields(this.__getState(),a)};d.getDirty=function(){return b("AdsDraftFragmentStoreStateUtils").getDirty(this.__getState())};d.getDirtyFor=function(a,c){return b("AdsDraftFragmentStoreStateUtils").getDirtyFor(this.__getState(),a)};d.getNewIDsFor=function(a){return b("AdsDraftFragmentStoreStateUtils").getNewIDsFor(this.__getState(),a)};d.getFragmentsInDraftFor=function(a){return b("AdsDraftFragmentStoreStateUtils").getFragmentsInDraftFor(this.__getState(),a)};d.hasChangesToApply=function(){return b("AdsDraftFragmentStoreStateUtils").hasChangesToApply(this.__getState())};d.isDirty=function(a){return b("AdsDraftFragmentStoreStateUtils").isDirty(this.__getState(),a)};d.isNew=function(a){return b("AdsDraftFragmentStoreStateUtils").isNew(this.__getState(),a)};d.isDeleted=function(a){return b("AdsDraftFragmentStoreStateUtils").isDeleted(this.__getState(),a)};d.isLoading=function(){return b("AdsDraftFragmentStoreStateUtils").isLoading(this.__getState())};d.loadState=function(){return b("AdsDraftFragmentStoreStateUtils").loadState(this.__getState())};d.getTimeCreated=function(a){return b("AdsDraftFragmentStoreStateUtils").getTimeCreated(this.__getState(),a)};return c}(b("FluxStore"));a.__moduleID=e.id;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c,d,e){var f;f=a.call(this,b("AdsDataAtom"))||this;f.$AdsBaseInternalStateDraftFragmentStore1=b("AdsDraftFragmentStoreStateUtils").create(c,d,e);return f}var d=c.prototype;d.reduce=function(a,c){return b("AdsDraftFragmentStoreStateReducers").draftFragmentStateReducer(a,c)};d.__getState=function(){return this.$AdsBaseInternalStateDraftFragmentStore1};d.__setState=function(a){var b=this.$AdsBaseInternalStateDraftFragmentStore1;this.$AdsBaseInternalStateDraftFragmentStore1=a;b!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};d.__onDispatch=function(a){var b=this.$AdsBaseInternalStateDraftFragmentStore1;this.$AdsBaseInternalStateDraftFragmentStore1=this.reduce(this.$AdsBaseInternalStateDraftFragmentStore1,a);b!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};d.__applyChanges=function(a,c){var d=this.$AdsBaseInternalStateDraftFragmentStore1;this.$AdsBaseInternalStateDraftFragmentStore1=b("AdsDraftFragmentStoreStateMutators").applyChanges(d,a,c);d!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};d.__reinitializeDraft=function(){var a=this.$AdsBaseInternalStateDraftFragmentStore1,c=b("AdsDraftFragmentStoreStateUtils").create(b("AdsDraftFragmentStoreStateUtils").getObjectType(a),b("AdsDraftFragmentStoreStateUtils").getLiveStore(a),a.adsApplicationID);this.$AdsBaseInternalStateDraftFragmentStore1=b("AdsDraftFragmentStoreStateReducers").initDraft(c);a!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};d.__updateFragmentAPItoLocalObjectIDMap=function(a,c){var d=this.$AdsBaseInternalStateDraftFragmentStore1;this.$AdsBaseInternalStateDraftFragmentStore1=b("AdsDraftFragmentStoreStateMutators").updateFragmentAPItoLocalObjectIDMap(d,a,c);d!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};d.__setHasChangesToApply=function(a){var c=this.$AdsBaseInternalStateDraftFragmentStore1;this.$AdsBaseInternalStateDraftFragmentStore1=b("AdsDraftFragmentStoreStateMutators").setHasChangesToApply(c,a);c!==this.$AdsBaseInternalStateDraftFragmentStore1&&this.__emitChange()};return c}(a);d=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){var d;d=a.call(this,b("AdsDataAtom"))||this;d.$AdsBaseExternalStateDraftFragmentStore2=null;d.$AdsBaseExternalStateDraftFragmentStore1=c;return d}var d=c.prototype;d.__getState=function(){return b("nullthrows")(this.$AdsBaseExternalStateDraftFragmentStore1.getState())};d.__onDispatch=function(a){b("AdsDataAtom").waitFor([this.$AdsBaseExternalStateDraftFragmentStore1.getDispatchToken()]);if(this.$AdsBaseExternalStateDraftFragmentStore1.hasChanged()){var c=this.__getState(),d=this.$AdsBaseExternalStateDraftFragmentStore2!==c,e=g.some(function(b){return b.test(a.action.type)});d&&b("gkx")("970653")&&!e&&(b("cr:828562")!=null&&b("cr:828562").logPESpecChangeAction(this.$AdsBaseExternalStateDraftFragmentStore2!=null?this.$AdsBaseExternalStateDraftFragmentStore2.fragments.value():null,c.fragments.value(),a.action,c.objectType));this.$AdsBaseExternalStateDraftFragmentStore2=c;d&&this.__emitChange()}};return c}(a);e.exports={AdsBaseInternalStateDraftFragmentStore:c,AdsBaseExternalStateDraftFragmentStore:d}}),null);
__d("AdsCampaignLiveListStore",["AdObjectLevels","AdsAPIAdCampaignGroupFields","AdsBaseListStore","AdsCampaignListBatchLoadedActionFlux","AdsCampaignListBatchLoadErrorActionFlux","AdsCampaignLiveListDataManager","AdsCreatePublishedFromCreationActionFlux","AdsDraftDraftAndFragmentLoadedDataActionFlux","AdsDraftDraftBatchDeletedDataActionFlux","AdsDraftDraftCloseAfterSyncDataActionFlux","AdsDraftDraftCurrentDraftLoadedDataActionFlux","AdsDraftDraftFragmentBatchCreatedDataActionFlux","AdsDraftDraftFragmentBatchDeletedDataActionFlux","AdsDraftDraftSetCurrentDraftSuccessDataActionFlux","AdsLoadState_LEGACY","AdsPEExportDataPreloadedActionFlux","adsDraftGetIDsToInvalidateAfterPublish","adsDraftIsApplicationIDPowerEditor","gkx","naturalComparator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsCampaignLiveListDataManager")};d.getForCampaignGroups=function(a,c){var d=this,e=this.__updateLoadingFor(c);e.length>0&&b("AdsCampaignLiveListDataManager").loadForCampaignGroups(a,e);var f=new Map();c.forEach(function(a){f.set(a,d.getCachedFor(a))});return f};d.getForCampaignGroup=function(a,b){return this.getForCampaignGroups(a,[b]).get(b)};d.getForAccount=function(a){var c=this.__updateLoadingFor([a]);c.length===1&&b("AdsCampaignLiveListDataManager").loadForAccount(a);return this.getCachedFor(a)};d.__getActionTypes=function(){return g?[b("AdsCampaignListBatchLoadErrorActionFlux").actionType,b("AdsCampaignListBatchLoadedActionFlux").actionType,b("AdsCreatePublishedFromCreationActionFlux").actionType,b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType,b("AdsDraftDraftBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType,b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftSetCurrentDraftSuccessDataActionFlux").actionType,b("AdsPEExportDataPreloadedActionFlux").actionType]:null};d.__onDispatch=function(a){__p&&__p();var c=this;a=a.action;if(!b("adsDraftIsApplicationIDPowerEditor")(a.adsApplicationID))return;switch(a.actionType){case b("AdsCampaignListBatchLoadedActionFlux").actionType:a.responses.forEach(function(a,d){c.__handleDataFor(d,a,b("AdsLoadState_LEGACY").LOADED)});break;case b("AdsCampaignListBatchLoadErrorActionFlux").actionType:a.responses.forEach(function(a,d){c.__handleDataFor(d,null,b("AdsLoadState_LEGACY").ERROR)});break;case b("AdsPEExportDataPreloadedActionFlux").actionType:this.$AdsCampaignLiveListStore1(a.childMap.campaign);break;case b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType:this.$AdsCampaignLiveListStore2(a);break;case b("AdsDraftDraftBatchDeletedDataActionFlux").actionType:case b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType:case b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType:case b("AdsDraftDraftSetCurrentDraftSuccessDataActionFlux").actionType:this.$AdsCampaignLiveListStore3();break;case b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType:this.$AdsCampaignLiveListStore4(a.fragments);break;case b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType:this.$AdsCampaignLiveListStore5(a.fragments);break;case b("AdsCreatePublishedFromCreationActionFlux").actionType:this.$AdsCampaignLiveListStore6(a.data.publishedObjectIDs);break}};d.getSortKey=function(){return b("AdsAPIAdCampaignGroupFields").NAME};d.compare=function(a,c){return b("naturalComparator")(a,c)};d.$AdsCampaignLiveListStore4=function(a){};d.$AdsCampaignLiveListStore5=function(a){this.__invalidateEntireCache()&&this.__emitChange()};d.$AdsCampaignLiveListStore1=function(a){var c=this;a.forEach(function(a,d){c.__handleDataFor(d,a,b("AdsLoadState_LEGACY").LOADED)})};d.$AdsCampaignLiveListStore2=function(a){var c=this;a=b("adsDraftGetIDsToInvalidateAfterPublish")(a);a=a.map(function(a){return c.__invalidate(a)});a.some(function(a){return a})&&this.__emitChange()};d.$AdsCampaignLiveListStore3=function(){this.__invalidateEntireCache()&&this.__emitChange()};d.$AdsCampaignLiveListStore6=function(a){var c=this;a[b("AdObjectLevels").CAMPAIGN_GROUP].forEach(function(a){return c.__invalidate(a)})};return c}(b("AdsBaseListStore"));e.exports=new a()}),null);
__d("AdsCampaignCombinedListStore",["invariant","AdsBaseCombinedListStore","AdsCampaignCombinedStore","AdsCampaignDraftFragmentStore","AdsCampaignGroupDraftFragmentStore","AdsCampaignLiveListStore","AdsDataAtom","AdsLoadState_LEGACY","AdsLoadStateUtils_LEGACY","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={loadState:b("AdsLoadState_LEGACY").LOADED,list:[]};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getForCampaignGroupsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getForCampaignGroups.bind(babelHelpers.assertThisInitialized(d))),d.getCampaignIDsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),function(a,b){return d.getCampaignIDs(a,[b])}),d.getCampaignGroupIDForDraftCampaignSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),function(a){return d.__getParentIDForDraftChild(a,"campaignGroup")}),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getForCampaignGroups=function(b,c){return a.prototype.__getForAll.call(this,b,"campaignGroup",c)};d.getForCampaignGroup=function(a,b){return this.getForCampaignGroups(a,[b]).get(b)};d.getCampaignIDs=function(c,d){var e=[];c=a.prototype.__getForAll.call(this,c,"campaignGroup",d);Array.from(c.values()).forEach(function(a){b("AdsLoadStateUtils_LEGACY").isLoaded(a)&&e.push.apply(e,a.list)});return e};d.getForAccount=function(b){return a.prototype.__getFor.call(this,b,"account",b)};d.__getAllDraftIDsForAccount=function(a){return b("AdsCampaignDraftFragmentStore").getNewIDsFor(a)};d.__getStores=function(){return[b("AdsCampaignCombinedStore"),b("AdsCampaignDraftFragmentStore"),b("AdsCampaignGroupDraftFragmentStore"),b("AdsCampaignLiveListStore")]};d.__getLiveList=function(a,c,d){switch(c){case"account":return b("AdsCampaignLiveListStore").getForAccount(a);case"campaignGroup":c=d;if(b("AdsCampaignGroupDraftFragmentStore").isNew(c))return h;else return b("AdsCampaignLiveListStore").getForCampaignGroup(a,c);default:g(0,620)}};d.__getParentIDForDraftChild=function(a,c){b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsCampaignCombinedStore").getDispatchToken()]);a=b("AdsCampaignCombinedStore").getCached(a).getValue();if(!a)return null;switch(c){case"account":return a.account_id;case"campaignGroup":return a.campaign_id;default:g(0,620)}};d.__startLoadingDataFor=function(a,c,d){if(c==="campaignGroup"){c=d.filter(function(a){return!b("AdsCampaignGroupDraftFragmentStore").isNew(a)});b("AdsCampaignLiveListStore").getForCampaignGroups(a,c)}};return c}(b("AdsBaseCombinedListStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsCampaignDraftFragmentStore",["AdsBaseDraftFragmentStore","AdsCampaignDraftFragmentsDataProvider","AdsEditingCampaignDataReducerUtils","AdsEditingDraftFragmentsLegacyFluxReduce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsBaseDraftFragmentStore").AdsBaseExternalStateDraftFragmentStore;b("AdsEditingCampaignDataReducerUtils");b("AdsEditingDraftFragmentsLegacyFluxReduce");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("AdsCampaignDraftFragmentsDataProvider").toFluxStore())||this}return c}(a);e.exports=new c()}),null);
__d("AdsCampaignGroupDraftFragmentStore",["AdsBaseDraftFragmentStore","AdsCampaignGroupDraftFragmentsDataProvider","AdsEditingCampaignGroupReducerUtils","AdsEditingDraftFragmentsLegacyFluxReduce"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=b("AdsBaseDraftFragmentStore").AdsBaseExternalStateDraftFragmentStore;b("AdsEditingCampaignGroupReducerUtils");b("AdsEditingDraftFragmentsLegacyFluxReduce");c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.call(this,b("AdsCampaignGroupDraftFragmentsDataProvider").toFluxStore())||this}return c}(a);e.exports=new c()}),null);
__d("AdsDraftFragmentStore",["AdsBaseDataStore","AdsDraftDraftAndFragmentLoadedDataActionFlux","AdsDraftDraftBatchDeletedDataActionFlux","AdsDraftDraftCloseAfterSyncDataActionFlux","AdsDraftDraftFragmentBatchCreatedDataActionFlux","AdsDraftDraftFragmentBatchCreateErrorDataActionFlux","AdsDraftDraftFragmentBatchDeletedDataActionFlux","AdsDraftDraftFragmentBatchLoadedDataActionFlux","AdsDraftDraftFragmentBatchLoadErrorDataActionFlux","AdsDraftDraftFragmentBatchUpdatedDataActionFlux","AdsDraftDraftFragmentBatchUpdateErrorDataActionFlux","AdsDraftDraftFragmentListPartialLoadDataActionFlux","AdsDraftDraftFragmentValidatedDataActionFlux","AdsDraftFragmentDataManager","AdsLoadState_LEGACY","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsDraftFragmentDataManager")};d.__getActionTypes=function(){return g?[b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType,b("AdsDraftDraftBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchCreateErrorDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchLoadErrorDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchLoadedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchUpdateErrorDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchUpdatedDataActionFlux").actionType,b("AdsDraftDraftFragmentListPartialLoadDataActionFlux").actionType,b("AdsDraftDraftFragmentValidatedDataActionFlux").actionType]:null};d.__onDispatch=function(a){__p&&__p();var c=this;a=a.action;switch(a.type){case b("AdsDraftDraftBatchDeletedDataActionFlux").actionType:this.$AdsDraftFragmentStore1(a.ids);break;case b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType:this.$AdsDraftFragmentStore2(a.draftID,a.fragmentIDs);break;case b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType:case b("AdsDraftDraftFragmentBatchLoadedDataActionFlux").actionType:case b("AdsDraftDraftFragmentBatchUpdatedDataActionFlux").actionType:this.__handleData(a.fragments,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsDraftDraftFragmentListPartialLoadDataActionFlux").actionType:var d=new Map();a.fragments.forEach(function(a){return d.set(a.id,a)});this.__handleData(d,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsDraftDraftFragmentValidatedDataActionFlux").actionType:var e=new Map();a.fragments.forEach(function(a,b){var d=c.getCached(b);e.set(b,babelHelpers["extends"]({},d,{active_errors:a.active_errors,validation_status:a.validation_status}))});this.__handleData(e,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsDraftDraftFragmentBatchCreateErrorDataActionFlux").actionType:case b("AdsDraftDraftFragmentBatchLoadErrorDataActionFlux").actionType:case b("AdsDraftDraftFragmentBatchUpdateErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType:this.$AdsDraftFragmentStore3(a.fragments);break}};d.$AdsDraftFragmentStore3=function(a){var b=this;a.forEach(function(a){return b.__invalidate(a.id)});this.__emitChange()};d.$AdsDraftFragmentStore1=function(a){this.__clearCache()};d.$AdsDraftFragmentStore2=function(a,b){if(!b||!b.length)this.__clearCache(),this.__emitChange();else{a=this.__invalidateAll(b);a&&this.__emitChange()}};return c}(b("AdsBaseDataStore"));c=new a();e.exports=c}),null);
__d("AdsDraftPublishStore",["AdDraftPublishStatuses","AdsAPIAdDraftFields","AdsAPIAdDraftPublishStatusFields","AdsDataAtom","AdsDraftDraftAndFragmentLoadedDataActionFlux","AdsDraftDraftCurrentDraftLoadedDataActionFlux","AdsDraftDraftPublishCompletedDataActionFlux","AdsDraftDraftPublishDataActionFlux","AdsDraftDraftPublishFailedErrorDataActionFlux","AdsDraftDraftPublishInProgressDataActionFlux","AdsDraftPublishDataManager","AdsDraftRealtimePublishFinalizeDataActionFlux","AdsDraftRealtimePublishStalledDataActionFlux","AdsPEPublishStartedActionFlux","AdsPERemoveFakePublishIDActionFlux","FluxReduceStore","LoadObject","adsCreateStoreSelector","adsDraftIsApplicationIDPowerEditor","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").Record({active:b("LoadObject").empty(),activePublishIDs:b("immutable").Set(),requestMetadata:b("immutable").Map()});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(g))||this,d.getActivePublish=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().active},e.id),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return g()};d.__getActionTypes=function(){return[b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType,b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType,b("AdsDraftDraftPublishCompletedDataActionFlux").actionType,b("AdsDraftDraftPublishDataActionFlux").actionType,b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType,b("AdsDraftDraftPublishInProgressDataActionFlux").actionType,b("AdsDraftRealtimePublishFinalizeDataActionFlux").actionType,b("AdsDraftRealtimePublishStalledDataActionFlux").actionType,b("AdsPEPublishStartedActionFlux").actionType,b("AdsPERemoveFakePublishIDActionFlux").actionType]};d.reduce=function(a,c){__p&&__p();c=c.action;if(!b("adsDraftIsApplicationIDPowerEditor")(c.adsApplicationID))return a;switch(c.type){case b("AdsDraftDraftPublishDataActionFlux").actionType:return a.active.isLoading()?a.merge({activePublishIDs:a.activePublishIDs.add(c.fakePublishID)}):a.merge({active:b("LoadObject").loading(),activePublishIDs:a.activePublishIDs.add(c.fakePublishID)});case b("AdsPEPublishStartedActionFlux").actionType:return c.asyncRequestSetID?a.merge({activePublishIDs:a.activePublishIDs.remove(c.fakePublishID).add(c.asyncRequestSetID.toString()),requestMetadata:a.requestMetadata.set(c.asyncRequestSetID,{object_creation_source:c.object_creation_source,immediate:c.immediate})}):a;case b("AdsPERemoveFakePublishIDActionFlux").actionType:return a.merge({activePublishIDs:a.activePublishIDs.remove(c.fakePublishID)});case b("AdsDraftDraftPublishInProgressDataActionFlux").actionType:return a.set("active",b("LoadObject").loading().setValue(c.response));case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:var d=a.activePublishIDs;c.response.async_request_set_id&&(d=a.activePublishIDs.remove(c.response.async_request_set_id.toString()));return a.merge({active:d.isEmpty()?b("LoadObject").withValue(c.response):b("LoadObject").loading().setValue(c.response),activePublishIDs:d});case b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType:return a.merge({active:b("LoadObject").withError(c.error)});case b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType:case b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType:return this.$AdsDraftPublishStore1(a,c.draft);case b("AdsDraftRealtimePublishFinalizeDataActionFlux").actionType:a.active.isLoading()&&b("AdsDraftPublishDataManager").handlePublishCompleted(c.draftID,!1,c.ancestorIDs);return a;case b("AdsDraftRealtimePublishStalledDataActionFlux").actionType:b("AdsDraftPublishDataManager").fetchAndDispatchPublishStatus(c.draftID,!0,c.ancestorIDs);return a;default:return a}};d.$AdsDraftPublishStore1=function(a,c){c=c[b("AdsAPIAdDraftFields").PUBLISH_STATUS];if(c==null)return a;switch(c[b("AdsAPIAdDraftPublishStatusFields").STATUS]){case b("AdDraftPublishStatuses").FAILED:case b("AdDraftPublishStatuses").SUCCEEDED:return a.set("active",b("LoadObject").withValue(c));case b("AdDraftPublishStatuses").IN_PROGRESS:return a.set("active",b("LoadObject").loading().setValue(c))}return a};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsInstantPublishUIStore_DEPRECATED",["AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux","AdsAdgroupInstantPublishNameFieldActionFlux","AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux","AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux","AdsCampaignInstantPublishBidFieldActionFlux","AdsCampaignInstantPublishNameFieldActionFlux","AdsCampaignInstantPublishScheduleFieldActionFlux","AdsDataAtom","AdsDraftDraftPublishCompletedDataActionFlux","AdsDraftDraftPublishDataActionFlux","AdsDraftDraftPublishFailedErrorDataActionFlux","AdsPEAdgroupLiveStatusChangeActionFlux","AdsPEBatchInstantPublishActionFlux","AdsPECampaignGroupLiveStatusChangeActionFlux","AdsPECampaignLiveStatusChangeActionFlux","AdsPEInstantDeleteActionFlux","AdsUEditorCampaignGroupInstantPublishNameFieldActionFlux","AdsUEditorCampaignInstantPublishBudgetFieldActionFlux","AdsUEditorCampaignIterativeSplitTestChooseVersionAndEndTestActionFlux","AdsUEditorCancelSplitTestsActionFlux","FluxReduceStore","adsCreateStoreSelector","adsDraftGetAdObjectIDsFromPublishResponse","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({instantPublishRequestedItemIDs:b("immutable").Set(),publishingInstantPublishRequestedItemIDs:b("immutable").Set()}));a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(g))||this,d.getInstantPublishRequestedItemIDs=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().instantPublishRequestedItemIDs},e.id),d.getPublishingInstantPublishRequestedItemIDs=b("adsCreateStoreSelector")([babelHelpers.assertThisInitialized(d)],function(){return d.getState().publishingInstantPublishRequestedItemIDs},e.id),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getInitialState=function(){return new g()};d.__getActionTypes=function(){return[b("AdsDraftDraftPublishDataActionFlux").actionType,b("AdsUEditorCampaignGroupInstantPublishNameFieldActionFlux").actionType,b("AdsCampaignInstantPublishNameFieldActionFlux").actionType,b("AdsAdgroupInstantPublishNameFieldActionFlux").actionType,b("AdsUEditorCampaignInstantPublishBudgetFieldActionFlux").actionType,b("AdsCampaignInstantPublishBidFieldActionFlux").actionType,b("AdsCampaignInstantPublishScheduleFieldActionFlux").actionType,b("AdsPECampaignGroupLiveStatusChangeActionFlux").actionType,b("AdsPECampaignLiveStatusChangeActionFlux").actionType,b("AdsPEAdgroupLiveStatusChangeActionFlux").actionType,b("AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux").actionType,b("AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux").actionType,b("AdsPEInstantDeleteActionFlux").actionType,b("AdsPEBatchInstantPublishActionFlux").actionType,b("AdsUEditorCampaignIterativeSplitTestChooseVersionAndEndTestActionFlux").actionType,b("AdsUEditorCancelSplitTestsActionFlux").actionType,b("AdsDraftDraftPublishCompletedDataActionFlux").actionType,b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType]};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("AdsDraftDraftPublishDataActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED1(a,c.selection);case b("AdsCampaignInstantPublishNameFieldActionFlux").actionType:case b("AdsAdgroupInstantPublishNameFieldActionFlux").actionType:case b("AdsCampaignInstantPublishBidFieldActionFlux").actionType:case b("AdsCampaignInstantPublishScheduleFieldActionFlux").actionType:case b("AdsPECampaignGroupLiveStatusChangeActionFlux").actionType:case b("AdsPECampaignLiveStatusChangeActionFlux").actionType:case b("AdsPEAdgroupLiveStatusChangeActionFlux").actionType:case b("AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED2(a,c.ids);case b("AdsPEInstantDeleteActionFlux").actionType:case b("AdsPEBatchInstantPublishActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED2(a,c.campaignGroupIDs.concat(c.campaignIDs).concat(c.adgroupIDs));case b("AdsUEditorCampaignInstantPublishBudgetFieldActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED2(a,c.campaignIDs);case b("AdsUEditorCampaignIterativeSplitTestChooseVersionAndEndTestActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED2(a,c.campaignGroupIDs.concat(c.campaignIDs));case b("AdsUEditorCampaignGroupInstantPublishNameFieldActionFlux").actionType:case b("AdsUEditorCancelSplitTestsActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED2(a,c.campaignGroupIDs);case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:case b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType:return this.$AdsInstantPublishUIStore_DEPRECATED3(a,c.response);default:return a}};d.$AdsInstantPublishUIStore_DEPRECATED2=function(a,b){return a.merge({instantPublishRequestedItemIDs:a.instantPublishRequestedItemIDs.concat(b)})};d.$AdsInstantPublishUIStore_DEPRECATED1=function(a,c){c=c?c.flatten().toSet():b("immutable").Set();c=c.intersect(a.instantPublishRequestedItemIDs).concat(a.publishingInstantPublishRequestedItemIDs);var d=a.instantPublishRequestedItemIDs.subtract(c);return a.merge({instantPublishRequestedItemIDs:d,publishingInstantPublishRequestedItemIDs:c})};d.$AdsInstantPublishUIStore_DEPRECATED3=function(a,c){if(!c)return a;c=b("adsDraftGetAdObjectIDsFromPublishResponse")(c);return a.set("publishingInstantPublishRequestedItemIDs",a.publishingInstantPublishRequestedItemIDs.subtract(c))};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsDraftPublishUIStore",["AdAsyncRequestStatus","AdsAccountStore","AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux","AdsAdgroupInstantPublishNameFieldActionFlux","AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux","AdsAPIAdDraftFragmentPublishStatusFields","AdsAPIAdDraftPublishStatusFields","AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux","AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux","AdsCampaignInstantPublishBidFieldActionFlux","AdsCampaignInstantPublishNameFieldActionFlux","AdsCampaignInstantPublishOptimalOptimizationActionFlux","AdsCampaignInstantPublishScheduleFieldActionFlux","AdsDataAtom","AdsDraftAppendPublishErrorDataActionFlux","AdsDraftAppendPublishSuccessDataActionFlux","AdsDraftClearRecentlyPublishedDataAction","AdsDraftClearRecentlyPublishedDataActionFlux","AdsDraftDraftHidePublishDetailsDataActionFlux","AdsDraftDraftPublishCompletedDataActionFlux","AdsDraftDraftPublishDataActionFlux","AdsDraftDraftPublishFailedErrorDataActionFlux","AdsDraftDraftPublishInitProgressDataAction","AdsDraftDraftPublishInitProgressDataActionFlux","AdsDraftDraftPublishInProgressDataActionFlux","AdsDraftDraftShowPublishDetailsDataActionFlux","AdsDraftPublishStore","AdsInstantPublishUIStore_DEPRECATED","AdsPEAdgroupLiveStatusChangeActionFlux","AdsPEBatchInstantPublishActionFlux","AdsPECampaignGroupLiveStatusChangeActionFlux","AdsPECampaignLiveStatusChangeActionFlux","AdsPEInstantDeleteActionFlux","AdsUEditorCampaignGroupInstantPublishNameFieldActionFlux","AdsUEditorCampaignInstantPublishBudgetFieldActionFlux","AdsUEditorCampaignIterativeSplitTestChooseVersionAndEndTestActionFlux","AdsUEditorCancelSplitTestsActionFlux","FluxReduceStore","adsDraftGetFinishedFragmentCount","clearTimeout","fakeProgress","immutable","setTimeout"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=.75,h=3e4,i=b("immutable").Record({fakeProgressToken:null,hasActiveProgress:!1,initProgress:0,isPublishInitializing:!1,isReceiptShown:!1,priorPublishedCount:0,progress:0,publishedCount:0,publishingCount:0,publishingAccount:null,publishingDraftID:null,publishingObjectIDs:b("immutable").Set(),recentlyPublishedIDs:b("immutable").Set(),recentlyPublishedIDsByLevel:b("immutable").Map({ad:b("immutable").List(),ad_set:b("immutable").List(),campaign:b("immutable").List()}),recentlyPublishedTimer:null,totalCount:0,keepCachedTotalCount:!1});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return i()};d.__getActionTypes=function(){return[b("AdsDraftDraftPublishDataActionFlux").actionType,b("AdsDraftDraftPublishInitProgressDataActionFlux").actionType,b("AdsDraftDraftPublishInProgressDataActionFlux").actionType,b("AdsDraftAppendPublishErrorDataActionFlux").actionType,b("AdsDraftAppendPublishSuccessDataActionFlux").actionType,b("AdsDraftDraftPublishCompletedDataActionFlux").actionType,b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType,b("AdsDraftDraftShowPublishDetailsDataActionFlux").actionType,b("AdsDraftDraftHidePublishDetailsDataActionFlux").actionType,b("AdsDraftClearRecentlyPublishedDataActionFlux").actionType,b("AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux").actionType,b("AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType,b("AdsUEditorCampaignGroupInstantPublishNameFieldActionFlux").actionType,b("AdsCampaignInstantPublishNameFieldActionFlux").actionType,b("AdsAdgroupInstantPublishNameFieldActionFlux").actionType,b("AdsUEditorCampaignInstantPublishBudgetFieldActionFlux").actionType,b("AdsCampaignInstantPublishBidFieldActionFlux").actionType,b("AdsCampaignInstantPublishOptimalOptimizationActionFlux").actionType,b("AdsCampaignInstantPublishScheduleFieldActionFlux").actionType,b("AdsPECampaignGroupLiveStatusChangeActionFlux").actionType,b("AdsPECampaignLiveStatusChangeActionFlux").actionType,b("AdsPEAdgroupLiveStatusChangeActionFlux").actionType,b("AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux").actionType,b("AdsPEInstantDeleteActionFlux").actionType,b("AdsPEBatchInstantPublishActionFlux").actionType,b("AdsUEditorCampaignIterativeSplitTestChooseVersionAndEndTestActionFlux").actionType,b("AdsUEditorCancelSplitTestsActionFlux").actionType]};d.__getDependencyStores=function(){return[b("AdsDraftPublishStore"),b("AdsInstantPublishUIStore_DEPRECATED")]};d.getProgress=function(){return this.getState().progress*100};d.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("AdsDraftDraftPublishDataActionFlux").actionType:return c.isCurrentlyPublishing?this.$AdsDraftPublishUIStore1(a,c.selection):this.$AdsDraftPublishUIStore2(a,c.selection,c.draftID);case b("AdsDraftDraftPublishInitProgressDataActionFlux").actionType:return this.$AdsDraftPublishUIStore3(a.set("initProgress",c.progress));case b("AdsDraftDraftPublishInProgressDataActionFlux").actionType:return this.$AdsDraftPublishUIStore3(this.$AdsDraftPublishUIStore4(a,c.response));case b("AdsDraftAppendPublishErrorDataActionFlux").actionType:case b("AdsDraftAppendPublishSuccessDataActionFlux").actionType:return this.$AdsDraftPublishUIStore3(this.$AdsDraftPublishUIStore5(a,c.count));case b("AdsDraftDraftPublishCompletedDataActionFlux").actionType:case b("AdsDraftDraftPublishFailedErrorDataActionFlux").actionType:return this.$AdsDraftPublishUIStore6(a,c.willCloseDraft,c.response);case b("AdsDraftDraftShowPublishDetailsDataActionFlux").actionType:return a.set("isReceiptShown",!0);case b("AdsDraftDraftHidePublishDetailsDataActionFlux").actionType:return a.set("isReceiptShown",!1);case b("AdsDraftClearRecentlyPublishedDataActionFlux").actionType:return a.merge({recentlyPublishedIDs:b("immutable").Set(),recentlyPublishedIDsByLevel:b("immutable").Map({ad:b("immutable").List(),ad_set:b("immutable").List(),campaign:b("immutable").List()})});case b("AdsCampaignGroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignGroupBudgetToggleOnInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsAdgroupBulkEditInstantPublishApplyChangesDataActionFlux").actionType:case b("AdsCampaignInstantPublishNameFieldActionFlux").actionType:case b("AdsAdgroupInstantPublishNameFieldActionFlux").actionType:case b("AdsCampaignInstantPublishBidFieldActionFlux").actionType:case b("AdsCampaignInstantPublishOptimalOptimizationActionFlux").actionType:case b("AdsCampaignInstantPublishScheduleFieldActionFlux").actionType:case b("AdsPECampaignGroupLiveStatusChangeActionFlux").actionType:case b("AdsPECampaignLiveStatusChangeActionFlux").actionType:case b("AdsPEAdgroupLiveStatusChangeActionFlux").actionType:case b("AdsAdgroupTurnOnPixelInstantPublishApplyChangesDataActionFlux").actionType:return this.$AdsDraftPublishUIStore7(a,c.ids);case b("AdsPEInstantDeleteActionFlux").actionType:case b("AdsPEBatchInstantPublishActionFlux").actionType:return this.$AdsDraftPublishUIStore8(a,c);case b("AdsUEditorCampaignInstantPublishBudgetFieldActionFlux").actionType:return this.$AdsDraftPublishUIStore9(a,c);case b("AdsUEditorCampaignIterativeSplitTestChooseVersionAndEndTestActionFlux").actionType:return this.$AdsDraftPublishUIStore10(a,c);case b("AdsUEditorCampaignGroupInstantPublishNameFieldActionFlux").actionType:case b("AdsUEditorCancelSplitTestsActionFlux").actionType:return this.$AdsDraftPublishUIStore11(a,c);default:return a}};d.$AdsDraftPublishUIStore8=function(a,b){return this.$AdsDraftPublishUIStore7(a,b.campaignGroupIDs.concat(b.campaignIDs).concat(b.adgroupIDs))};d.$AdsDraftPublishUIStore9=function(a,b){return this.$AdsDraftPublishUIStore7(a,b.campaignIDs)};d.$AdsDraftPublishUIStore10=function(a,b){return this.$AdsDraftPublishUIStore7(a,b.campaignGroupIDs.concat(b.campaignIDs))};d.$AdsDraftPublishUIStore11=function(a,b){return this.$AdsDraftPublishUIStore7(a,b.campaignGroupIDs)};d.$AdsDraftPublishUIStore7=function(a,b){b=b.length;var c=0,d=0;a.hasActiveProgress&&(b+=a.totalCount,c=a.publishedCount,d=a.progress);return this.$AdsDraftPublishUIStore12(a).merge({hasActiveProgress:!0,keepCachedTotalCount:!0,publishedCount:c,publishingCount:this.$AdsDraftPublishUIStore13(c,b),progress:d,totalCount:b})};d.$AdsDraftPublishUIStore2=function(a,c,d){__p&&__p();var e=c?c.flatten().toSet():b("immutable").Set();c=c?c.reduce(function(a,b){return a+b.size},0):0;var f=0,g=0,h=c,i=!1,j=0;a=this.$AdsDraftPublishUIStore12(a);if(a.hasActiveProgress){b("AdsDataAtom").waitFor([b("AdsInstantPublishUIStore_DEPRECATED").getDispatchToken()]);var k=b("AdsInstantPublishUIStore_DEPRECATED").getPublishingInstantPublishRequestedItemIDs();f=a.progress;h=a.totalCount+c-k.size;g=1;j=a.publishedCount;i=!0;a=this.$AdsDraftPublishUIStore14(a)}return a.merge({hasActiveProgress:!0,publishingDraftID:d,initProgress:g,isPublishInitializing:!0,publishedCount:j,publishingCount:this.$AdsDraftPublishUIStore13(j,h),publishingObjectIDs:e,progress:f,totalCount:h,keepCachedTotalCount:i}).set("publishingAccount",b("AdsAccountStore").getSelectedAccount_LEGACY())};d.$AdsDraftPublishUIStore1=function(a,c){var d=a.totalCount,e=c?c.flatten().toSet():b("immutable").Set();b("immutable").Set();b("AdsDataAtom").waitFor([b("AdsInstantPublishUIStore_DEPRECATED").getDispatchToken()]);var f=b("AdsInstantPublishUIStore_DEPRECATED").getPublishingInstantPublishRequestedItemIDs();f=f.intersect(e);return a.merge({hasActiveProgress:!0,publishingObjectIDs:e,totalCount:c?c.reduce(function(a,b){return a+b.size},d-f.size):d-f.size,keepCachedTotalCount:!0})};d.$AdsDraftPublishUIStore4=function(a,c){__p&&__p();var d;if(!c)return a;var e=c[b("AdsAPIAdDraftPublishStatusFields").TOTAL_COUNT];d=((d=c)!=null?(d=d[b("AdsAPIAdDraftPublishStatusFields").FRAGMENT_STATUSES])!=null?d.data:d:d)||[];d=d.filter(function(a){return a[b("AdsAPIAdDraftFragmentPublishStatusFields").STATUS]===b("AdAsyncRequestStatus").SUCCESS});var f=d.map(function(a){return a[b("AdsAPIAdDraftFragmentPublishStatusFields").AD_OBJECT_ID]});d=b("immutable").fromJS(d.reduce(function(a,c){a[c[b("AdsAPIAdDraftFragmentPublishStatusFields").AD_OBJECT_TYPE]].push(c[b("AdsAPIAdDraftFragmentPublishStatusFields").AD_OBJECT_ID]);return a},{ad:[],ad_set:[],campaign:[],ad_account:[],topline:[],unique_adcreative:[]}));var g=a.keepCachedTotalCount&&a.totalCount>e;c=b("adsDraftGetFinishedFragmentCount")(c);var h=g?a.totalCount:e;b("AdsDataAtom").waitFor([b("AdsInstantPublishUIStore_DEPRECATED").getDispatchToken()]);var i=b("AdsInstantPublishUIStore_DEPRECATED").getInstantPublishRequestedItemIDs();c+=a.priorPublishedCount;h=g?a.totalCount:e+i.size;return this.$AdsDraftPublishUIStore14(a).merge({initProgress:1,isPublishInitializing:!1,keepCachedTotalCount:g,publishedCount:c,publishingCount:this.$AdsDraftPublishUIStore13(c,h),publishingObjectIDs:a.publishingObjectIDs.subtract(f),recentlyPublishedIDs:a.recentlyPublishedIDs.union(f),recentlyPublishedIDsByLevel:a.recentlyPublishedIDsByLevel.mergeWith(function(a,c){return b("immutable").Set(a.concat(c)).toList()},d),totalCount:h})};d.$AdsDraftPublishUIStore5=function(a,b){return b?this.$AdsDraftPublishUIStore4(a,b):a};d.$AdsDraftPublishUIStore3=function(a){return a.set("progress",(a.initProgress+a.publishedCount)/(a.totalCount+1))};d.$AdsDraftPublishUIStore6=function(a,c,d){__p&&__p();a.recentlyPublishedTimer&&b("clearTimeout")(a.recentlyPublishedTimer);var e=null;c&&(e=b("setTimeout")(this.$AdsDraftPublishUIStore15,h));c=!1;var f;b("immutable").Set();var g=1,i=1,j=!1,k=null,l=a.totalCount,m=0,n=!1;b("AdsDataAtom").waitFor(this.getDependencyDispatchTokens());c=b("AdsDraftPublishStore").getActivePublish().isLoading();f=b("AdsInstantPublishUIStore_DEPRECATED").getInstantPublishRequestedItemIDs();c=c||!f.isEmpty();j=c;g=c?a.progress:1;i=c?a.progress:1;k=c?a.publishingDraftID:null;f=d&&d.success_count?d.success_count:0;m=c?a.priorPublishedCount+f:0;l=a.priorPublishedCount+f;n=c;return this.$AdsDraftPublishUIStore14(a).merge({hasActiveProgress:n,initProgress:g,isPublishInitializing:!1,keepCachedTotalCount:j,priorPublishedCount:m,progress:i,publishedCount:l,publishingCount:this.$AdsDraftPublishUIStore13(l,a.totalCount),publishingAccount:null,publishingDraftID:k,publishingObjectIDs:b("immutable").Set(),recentlyPublishedTimer:e})};d.$AdsDraftPublishUIStore14=function(a){if(a.fakeProgressToken){a.fakeProgressToken.stop();return a.set("fakeProgressToken",null)}return a};d.$AdsDraftPublishUIStore12=function(a){if(a.fakeProgressToken!==null)return a;var c=b("fakeProgress")(g,function(a){return b("AdsDraftDraftPublishInitProgressDataAction").dispatch({progress:a},{line:"615",module:"AdsDraftPublishUIStore.js"})});return a.set("fakeProgressToken",c)};d.$AdsDraftPublishUIStore13=function(a,b){a=a+1;return a>b?b:a};d.$AdsDraftPublishUIStore15=function(){b("AdsDraftClearRecentlyPublishedDataAction").dispatch({},{line:"628",module:"AdsDraftPublishUIStore.js"})};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsConnectionStatusStore",["fbt","AdsConnectionStatusActionTypes","AdsConnectionStatusDataManager","AdsConnectionStatusGraphRetryScheduledAction","AdsConnectionStatusGraphSuccessAction","AdsConnectionStatusNetworkConnectedAction","AdsConnectionStatusNetworkDisconnectedAction","AdsDataAtom","ApiClient","DateConsts","FluxStore","Network","SubscriptionsHandler","adsCreateStoreThunkSelector","debounce"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=8;a=30;var i=b("debounce")(b("AdsConnectionStatusDataManager").check,a*b("DateConsts").MS_PER_SEC);c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("AdsDataAtom"))||this;c.getGraphErrorSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(c),c.getGraphError.bind(babelHelpers.assertThisInitialized(c)));c.getMessageSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(c),c.getMessage.bind(babelHelpers.assertThisInitialized(c)));c.$AdsConnectionStatusStore4=!0;c.$AdsConnectionStatusStore5=!0;c.$AdsConnectionStatusStore7();return c}var d=c.prototype;d.__getActionTypes=function(){return[b("AdsConnectionStatusActionTypes").GRAPH_ERROR,b("AdsConnectionStatusActionTypes").GRAPH_RETRY_SCHEDULED,b("AdsConnectionStatusActionTypes").GRAPH_SUCCESS,b("AdsConnectionStatusActionTypes").NETWORK_CONNECTED,b("AdsConnectionStatusActionTypes").NETWORK_DISCONNECTED]};d.$AdsConnectionStatusStore7=function(){this.$AdsConnectionStatusStore6=new(b("SubscriptionsHandler"))(),this.$AdsConnectionStatusStore6.addSubscriptions(b("Network").addListener("online",this.$AdsConnectionStatusStore8),b("Network").addListener("offline",this.$AdsConnectionStatusStore9)),b("ApiClient").subscribe("request.complete",this.$AdsConnectionStatusStore10.bind(this))};d.__onDispatch=function(a){__p&&__p();a=a.action;switch(a.type){case b("AdsConnectionStatusActionTypes").GRAPH_ERROR:this.$AdsConnectionStatusStore11(a.error);break;case b("AdsConnectionStatusActionTypes").GRAPH_RETRY_SCHEDULED:this.$AdsConnectionStatusStore2=a.delay;this.__emitChange();break;case b("AdsConnectionStatusActionTypes").GRAPH_SUCCESS:this.$AdsConnectionStatusStore12();break;case b("AdsConnectionStatusActionTypes").NETWORK_CONNECTED:this.$AdsConnectionStatusStore13();break;case b("AdsConnectionStatusActionTypes").NETWORK_DISCONNECTED:this.$AdsConnectionStatusStore14();break}};d.isConnected=function(){return this.$AdsConnectionStatusStore5&&this.$AdsConnectionStatusStore4};d.isGraphAccessible=function(){return this.$AdsConnectionStatusStore4};d.isNetworkConnected=function(){return this.$AdsConnectionStatusStore5};d.getGraphError=function(){return this.$AdsConnectionStatusStore1};d.getGraphRetryDelay=function(){return this.$AdsConnectionStatusStore2};d.getMessage=function(){if(!this.$AdsConnectionStatusStore5)return g._("Please check your internet connection");return!this.$AdsConnectionStatusStore4?this.$AdsConnectionStatusStore2?g._({"*":{"second":"Your connection was lost. Reconnecting in {count} second","seconds":"Your connection was lost. Reconnecting in {count} seconds"}},[g._param("count",this.$AdsConnectionStatusStore2,[0]),g._enum(this.$AdsConnectionStatusStore2===1?"second":"seconds",{second:"second",seconds:"seconds"})]):g._("Your internet connection was lost. Trying to reconnect..."):void 0};d.$AdsConnectionStatusStore14=function(){this.$AdsConnectionStatusStore5=!1,this.$AdsConnectionStatusStore4=!1,this.__emitChange()};d.$AdsConnectionStatusStore13=function(){this.$AdsConnectionStatusStore5=!0,b("AdsConnectionStatusDataManager").check(),this.__emitChange()};d.$AdsConnectionStatusStore12=function(){this.$AdsConnectionStatusStore4=!0,this.$AdsConnectionStatusStore15(),this.__emitChange()};d.$AdsConnectionStatusStore11=function(a){this.$AdsConnectionStatusStore4=!1,this.$AdsConnectionStatusStore1=a,this.$AdsConnectionStatusStore2=h,this.$AdsConnectionStatusStore3||(this.$AdsConnectionStatusStore3=window.setInterval(this.$AdsConnectionStatusStore16.bind(this),b("DateConsts").MS_PER_SEC))};d.$AdsConnectionStatusStore16=function(){var a=(this.$AdsConnectionStatusStore2||0)-1;a>0?b("AdsConnectionStatusGraphRetryScheduledAction").dispatch({delay:a},{line:"270",module:"AdsConnectionStatusStore.js"}):(this.$AdsConnectionStatusStore15(),b("AdsConnectionStatusGraphRetryScheduledAction").dispatch({delay:null},{line:"275",module:"AdsConnectionStatusStore.js"}),b("AdsConnectionStatusDataManager").check())};d.$AdsConnectionStatusStore15=function(){this.$AdsConnectionStatusStore3&&(window.clearInterval(this.$AdsConnectionStatusStore3),this.$AdsConnectionStatusStore3=null),i.reset()};d.$AdsConnectionStatusStore10=function(a,c,d,e){a=!!(d&&d.execution_options&&d.execution_options.includes("validate_only"));!e||!a&&(e.error||e.error_msg)?i():this.$AdsConnectionStatusStore4||b("AdsConnectionStatusGraphSuccessAction").dispatch({},{line:"320",module:"AdsConnectionStatusStore.js"})};d.$AdsConnectionStatusStore8=function(){b("AdsConnectionStatusNetworkConnectedAction").dispatch({},{line:"325",module:"AdsConnectionStatusStore.js"})};d.$AdsConnectionStatusStore9=function(){b("AdsConnectionStatusNetworkDisconnectedAction").dispatch({},{line:"329",module:"AdsConnectionStatusStore.js"})};return c}(b("FluxStore"));c.__moduleID=e.id;e.exports=new c()}),null);
__d("AdsDraftSelectionStore",["invariant","AdsApplicationIDs","AdsApplicationUtils","AdsAppVisibilityFocusDataActionFlux","AdsConnectionStatusGraphSuccessActionFlux","AdsConnectionStatusStore","AdsDataAtom","AdsDraftConstants","AdsDraftDataManager","AdsDraftDraftAndFragmentLoadedDataActionFlux","AdsDraftDraftAndFragmentLoadErrorDataActionFlux","AdsDraftDraftBatchDeletedDataActionFlux","AdsDraftDraftClosedDataActionFlux","AdsDraftDraftCreateCurrentDraftDataActionFlux","AdsDraftDraftCurrentDraftLoadedDataActionFlux","AdsDraftDraftCurrentDraftLoadErrorDataActionFlux","AdsDraftDraftDeleteBatchDataActionFlux","AdsDraftDraftSetCurrentDraftDataActionFlux","AdsDraftDraftSetCurrentDraftErrorDataActionFlux","AdsDraftDraftSetCurrentDraftSuccessDataActionFlux","AdsDraftLoginAsDraftsLoadedDataActionFlux","AdsDraftPublishStore","AdsDraftSelectionUIStore","AdsDraftTypes","DateConsts","FluxStore","LoadObject","WebApiApplication","adsCreateStoreThunkSelector","adsDraftIsUsingLoginAs","adsDraftShouldDeleteExpiredDraft","expectationViolation","gkx","immutable","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c;c=a.call(this,b("AdsDataAtom"))||this;c.$AdsDraftSelectionStore2=b("immutable").Map();c.$AdsDraftSelectionStore3=b("immutable").Set();c.getCachedSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(c),c.getCached.bind(babelHelpers.assertThisInitialized(c)));c.$AdsDraftSelectionStore1=new Map();c.$AdsDraftSelectionStore4=0;return c}var d=c.prototype;d.__getActionTypes=function(){return[b("AdsAppVisibilityFocusDataActionFlux").actionType,b("AdsConnectionStatusGraphSuccessActionFlux").actionType,b("AdsDraftDraftAndFragmentLoadErrorDataActionFlux").actionType,b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType,b("AdsDraftDraftBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftClosedDataActionFlux").actionType,b("AdsDraftDraftCreateCurrentDraftDataActionFlux").actionType,b("AdsDraftDraftCurrentDraftLoadErrorDataActionFlux").actionType,b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType,b("AdsDraftDraftDeleteBatchDataActionFlux").actionType,b("AdsDraftDraftSetCurrentDraftDataActionFlux").actionType,b("AdsDraftDraftSetCurrentDraftErrorDataActionFlux").actionType,b("AdsDraftDraftSetCurrentDraftSuccessDataActionFlux").actionType,b("AdsDraftLoginAsDraftsLoadedDataActionFlux").actionType]};d.getOrCreateFor=function(a,c){var d=this.$AdsDraftSelectionStore1.get(a)||new Map();d=d.get(c);if(!d){d=b("LoadObject").loading();this.$AdsDraftSelectionStore5(a,c,d);var e=b("adsDraftIsUsingLoginAs")()&&b("AdsApplicationUtils").isPowerEditor();e?b("AdsDraftDataManager").getCurrentDraftIncludingLoginAs(a):b("gkx")("840314")?b("AdsDraftDataManager").loadCurrentDraftAndFragment({accountID:a,adsApplicationID:c}):b("AdsDraftDataManager").getOrCreateCurrentDraft({accountID:a,adsApplicationID:c})}return d};d.getCached=function(a,c){c===void 0&&(c=b("AdsApplicationIDs").ADS_POWER_EDITOR);a=this.$AdsDraftSelectionStore1.get(a)||new Map();return a.get(c)||b("LoadObject").empty()};d.getOrThrow=function(a,b){b=this.getCached(a,b);!b.isLoading()&&b.value||g(0,2050,a);return b.value};d.getOrThrowForCurrentApp=function(a){return this.getOrThrow(a,b("WebApiApplication").getClientID())};d.getAvailableDrafts=function(a){return this.$AdsDraftSelectionStore2.get(a)||b("LoadObject").loading()};d.isEmployeeDraft=function(a){var c=this.getAvailableDrafts(a).getValue();a=this.getCached(a).getValue();return c!=null&&a!=null?c.has(b("AdsDraftTypes").LOGIN_AS_ACTIVE)&&c.get(b("AdsDraftTypes").LOGIN_AS_ACTIVE).id===a:!1};d.__onDispatch=function(a){__p&&__p();var c=a.action;switch(c.type){case b("AdsDraftDraftDeleteBatchDataActionFlux").actionType:case b("AdsDraftDraftBatchDeletedDataActionFlux").actionType:this.$AdsDraftSelectionStore6(c.ids);break;case b("AdsDraftDraftClosedDataActionFlux").actionType:this.$AdsDraftSelectionStore7(c.draftID,c.keepDraftID,c.adsApplicationID);break;case b("AdsDraftDraftCreateCurrentDraftDataActionFlux").actionType:this.$AdsDraftSelectionStore8(c.accountID,c.name,c.draftType,c.adsApplicationID);break;case b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType:case b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType:a=b("adsDraftShouldDeleteExpiredDraft")(c.adsApplicationID,c.draft,c.wasRefreshed);if(a)this.$AdsDraftSelectionStore9(c.accountID,c.adsApplicationID,c.draftID);else{this.$AdsDraftSelectionStore10(c.accountID,c.draftID,c.adsApplicationID);if(c.adsApplicationID===b("AdsApplicationIDs").ADS_POWER_EDITOR)if(this.$AdsDraftSelectionStore2.size===0){this.$AdsDraftSelectionStore2=this.$AdsDraftSelectionStore2.set(c.accountID,b("LoadObject").withValue(b("immutable").Map((a={},a[c.draftType]=c.draft,a))))}else this.$AdsDraftSelectionStore2=this.$AdsDraftSelectionStore2.map(function(a,b){return c.accountID!==b?a:a.map(function(a){return a.set(c.draftType,c.draft)})})}break;case b("AdsDraftDraftSetCurrentDraftSuccessDataActionFlux").actionType:this.$AdsDraftSelectionStore10(c.accountID,c.draftID,c.adsApplicationID);break;case b("AdsDraftDraftSetCurrentDraftDataActionFlux").actionType:this.$AdsDraftSelectionStore11(c.accountID,c.draftID,c.adsApplicationID);break;case b("AdsDraftDraftCurrentDraftLoadErrorDataActionFlux").actionType:case b("AdsDraftDraftAndFragmentLoadErrorDataActionFlux").actionType:case b("AdsDraftDraftSetCurrentDraftErrorDataActionFlux").actionType:this.$AdsDraftSelectionStore12(c.accountID,c.error,c.adsApplicationID);break;case b("AdsConnectionStatusGraphSuccessActionFlux").actionType:this.$AdsDraftSelectionStore13();break;case b("AdsAppVisibilityFocusDataActionFlux").actionType:b("performanceNow")()-this.$AdsDraftSelectionStore4>b("DateConsts").MS_PER_HOUR/2&&this.$AdsDraftSelectionStore13();break;case b("AdsDraftLoginAsDraftsLoadedDataActionFlux").actionType:this.$AdsDraftSelectionStore14(c.accountID,c.drafts);break}};d.$AdsDraftSelectionStore5=function(a,b,c){var d=this.$AdsDraftSelectionStore1.get(a)||new Map();d.set(b,c);this.$AdsDraftSelectionStore1.set(a,d)};d.$AdsDraftSelectionStore8=function(a,c,d,e){d===void 0&&(d=b("AdsDraftTypes").ACTIVE);var f=b("LoadObject").loading();this.$AdsDraftSelectionStore5(a,e,f);b("AdsDraftDataManager").createCurrentDraft({accountID:a,name:c,type:d,adsApplicationID:e});this.__emitChange()};d.$AdsDraftSelectionStore11=function(a,c,d){var e=b("LoadObject").loading().setValue(c);this.$AdsDraftSelectionStore5(a,d,e);b("AdsDraftDataManager").setCurrentDraft(a,c,d);this.__emitChange()};d.$AdsDraftSelectionStore12=function(a,c,d){c=b("LoadObject").empty().setError(c);this.$AdsDraftSelectionStore5(a,d,c);this.__emitChange()};d.$AdsDraftSelectionStore10=function(a,c,d){c=b("LoadObject").withValue(c);this.$AdsDraftSelectionStore5(a,d,c);this.__emitChange()};d.$AdsDraftSelectionStore9=function(a,c,d){var e=b("LoadObject").withValue(d);this.$AdsDraftSelectionStore5(a,c,e);b("AdsDraftDataManager")["delete"](d,a,c);this.__emitChange()};d.$AdsDraftSelectionStore6=function(a){__p&&__p();this.$AdsDraftSelectionStore3=this.$AdsDraftSelectionStore3.union(a);var b=new Set(a);this.$AdsDraftSelectionStore1.forEach(function(a){a.forEach(function(c,d){c.value&&b.has(c.value)&&a["delete"](d)})});this.$AdsDraftSelectionStore2=this.$AdsDraftSelectionStore2.map(function(a){return a.map(function(a){return a.filter(function(a){return!b.has(a.id)})})});this.__emitChange()};d.$AdsDraftSelectionStore7=function(a,c,d){__p&&__p();if(!c){var e;this.$AdsDraftSelectionStore1.forEach(function(b,c){b.forEach(function(b){b.value===a&&(e=c)})});if(!e){b("expectationViolation")("Draft %s was closed, but this draft does not correspond to any active draft!",a);return}if(b("adsDraftIsUsingLoginAs")()){c=this.$AdsDraftSelectionStore1.get(e)||new Map();c["delete"](d);this.$AdsDraftSelectionStore1.set(e,c)}else{c=b("AdsDraftConstants").EMPTY_DRAFT_LOADOBJECT;this.$AdsDraftSelectionStore5(e,d,c);b("AdsDraftDataManager").createCurrentDraft({accountID:e,type:b("AdsDraftTypes").ACTIVE,adsApplicationID:d})}}};d.$AdsDraftSelectionStore13=function(){__p&&__p();var a=this;if(!b("AdsConnectionStatusStore").isConnected())return;if(b("AdsDraftPublishStore").getActivePublish().isLoading())return;this.$AdsDraftSelectionStore4=b("performanceNow")();this.$AdsDraftSelectionStore1.forEach(function(c,d){__p&&__p();c.forEach(function(c,e){__p&&__p();c=c.getValue();if(c==null)return;var f=b("AdsDraftTypes").ACTIVE;if(e===b("AdsApplicationIDs").ADS_POWER_EDITOR){var g=a.$AdsDraftSelectionStore2.get(d);if(g==null)return;g=g.getValue();if(g==null)return;g.has(b("AdsDraftTypes").LOGIN_AS_ACTIVE)&&g.get(b("AdsDraftTypes").LOGIN_AS_ACTIVE).id===c&&(f=b("AdsDraftTypes").LOGIN_AS_ACTIVE)}b("AdsDraftDataManager").refresh(d,c,f,e)})})};d.$AdsDraftSelectionStore14=function(a,c){var d=this,e=c.filter(function(a){return!d.$AdsDraftSelectionStore3.contains(a.id)});this.$AdsDraftSelectionStore2=this.$AdsDraftSelectionStore2.set(a,b("LoadObject").withValue(e));e=b("AdsDraftSelectionUIStore").getForAccount(a).selectedDraftType;if(e!=null){c=c.get(e);c!=null&&this.__setCurrentDraftIDs(a,b("WebApiApplication").getClientID(),c.id)}this.__emitChange()};d.__setCurrentDraftIDs=function(a,c,d){d=b("LoadObject").withValue(d);this.$AdsDraftSelectionStore5(a,c,d)};return c}(b("FluxStore"));a.__moduleID=e.id;e.exports=new a()}),null);
__d("AdsDraftSelectionUIStore",["AdsCurrentUser","AdsDataAtom","AdsDraftDraftAndFragmentLoadedDataActionFlux","AdsDraftDraftCreateCurrentDraftDataActionFlux","AdsDraftDraftCurrentDraftLoadedDataActionFlux","AdsDraftLoginAsDraftsLoadedDataActionFlux","AdsDraftLoginAsSetDraftNameDataActionFlux","AdsDraftLoginAsSetDraftTypeDataActionFlux","AdsDraftSelectionStore","AdsDraftTypes","FluxReduceStore","adsDraftIsApplicationIDPowerEditor","formatDate","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="loginas draft for "+b("AdsCurrentUser").employeeName+" "+b("formatDate")(new Date(),"Y-m-d",{skipPatternLocalization:!0}),h=b("gkx")("779516"),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}return a}(b("immutable").Record({isSelectDraftVisible:!1,newDraftName:g,selectedDraftType:null})),j=new i();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.AccountState=i,b)||babelHelpers.assertThisInitialized(c)}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map()};d.getForAccount=function(a){return this.getState().get(a,j)};d.__getActionTypes=function(){return h?[b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType,b("AdsDraftDraftCreateCurrentDraftDataActionFlux").actionType,b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType,b("AdsDraftLoginAsDraftsLoadedDataActionFlux").actionType,b("AdsDraftLoginAsSetDraftNameDataActionFlux").actionType,b("AdsDraftLoginAsSetDraftTypeDataActionFlux").actionType]:null};d.__getDependencyStores=function(){return h?[b("AdsDraftSelectionStore")]:[]};d.reduce=function(a,c){__p&&__p();var d=c.action;if(!b("adsDraftIsApplicationIDPowerEditor")(d.adsApplicationID))return a;h&&this.getDispatcher().waitFor(this.getDependencyDispatchTokens());switch(d.type){case b("AdsDraftLoginAsSetDraftNameDataActionFlux").actionType:return a.update(d.accountID,j,function(a){return a.set("newDraftName",d.name)});case b("AdsDraftLoginAsSetDraftTypeDataActionFlux").actionType:return a.update(d.accountID,j,function(a){return a.set("selectedDraftType",d.draftType)});case b("AdsDraftLoginAsDraftsLoadedDataActionFlux").actionType:h||b("AdsDataAtom").waitFor([b("AdsDraftSelectionStore").getDispatchToken()]);var e=b("AdsDraftSelectionStore").getAvailableDrafts(d.accountID);return a.update(d.accountID,j,function(a){return a.merge({isSelectDraftVisible:!0,newDraftName:g,selectedDraftType:e.hasValue()&&e.getValueEnforcing().has(b("AdsDraftTypes").LOGIN_AS_ACTIVE)?b("AdsDraftTypes").LOGIN_AS_ACTIVE:b("AdsDraftTypes").LOGIN_AS_CREATE_NEW})});case b("AdsDraftDraftCreateCurrentDraftDataActionFlux").actionType:case b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType:case b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType:return a.update(d.accountID,j,function(a){return a.set("isSelectDraftVisible",!1)});default:return a}};return c}(b("FluxReduceStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsAdgroupStoreUtils",["Promise","AdsAccountStore","AdsAdgroupCombinedListStore","AdsAdgroupCombinedStore","AdsStoreUtils","adsStorePromiseAsyncGetForSyncStore","promiseStoreGet"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={loadAdgroupsInCampaigns:function(a){var c=b("AdsAccountStore").getSelectedAccountID();if(c==null||c==="")return b("Promise").resolve(new Map());var d=[];return b("adsStorePromiseAsyncGetForSyncStore")(b("AdsAdgroupCombinedListStore"),function(){return b("AdsAdgroupCombinedListStore").getForCampaigns(c,a)}).then(function(a){d=b("AdsStoreUtils").flattenLists(a);return b("promiseStoreGet").all(b("AdsAdgroupCombinedStore"),function(){return b("AdsAdgroupCombinedStore").getAll(d)})})},loadAdgroupIDsInCampaigns:function(a){return g.loadAdgroupsInCampaigns(a).then(function(a){var b=[];a.forEach(function(a,c){return b.push(c)});return b})},loadAdgroupIDsInCampaignGroups:function(a){var c=b("AdsAccountStore").getSelectedAccountID();return c==null||c===""?b("Promise").resolve([]):b("adsStorePromiseAsyncGetForSyncStore")(b("AdsAdgroupCombinedListStore"),function(){return b("AdsAdgroupCombinedListStore").getForCampaignGroups(c,a)}).then(function(a){return b("AdsStoreUtils").flattenLists(a)})}};e.exports=g}),null);
__d("AdsMediaFormatMutators",["AdsAdgroupCallToActionMutatorsAdapter","AdsAdgroupEditorStore","AdsAdgroupPostTypeMutators","AdsAPIAdAssetFeedFields","AdsAPIAdgroupPaths","AdsAPIObjectives","AdsAssetFeedUtils","AdsBrandAwarenessUtils","AdsCallToActionTypes","AdsCanvasAdUtils","AdsDataAtom","AdsDLOAssetFeedMutators","AdsLocalizedPlacementsMutators","AdsMediaFormat","AdsMutators","AdsObjectTypeUtils","AdsOverlaysUtils","AdsPageStore","AdsUEditorAdgroupAssetFeedMutators","AdsUEditorAdgroupCachedUtils","AdsUEditorCallToActionMutators","AdsUEditorWebsiteUtils","AdsUnifiedCreativeAPIFieldMappings","AdsUnifiedCreativeAPIFields","ApiAdObjectTypes","ApiDynamicCreativeOptimizationAdFormat","ApiPageFields","FBLogger","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsAdgroupCallToActionMutatorsAdapter").setCallToAction,h=b("AdsAdgroupPostTypeMutators").convertLinkOrTemplatePostToVideoPost,i=b("AdsAdgroupPostTypeMutators").convertPhotoPostToVideoPost,j=b("AdsAdgroupPostTypeMutators").convertTemplatePostToLinkPost,k=b("AdsAdgroupPostTypeMutators").convertVideoPostToLinkOrTemplatePost,l=b("AdsAdgroupPostTypeMutators").convertVideoPostToPhotoPost,m=b("AdsMutators").deleteIn,n=b("AdsMutators").setIn,o=b("AdsUEditorCallToActionMutators").setCallToActionLinkFormat;function a(a,c,d,e,f){__p&&__p();if(b("AdsAssetFeedUtils").isAdgroupUsingNonDofAssetFeedSpec(c)||f!=null&&b("AdsUEditorAdgroupCachedUtils").hasCachedAssetFeed(f,c,a))return p(a,c,d,e,f);b("AdsOverlaysUtils").hasCustomOverlaySpec(c)&&(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CUSTOM_OVERLAY_SPEC.path));if(e===b("AdsAPIObjectives").PAGE_LIKES)return s(a,c,d);c=m(b("AdsAPIAdgroupPaths").CREATIVE.PLATFORM_CUSTOMIZATIONS.path,c);switch(a){case b("AdsMediaFormat").IMAGE:return q(e,c);case b("AdsMediaFormat").VIDEO:return r(e,c,d);default:b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}function p(a,c,d,e,f){__p&&__p();f=f!=null?f.get(c.id):null;switch(a){case b("AdsMediaFormat").IMAGE:if(f!=null&&f.imageAssetFeedSpec!=null)return n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,f.imageAssetFeedSpec,c);if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c))return q(e,b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(b("ApiAdObjectTypes").VIDEO,c,e));b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(c)&&(c=b("AdsLocalizedPlacementsMutators").removeAllMediaInLocalizedPlacementsAdgroup(c),c=b("AdsUEditorAdgroupAssetFeedMutators").convertLocalizedPlacementsAdgroupToDLOAdgroup(c,b("AdsAPIAdAssetFeedFields").VIDEOS));c=m(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.VIDEOS,c);c=b("AdsDLOAssetFeedMutators").removeMediaFromAdgroup(c,b("AdsAPIAdAssetFeedFields").VIDEOS);return n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of(b("ApiDynamicCreativeOptimizationAdFormat").SINGLE_IMAGE),c);case b("AdsMediaFormat").VIDEO:if(f!=null&&f.videoAssetFeedSpec!=null)return n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.path,f.videoAssetFeedSpec,c);if(b("AdsAssetFeedUtils").isPACAdgroupFromRecord(c)){f=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);return r(e,b("AdsUEditorAdgroupAssetFeedMutators").convertFromAssetFeedSpec(f,c,e),d)}b("AdsAssetFeedUtils").isLocalizedPlacementsAdgroupFromRecord(c)&&(c=b("AdsLocalizedPlacementsMutators").removeAllMediaInLocalizedPlacementsAdgroup(c),c=b("AdsUEditorAdgroupAssetFeedMutators").convertLocalizedPlacementsAdgroupToDLOAdgroup(c,b("AdsAPIAdAssetFeedFields").IMAGES));c=m(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.IMAGES,c);c=b("AdsDLOAssetFeedMutators").removeMediaFromAdgroup(c,b("AdsAPIAdAssetFeedFields").IMAGES);return n(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_SPEC.AD_FORMATS,b("immutable").List.of(b("ApiDynamicCreativeOptimizationAdFormat").SINGLE_VIDEO),c);default:b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}function q(a,c){__p&&__p();var d=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);switch(d){case b("ApiAdObjectTypes").PHOTO:return c;case b("ApiAdObjectTypes").SHARE:var e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.OFFER_ID);if(e)return k(a,c);return b("AdsObjectTypeUtils").isTemplateCreative(c)&&a!==b("AdsAPIObjectives").STORE_VISITS&&!b("AdsCanvasAdUtils").isCanvasAd(c.creative)?j(c).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID):c;case b("ApiAdObjectTypes").VIDEO:e=a===b("AdsAPIObjectives").POST_ENGAGEMENT&&!b("AdsCanvasAdUtils").isCanvasDestinationEnabled(c)||b("AdsBrandAwarenessUtils").isBrandObjective(a)&&!b("AdsBrandAwarenessUtils").isWebsiteLinkEnabled(c);return e?l(a,c):k(a,c);default:b("FBLogger")("ads").mustfix("Invalid object type: %s",d);return c}}function r(a,c,d){__p&&__p();d=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE);switch(d){case b("ApiAdObjectTypes").PHOTO:c=i(a,c);break;case b("ApiAdObjectTypes").SHARE:(b("AdsBrandAwarenessUtils").isBrandObjective(a)||a===b("AdsAPIObjectives").POST_ENGAGEMENT)&&(c=g(b("AdsCallToActionTypes").TYPES.LEARN_MORE.name,c));c=h(a,c);b("AdsCanvasAdUtils").isCanvasAd(c.creative)||(c=c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.PRODUCT_SET_ID));break;case b("ApiAdObjectTypes").VIDEO:break;default:b("FBLogger")("ads").mustfix("Invalid object type: %s",d);return c}c=o(c,b("AdsUEditorWebsiteUtils").getVideoLPPFormat(c,a));return c}function s(a,c,d){__p&&__p();b("AdsDataAtom").isDispatching()&&b("AdsDataAtom").waitFor([b("AdsAdgroupEditorStore").getDispatchToken()]);d=b("AdsUnifiedCreativeAPIFields").pageID.getValue(c,d);var e;if(a===b("AdsMediaFormat").VIDEO&&c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE)!==b("ApiAdObjectTypes").SHARE){c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.PAGE_ID,d,c);c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.PAGE,d,c);c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE,b("AdsCallToActionTypes").TYPES.LIKE_PAGE.name,c);c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").VIDEO,c);e=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.BODY);e&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.MESSAGE,e,c));e=b("AdsAdgroupEditorStore").getCachedVideoID(c.id);e&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID,e,c));e=b("AdsAdgroupEditorStore").getCachedVideoThumbnailURL(c.id);e&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_URL,e,c));e=b("AdsAdgroupEditorStore").getCachedVideoThumbnailHash(c.id);e&&(c=n(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.IMAGE_HASH,e,c));c=m(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH,c);c=m(b("AdsAPIAdgroupPaths").CREATIVE.BODY,c);c=m(b("AdsAPIAdgroupPaths").CREATIVE.TITLE,c);c=m(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID,c);return c}else if(a===b("AdsMediaFormat").VIDEO&&c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE)===b("ApiAdObjectTypes").SHARE){c=c.setIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.pageID,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.VALUE.PAGE,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.CALL_TO_ACTION.TYPE,b("AdsCallToActionTypes").TYPES.LIKE_PAGE.name).setIn(b("AdsAPIAdgroupPaths").CREATIVE.LINK_OG_ID,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").VIDEO);e=c.getIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.message);var f=b("AdsAdgroupEditorStore").getCachedVideoID(c.id),g=b("AdsAdgroupEditorStore").getCachedVideoThumbnailURL(c.id);c=c.setIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.message,e).setIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.videoID,f).setIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.videoThumbnailURL,g).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.IMAGE_HASH).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.BODY).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.TITLE).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID);return c}else if(a===b("AdsMediaFormat").IMAGE){c=c.setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_TYPE,b("ApiAdObjectTypes").SHARE).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.VALUE.PAGE,d).setIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.LINK_DATA.CALL_TO_ACTION.TYPE,b("AdsCallToActionTypes").TYPES.LIKE_PAGE.name);e=b("AdsAdgroupEditorStore").getCachedImageCrops(c.id);f=b("AdsAdgroupEditorStore").getCachedImageHash(c.id);g=b("AdsAdgroupEditorStore").getCachedTitle(c.id);var h=c.getIn(b("AdsUnifiedCreativeAPIFieldMappings").VIDEO_MAPPING.message),i=b("AdsAdgroupEditorStore").getCachedLink(c.id);if(d!=null&&i==null){d=b("AdsPageStore").get(d);i=d[b("ApiPageFields").LINK]}c=c.setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.message,h).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.headline,g).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.imageHash,f).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.imageCrops,e).setIn(b("AdsUnifiedCreativeAPIFieldMappings").LINK_MAPPING.linkURL,i).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.LINK_OG_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.path).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.LINK_URL).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.VIDEO_ID);return c}else{b("FBLogger")("ads").mustfix("Invalid media format: %s",a);return c}}c={setMediaFormat:a};e.exports=c}),null);
__d("AdsPredictionObjectStore",["AdsDataAtom","AdsPredictionBatchLoadedDataActionFlux","AdsPredictionBatchLoadErrorDataActionFlux","AdsPredictionDataManager","FluxLoadObjectStore","adsCreateStoreThunkSelector","gkx","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getAllSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getAll.bind(babelHelpers.assertThisInitialized(d))),d.getSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.get.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.__getActionTypes=function(){return g?[this.getActionTypeStartLoad(),b("AdsPredictionBatchLoadErrorDataActionFlux").actionType,b("AdsPredictionBatchLoadedDataActionFlux").actionType]:null};d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsPredictionBatchLoadedDataActionFlux").actionType:return this.__handleMap(a,c.predictions);case b("AdsPredictionBatchLoadErrorDataActionFlux").actionType:return this.__handleMap(a,b("immutable").Map(c.errors));default:return a}};d.__load=function(a){b("AdsPredictionDataManager").load(a)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsDraftFragmentListStore",["AdsAPIAdDraftFragmentFields","AdsBaseListStore","AdsCopyCopyCompletedDataActionFlux","AdsDraftDraftAndFragmentLoadedDataActionFlux","AdsDraftDraftBatchDeletedDataActionFlux","AdsDraftDraftCloseAfterSyncDataActionFlux","AdsDraftDraftCurrentDraftLoadedDataActionFlux","AdsDraftDraftFragmentBatchCreatedDataActionFlux","AdsDraftDraftFragmentBatchDeletedDataActionFlux","AdsDraftDraftFragmentListBatchLoadedDataActionFlux","AdsDraftDraftFragmentListBatchLoadErrorDataActionFlux","AdsDraftDraftFragmentListLoadedDataActionFlux","AdsDraftDraftFragmentListLoadErrorDataActionFlux","AdsDraftDraftFragmentListPartialLoadDataActionFlux","AdsDraftFragmentListDataManager","AdsLoadState_LEGACY","FBLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("779516");a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getDataManager=function(){return b("AdsDraftFragmentListDataManager")};d.__getActionTypes=function(){return g?[b("AdsCopyCopyCompletedDataActionFlux").actionType,b("AdsDraftDraftBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType,b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType,b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType,b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType,b("AdsDraftDraftFragmentListBatchLoadErrorDataActionFlux").actionType,b("AdsDraftDraftFragmentListBatchLoadedDataActionFlux").actionType,b("AdsDraftDraftFragmentListLoadErrorDataActionFlux").actionType,b("AdsDraftDraftFragmentListLoadedDataActionFlux").actionType,b("AdsDraftDraftFragmentListPartialLoadDataActionFlux").actionType]:null};d.__onDispatch=function(a){__p&&__p();var c=this,d;a=a.action;switch(a.type){case b("AdsDraftDraftBatchDeletedDataActionFlux").actionType:a.ids.forEach(function(a){return c.__invalidate(a)});break;case b("AdsDraftDraftCloseAfterSyncDataActionFlux").actionType:this.$AdsDraftFragmentListStore1(a.draftID,a.fragmentIDs);break;case b("AdsDraftDraftCurrentDraftLoadedDataActionFlux").actionType:b("gkx")("840314")?(this.__invalidate(a.draftID),this.__handleDataFor(a.draftID,[],b("AdsLoadState_LEGACY").LOADED)):b("AdsDraftFragmentListDataManager").loadFor(a.draftID,a.adsApplicationID);break;case b("AdsDraftDraftFragmentBatchCreatedDataActionFlux").actionType:a.fragments.forEach(function(a){c.__handleDataFor(a[b("AdsAPIAdDraftFragmentFields").AD_DRAFT_ID],[a])});break;case b("AdsDraftDraftFragmentBatchDeletedDataActionFlux").actionType:this.$AdsDraftFragmentListStore2(a.fragments);break;case b("AdsDraftDraftFragmentListLoadedDataActionFlux").actionType:this.__invalidate(a.draftID);this.__handleDataFor(a.draftID,a.fragments,b("AdsLoadState_LEGACY").LOADED);break;case b("AdsDraftDraftFragmentListBatchLoadedDataActionFlux").actionType:a.responses.forEach(function(d,a){c.__invalidate(a),c.__handleDataFor(a,d.data,b("AdsLoadState_LEGACY").LOADED)});break;case b("AdsDraftDraftAndFragmentLoadedDataActionFlux").actionType:this.__invalidate(a.draftID);this.__handleDataFor(a.draftID,(d=(d=a.draft.addraft_fragments)==null?void 0:d.data)!=null?d:[],b("AdsLoadState_LEGACY").LOADED);break;case b("AdsDraftDraftFragmentListLoadErrorDataActionFlux").actionType:this.__handleDataFor(a.draftID,null,b("AdsLoadState_LEGACY").ERROR);break;case b("AdsDraftDraftFragmentListBatchLoadErrorDataActionFlux").actionType:a.errors.forEach(function(d,a){c.__handleDataFor(a,null,b("AdsLoadState_LEGACY").ERROR)});break;case b("AdsDraftDraftFragmentListPartialLoadDataActionFlux").actionType:this.__handleDataFor(a.draftID,a.fragments,b("AdsLoadState_LEGACY").LOADING);break;case b("AdsCopyCopyCompletedDataActionFlux").actionType:if(a.responses.length){var e=a.responses[0].draftID;d=a.responses.every(function(a){return a.draftID===e});d||b("FBLogger")("ads").warn("Encountered an unexpected draft ID!");this.__handleDataFor(e,a.fragments)}break}};d.$AdsDraftFragmentListStore2=function(a){var b=this;a.forEach(function(a){b.__invalidateChild(a.ad_draft_id,a.id)});this.__emitChange()};d.$AdsDraftFragmentListStore1=function(a,b){var c=this;b&&b.length?b.forEach(function(b){return c.__invalidateChild(a,b)}):(this.__invalidate(a),this.__emitChange())};return c}(b("AdsBaseListStore"));c=new a();e.exports=c}),null);
__d("AdsAdgroupDraftFragmentHelpers",["AdsAdgroupLiveStore","AdsAPIAdgroupPaths","AdsMutators","AdsObjectStorySpecUtils","AdsRunStatus","AdsUEditorAdgroupImageMutators"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsMutators").mutateEach,h=b("AdsMutators").setIn;function i(a,b){var c=b.id;if(!a.has(c)||!a.get(c).hasValue())return!1;a=a.get(c).getValue();if(!a)return!1;c=a.creative;a=b.creative;return c===a?!1:!0}a={_removeObjectStoryID:function(a){var c=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID);return!c?a:h(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID,null,a)},_removeInstagramStoryID:function(a,c){var d=a.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_ID);return d||c?a.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.INSTAGRAM_STORY_ID).deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.SOURCE_INSTAGRAM_MEDIA_ID):a},setViewTagsDefaultValueIfEmpty:function(a,c){__p&&__p();return g(c,c.keys(),function(c){__p&&__p();var d=c.id;if(!a.has(d)||!a.get(d).hasValue())return c;var e=a.get(d).getValue().view_tags,f=c.view_tags;if(e===f)return c;if(f==null){e=b("AdsAdgroupLiveStore").getCached(d).getValue();var g;e&&(g=e.view_tags);f=Array.isArray(g)?[]:null;c=h(b("AdsAPIAdgroupPaths").VIEW_TAGS,f,c)}return c})},removeRedundantImageURL:function(a,c){return a===c?c:g(c,c.keys(),function(c){return i(a,c)?b("AdsUEditorAdgroupImageMutators").removeRedundantImageURL(c):c})},removeRedundantObjectStorySpecFields:function(a,c){__p&&__p();var d=this;return g(c,c.keys(),function(c){__p&&__p();if(!i(a,c))return c;var e=b("AdsObjectStorySpecUtils").hasPageID(c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.path));c=d._removeInstagramStoryID(c,e);if(!e)return c;e=c.id;e=b("AdsAdgroupLiveStore").getCached(e).getValue();if(c.status===b("AdsRunStatus").ARCHIVED&&e&&e.status===b("AdsRunStatus").ARCHIVED)return c;c=d._removeObjectStoryID(c);return c})},removeRedundantAssetFeedSpecFields:function(a,c){return g(c,c.keys(),function(c){if(!i(a,c))return c;var d=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID);return d?h(b("AdsAPIAdgroupPaths").CREATIVE.ASSET_FEED_ID,null,c):c})},removeStaleCreativeID:function(a,c){return g(c,c.keys(),function(c){if(!i(a,c))return c;var d=c.getIn(b("AdsAPIAdgroupPaths").CREATIVE.CREATIVE_ID);return d?c.deleteIn(b("AdsAPIAdgroupPaths").CREATIVE.CREATIVE_ID):c})}};e.exports=a}),null);
__d("AdsAdgroupCreation",["fbt","AdsAPIAccountPaths","AdsAPIAdCampaignFields","AdsAPIAdCampaignGroupFields","AdsAPIAdgroupFields","AdsAPICampaignGroupPaths","AdsAPICampaignPaths","AdsAPICampaignRecord","AdsAPICampaignRecordUtils","AdsAPIConversionPixelStatuses","AdsApiLeadGenConst","AdsAPIObjectives","AdsAPIOfferFields","AdsAPIReachFrequencyPredictionFields","AdsAppUtils","AdsBuyingTypes","AdsCampaignBidUtils","AdsConversionPixelStatusUI","AdsConversionPixelStore","AdsCreativeSpecTypes","AdsDynamicAdVoices","AdsInterfacesLogger","AdsLinkPostFormat","AdsLoadStateUtils_LEGACY","AdsLocalAwarenessUtils","AdsLocalUtils","AdsMessengerConstants","AdsObjectTypeUtils","AdsPageUtils","AdsPixelPromotedObjectUtil","AdsPixelStatus","AdsPixelStatusEnum","AdsPixelStore","AdsPixelStoreUtil","AdsPromotedObjectTypes","AdsRunStatus","AdsTemplateDataDefaultsStoreUtils","AdsTokensConstants","ApiAdCreativeFields","ApiAdCreativeStorySpecFields","ApiObjectStorySpecLinkFields","ApiPageFields","CallToActionAppDestination","DynamicTemplatePageFields","ImmutableObject","OfferAvailabilityLocation","OfferComposerConstants.react","PowerEditorConfig","PowerEditorEventCategory","ads-lib-actionSpecUtils","adsCallToActionGetDefaultCallToActionType","adsCampaignIsMessengerThreadSelected","adsStorePromiseAsyncGetForSyncStore","getByPath"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="{{"+b("AdsTokensConstants").NAMESPACES.PAGE+"."+b("DynamicTemplatePageFields").LOCATION.STREET_ADDRESS+"}}",i="{{"+b("AdsTokensConstants").NAMESPACES.PAGE+"."+b("DynamicTemplatePageFields").LOCATION.CITY+"}}",j=new(b("ImmutableObject"))((a={},a[b("AdsAPIAdgroupFields").STATUS]=b("AdsRunStatus").ACTIVE,a.display_sequence=0,a)),k={getDefaultsForCreateFlow:function(a,c,d){return babelHelpers["extends"]({},j,(d={account_id:b("getByPath")(d,b("AdsAPIAccountPaths").ACCOUNT_ID)},d[b("AdsAPIAdgroupFields").ADSET_ID]=a,d[b("AdsAPIAdCampaignFields").CAMPAIGN_ID]=c,d))},getDefaults:function(a,c,d,e,f,g,h,i,l){__p&&__p();b("AdsLoadStateUtils_LEGACY").enforceLoaded(d);e&&b("AdsLoadStateUtils_LEGACY").enforceLoaded(e);l&&b("AdsLoadStateUtils_LEGACY").enforceLoaded(l);e=b("getByPath")(a,b("AdsAPICampaignPaths").ID);var m=b("getByPath")(c,b("AdsAPICampaignGroupPaths").ID);if(!e||!m){var n={};e||(n.adset=a);m||(n.campaign=c);b("AdsInterfacesLogger").log({eventName:"ad_create_missing_parent_id",eventCategory:b("PowerEditorEventCategory").ERROR,data:{error_message:JSON.stringify(n)}},b("AdsInterfacesLogger").LOG_TYPE_PRIMARY_APP);throw new Error("[AdsAdgroupCreation.getDefaults] adsetID or campaignID are missing")}return babelHelpers["extends"]({},j,(n={account_id:b("getByPath")(d,b("AdsAPIAccountPaths").ACCOUNT_ID)},n[b("AdsAPIAdgroupFields").ADSET_ID]=e,n[b("AdsAPIAdCampaignFields").CAMPAIGN_ID]=m,n.creative=k.getDefaultCreative(d,c,a,f,g,h,i,l),n),k.getDefaultEngagementAudience(c),k.getDefaultTrackingSpecs(a,c,d))},getDefaultCreative:function(a,c,d,e,f,g,h,i){__p&&__p();var j={},l=b("getByPath")(c,b("AdsAPICampaignGroupPaths").OBJECTIVE);if(l){var m=b("AdsObjectTypeUtils").getDefaultObjectType(l);m&&(j[b("ApiAdCreativeFields").OBJECT_TYPE]=m)}m=b("getByPath")(d,b("AdsAPICampaignPaths").PROMOTED_OBJECT.PRODUCT_SET_ID);m&&(j[b("ApiAdCreativeFields").PRODUCT_SET_ID]=m);if(l===b("AdsAPIObjectives").PAGE_LIKES){var n=b("getByPath")(d,b("AdsAPICampaignPaths").PROMOTED_OBJECT.PAGE_ID);n&&(j[b("ApiAdCreativeFields").OBJECT_ID]=n)}n=k.getDefaultObjectStorySpec(a,d,c,e,f,g,m,h,i);n&&(j[b("ApiAdCreativeFields").OBJECT_STORY_SPEC]=n);a=k.getDefaultLinkURL(d);a&&(j[b("ApiAdCreativeFields").LINK_URL]=a);b("AdsLocalAwarenessUtils").isADLACampaign(l,b("getByPath")(c,[b("AdsAPIAdCampaignGroupFields").PROMOTED_OBJECT]))&&(l!==b("AdsAPIObjectives").STORE_VISITS&&(j[b("ApiAdCreativeFields").PLACE_PAGE_SET_ID]=b("getByPath")(d,b("AdsAPICampaignPaths").PROMOTED_OBJECT.PLACE_PAGE_SET_ID)),j[b("ApiAdCreativeFields").DYNAMIC_AD_VOICE]=b("AdsDynamicAdVoices").STORY_OWNER);return j},getDefaultObjectStorySpec:function(a,c,d,e,f,g,h,i,j){__p&&__p();a=k._getBasicObjectStorySpec(a,c,d,f,g,h,i,j);f=b("getByPath")(d,b("AdsAPICampaignGroupPaths").BUYING_TYPE);if(f===b("AdsBuyingTypes").RESERVED&&e){h=e[b("AdsAPIReachFrequencyPredictionFields").DESTINATION_ID];j=b("getByPath")(d,b("AdsAPICampaignGroupPaths").OBJECTIVE);h&&!b("AdsAppUtils").isAppObjective(j,i)&&(a||(a={}),a[b("ApiAdCreativeStorySpecFields").PAGE_ID]=h);f=e[b("AdsAPIReachFrequencyPredictionFields").INSTAGRAM_DESTINATION_ID];a=a||{};a[b("ApiAdCreativeStorySpecFields").INSTAGRAM_ACTOR_ID]=f}d=b("adsCampaignIsMessengerThreadSelected")(c);if(d&&a){j=g&&g.id;j&&(a[b("ApiAdCreativeStorySpecFields").PAGE_ID]=j)}return a},getDefaultAppObjectStorySpec:function(a,c,d,e,f){if(f)return k.getDefaultAppDynamicObjectStorySpec(a,c,e,d);else if(d===b("AdsLinkPostFormat").MULTIPLE)return k.getDefaultAppMPAObjectStorySpec(a,c,e);else if(d===b("AdsLinkPostFormat").SINGLE)return k.getDefaultAppLPPObjectStorySpec(a,c,e);return{}},_getBasicObjectStorySpec:function(a,c,d,e,f,g,h,i){__p&&__p();var j=b("getByPath")(d,b("AdsAPICampaignGroupPaths").OBJECTIVE);switch(j){case b("AdsAPIObjectives").BRAND_AWARENESS:case b("AdsAPIObjectives").EVENT_RESPONSES:case b("AdsAPIObjectives").VIDEO_VIEWS:return{};case b("AdsAPIObjectives").PRODUCT_CATALOG_SALES:return k.getDefaultProductCatalogSalesObjectStorySpec();case b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT:case b("AdsAPIObjectives").CANVAS_APP_INSTALLS:case b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT:case b("AdsAPIObjectives").MOBILE_APP_INSTALLS:case b("AdsAPIObjectives").APP_INSTALLS:return k.getDefaultAppObjectStorySpec(c,d,e,f,g);case b("AdsAPIObjectives").LEAD_GENERATION:return e===b("AdsLinkPostFormat").MULTIPLE?k.getDefaultLeadGenMPAObjectStorySpec(c,d):k.getDefaultLeadGenLPPObjectStorySpec(c,d);case b("AdsAPIObjectives").LINK_CLICKS:case b("AdsAPIObjectives").CONVERSIONS:if(b("AdsAppUtils").isAppObjective(j,h))return k.getDefaultAppObjectStorySpec(c,d,e,f,g);if(h===b("AdsPromotedObjectTypes").PRODUCT_SET)return k.getDefaultProductCatalogSalesObjectStorySpec();return h===b("AdsPromotedObjectTypes").MESSENGER?k.getDefaultMessagesObjectStorySpec(c,d,f,e):e===b("AdsLinkPostFormat").MULTIPLE?k.getDefaultWebsiteMPAObjectStorySpec(c,d):{};case b("AdsAPIObjectives").OFFER_CLAIMS:return k.getDefaultOfferClaimsObjectStorySpec(c,d,i);case b("AdsLocalUtils").isLocalObjectiveSwitch(j):return k.getDefaultLocalAwarenessObjectStorySpec(c,d,f,e,a);case b("AdsAPIObjectives").POST_ENGAGEMENT:return k.getDefaultPostEngagementObjectStorySpec(f);case b("AdsAPIObjectives").MESSAGES:return h===b("AdsPromotedObjectTypes").WHATSAPP?k.getDefaultMessagesWhatsAppObjectStorySpec(c,d):k.getDefaultMessagesObjectStorySpec(c,d,f,e);case b("AdsAPIObjectives").PAGE_LIKES:return k.getDefaultPageLikeObjectStorySpec(d)}},getDefaultMessagesWhatsAppObjectStorySpec:function(a,c,d,e){a=d?d.id:null;c=k.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").WHATSAPP);var f=b("AdsPageUtils").getPageLink(d)||"https://facebook.com";d=b("AdsPageUtils").getWhatsAppNumber(d,!0)||void 0;if(e===b("AdsLinkPostFormat").MULTIPLE)return{link_data:{link:f,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}}),child_attachments:[{link:f,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})},{link:f,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})},{link:f,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})}]},page_id:a};else return{link_data:{link:f,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},c,{value:{whatsapp_number:d}})},page_id:a}},getDefaultMessagesObjectStorySpec:function(a,c,d,e){a=d?d.id:null;d=k.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").MESSENGER);c=b("AdsMessengerConstants").EMPTY_MESSENGER_LINK;if(e===b("AdsLinkPostFormat").MULTIPLE)return{link_data:{link:c,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:b("CallToActionAppDestination").MESSENGER}}),child_attachments:[{link:c,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:b("CallToActionAppDestination").MESSENGER}})},{link:c,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:b("CallToActionAppDestination").MESSENGER}})},{link:c,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:b("CallToActionAppDestination").MESSENGER}})}]},page_id:a};else return{link_data:{link:c,multi_share_optimized:!1,call_to_action:babelHelpers["extends"]({},d,{value:{app_destination:b("CallToActionAppDestination").MESSENGER}})},page_id:a}},getDefaultAppDynamicObjectStorySpec:function(a,c,d,e){c=b("getByPath")(a,b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL);a=d?d.id:null;return d={},d[b("ApiAdCreativeStorySpecFields").TEMPLATE_DATA]=babelHelpers["extends"]({},k.getDefaultTemplateData(e===b("AdsLinkPostFormat").MULTIPLE),(e={},e[b("ApiObjectStorySpecLinkFields").LINK]=c,e)),d[b("ApiAdCreativeStorySpecFields").PAGE_ID]=a,d},getDefaultAppMPAObjectStorySpec:function(a,c,d){a=b("getByPath")(a,b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL);d=d?d.id:null;c=k.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").MOBILE_APP);return a?{link_data:{link:a,multi_share_optimized:!0,call_to_action:babelHelpers["extends"]({},c,{value:{link:a}}),child_attachments:[{link:a,call_to_action:babelHelpers["extends"]({},c)},{link:a,call_to_action:babelHelpers["extends"]({},c)},{link:a,call_to_action:babelHelpers["extends"]({},c)}]},page_id:d}:{link_data:{multi_share_optimized:!0,call_to_action:babelHelpers["extends"]({},c),child_attachments:[{call_to_action:babelHelpers["extends"]({},c)},{call_to_action:babelHelpers["extends"]({},c)},{call_to_action:babelHelpers["extends"]({},c)}]},page_id:d}},getDefaultTemplateData:function(a){var c;c=(c={},c[b("ApiObjectStorySpecLinkFields").MULTI_SHARE_END_CARD]=b("AdsTemplateDataDefaultsStoreUtils").getDefault(b("ApiObjectStorySpecLinkFields").MULTI_SHARE_END_CARD),c[b("ApiObjectStorySpecLinkFields").NAME]=b("AdsTemplateDataDefaultsStoreUtils").getDefault(b("ApiObjectStorySpecLinkFields").NAME),c[b("ApiObjectStorySpecLinkFields").DESCRIPTION]=b("AdsTemplateDataDefaultsStoreUtils").getDefault(b("ApiObjectStorySpecLinkFields").DESCRIPTION),c);if(!a){return babelHelpers["extends"]((a={},a[b("ApiObjectStorySpecLinkFields").FORCE_SINGLE_LINK]=!0,a),c)}return c},getDefaultProductCatalogSalesObjectStorySpec:function(){var a;return a={},a[b("ApiAdCreativeStorySpecFields").TEMPLATE_DATA]=babelHelpers["extends"]({},k.getDefaultTemplateData(!0)),a},getDefaultPageLikeObjectStorySpec:function(a){var c,d;return d={},d[b("ApiAdCreativeStorySpecFields").LINK_DATA]=(c={},c[b("ApiObjectStorySpecLinkFields").CALL_TO_ACTION]=babelHelpers["extends"]({},k.getDefaultCallToActionType(a)),c),d},getDefaultLeadGenLPPObjectStorySpec:function(a,c){a=b("getByPath")(a,b("AdsAPICampaignPaths").PROMOTED_OBJECT.PAGE_ID);a=a?{page_id:a}:{};return babelHelpers["extends"]({link_data:{link:b("AdsApiLeadGenConst").LEAD_GEN_LINK_PLACEHOLDER,call_to_action:babelHelpers["extends"]({},k.getDefaultCallToActionType(c))}},a)},getDefaultLeadGenMPAObjectStorySpec:function(a,c){a=b("getByPath")(a,b("AdsAPICampaignPaths").PROMOTED_OBJECT.PAGE_ID);a=a?{page_id:a}:{};c={link:b("AdsApiLeadGenConst").LEAD_GEN_LINK_PLACEHOLDER,call_to_action:babelHelpers["extends"]({},k.getDefaultCallToActionType(c))};return babelHelpers["extends"]({link_data:babelHelpers["extends"]({},c,{multi_share_optimized:!0,child_attachments:[babelHelpers["extends"]({},c),babelHelpers["extends"]({},c),babelHelpers["extends"]({},c)]})},a)},getDefaultOfferClaimsObjectStorySpec:function(a,c,d){a=b("getByPath")(a,b("AdsAPICampaignPaths").PROMOTED_OBJECT.PAGE_ID);a=a?{page_id:a}:{};var e=d?{offer_id:d.id}:{},f={};if(d){var g=d[b("AdsAPIOfferFields").REDEMPTION_LINK];d.location_type===b("OfferAvailabilityLocation").OFFLINE&&(g=b("OfferComposerConstants.react").IN_STORE_OFFER_URL);f={link:g}}return babelHelpers["extends"]({link_data:babelHelpers["extends"]({multi_share_optimized:!1,multi_share_end_card:!1},e,{call_to_action:babelHelpers["extends"]({},k.getDefaultCallToActionType(c))},f)},a)},getDefaultLocalAwarenessObjectStorySpec:function(a,c,d,e,f){var g=b("getByPath")(c,b("AdsAPICampaignGroupPaths").PROMOTED_OBJECT.PAGE_ID),h=b("getByPath")(a,b("AdsAPICampaignPaths").PROMOTED_OBJECT.PAGE_ID),i=g||h;i=i?{page_id:i}:{};var j={},l={},m=!1;d&&(g?(m=!0,l=k.getDefaultDLATemplateData(a,c,d,e,f)):h&&(j=k.getDefaultLALinkData(a,c,d,e,f)));return babelHelpers["extends"]({},m?(g={},g[b("AdsCreativeSpecTypes").TEMPLATE_DATA]=l,g):(h={},h[b("AdsCreativeSpecTypes").LINK_DATA]=j,h),i)},getDefaultPostEngagementObjectStorySpec:function(a){return a?{page_id:a.id}:null},getDefaultDLATemplateData:function(a,c,d,e,f){a=e===b("AdsLinkPostFormat").MULTIPLE;e=(f={},f[b("ApiObjectStorySpecLinkFields").DESCRIPTION]=" ",f[b("ApiObjectStorySpecLinkFields").CALL_TO_ACTION]=babelHelpers["extends"]({},k.getDefaultCallToActionType(c)),f[b("ApiObjectStorySpecLinkFields").LINK]=d[b("ApiPageFields").LINK],f);d=babelHelpers["extends"]((c={},c[b("ApiObjectStorySpecLinkFields").MESSAGE]=g._("Visit us at {streetAddress}, {city}.",[g._param("streetAddress",h),g._param("city",i)]),c),e);if(!a){return babelHelpers["extends"]({},d,(f={},f[b("ApiObjectStorySpecLinkFields").FORCE_SINGLE_LINK]=!0,f))}c=[babelHelpers["extends"]({},e),babelHelpers["extends"]({},e),babelHelpers["extends"]({},e)];return babelHelpers["extends"]({},d,(a={},a[b("ApiObjectStorySpecLinkFields").CHILD_ATTACHMENTS]=c,a))},getDefaultLALinkData:function(a,c,d,e,f){a=e===b("AdsLinkPostFormat").MULTIPLE;f=(c={},c[b("ApiObjectStorySpecLinkFields").LINK]=d.link,c[b("ApiObjectStorySpecLinkFields").DESCRIPTION]=" ",c);e=babelHelpers["extends"]({},f);if(!a)return e;d=[babelHelpers["extends"]({},f),babelHelpers["extends"]({},f),babelHelpers["extends"]({},f)];return babelHelpers["extends"]({},e,(c={},c[b("ApiObjectStorySpecLinkFields").CHILD_ATTACHMENTS]=d,c[b("ApiObjectStorySpecLinkFields").MULTI_SHARE_END_CARD]=!1,c))},getDefaultCallToActionType:function(a,c){a=b("getByPath")(a,b("AdsAPICampaignGroupPaths").OBJECTIVE);a=b("adsCallToActionGetDefaultCallToActionType")(a,c);return a?{type:a}:{}},getDefaultAppLPPObjectStorySpec:function(a,c,d){a=b("getByPath")(a,b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL);d=d?d.id:null;c=k.getDefaultCallToActionType(c,b("AdsPromotedObjectTypes").MOBILE_APP);return a?{link_data:{link:a,call_to_action:babelHelpers["extends"]({},c,{value:{link:a}})},page_id:d}:{link_data:{call_to_action:babelHelpers["extends"]({},c)},page_id:d}},getDefaultLinkURL:function(a){a=b("getByPath")(a,b("AdsAPICampaignPaths").PROMOTED_OBJECT.OBJECT_STORE_URL);if(a)return a},getDefaultEngagementAudience:function(a){a=b("getByPath")(a,b("AdsAPICampaignGroupPaths").OBJECTIVE);return a!==b("AdsAPIObjectives").VIDEO_VIEWS?{}:{engagement_audience:!0}},getDefaultWebsiteMPAObjectStorySpec:function(a,b){return{link_data:{multi_share_end_card:!0,multi_share_optimized:!0,child_attachments:[{},{},{}]}}},getDefaultTrackingSpecs:function(a,c,d){__p&&__p();var e=[],f=[],g=b("getByPath")(c,b("AdsAPICampaignGroupPaths").OBJECTIVE),h=b("AdsAPICampaignRecordUtils").getPromotedObjectType(g,new(b("AdsAPICampaignRecord"))(a)),i=b("getByPath")(a,b("AdsAPICampaignPaths").PROMOTED_OBJECT.path);if(i){var j=b("AdsPixelPromotedObjectUtil").getDefaultTrackingSpecFromPromotedObject(i);f=b("ads-lib-actionSpecUtils").mergeOffsiteConversionToTrackingSpec([],j)}if(!i||!i.custom_event_type||!i.pixel_id){j=b("getByPath")(d,b("AdsAPIAccountPaths").ACCOUNT_ID);i=b("getByPath")(d,b("AdsAPIAccountPaths").OFFSITE_PIXELS_TOS_ACCEPTED);if(j){d=!1;j=b("AdsPixelStoreUtil").getPixelIDs(b("AdsPixelStore").getState());if(j[0]){var k=new(b("AdsPixelStatus"))(b("AdsPixelStoreUtil").getPixelLastFiringTime(b("AdsPixelStore").getState(),j[0]));k.getStatus()===b("AdsPixelStatusEnum").ACTIVE&&(f=b("ads-lib-actionSpecUtils").setFacebookPixelID(f,j[0]),d=!0)}if(!d&&!!i){var l=[];k=b("AdsConversionPixelStore").getPixels();k.forEach(function(a){a=a.pixelID;var c=b("AdsConversionPixelStore").getPixel(a);c&&b("AdsConversionPixelStatusUI").getStatus(c)===b("AdsAPIConversionPixelStatuses").ACTIVE&&l.push(a)});l.length<=b("PowerEditorConfig").config.MAX_AUTO_TRACKED_OFFSITE_PIXELS&&(f=b("ads-lib-actionSpecUtils").setPixelIDs(f,l))}}}j=b("getByPath")(a,b("AdsAPICampaignPaths").PROMOTED_OBJECT.APPLICATION_ID);if(j){var m;g===b("AdsAPIObjectives").CANVAS_APP_ENGAGEMENT?m=b("ads-lib-actionSpecUtils").makeDesktopAppEngagementTrackingSpecs(j):b("AdsAppUtils").isCanvasAppInstall(g,h)?m=b("ads-lib-actionSpecUtils").makeDesktopAppInstallTrackingSpecs(j):g===b("AdsAPIObjectives").MOBILE_APP_ENGAGEMENT?m=b("ads-lib-actionSpecUtils").makeMobileAppEngagementTrackingSpecs(j):b("AdsAppUtils").isMobileAppInstall(g,h)&&(m=b("ads-lib-actionSpecUtils").makeMobileAppInstallTrackingSpecs(j));if(m){d=b("AdsCampaignBidUtils").campaignHasBidOnActions(c,a,g);d&&e.push(m.shift());f=f.concat(m)}}e=b("ads-lib-actionSpecUtils").unifyValues(e);e=b("ads-lib-actionSpecUtils").withoutDuplicates(e);f=b("ads-lib-actionSpecUtils").unifyValues(f);f=b("ads-lib-actionSpecUtils").withoutDuplicates(f);return{conversion_specs:e,tracking_specs:f}},_getPromiseForPixels:function(a){return b("adsStorePromiseAsyncGetForSyncStore")(a,function(){return a.getPixels()},function(){return a.isListLoaded()})}};e.exports=k}),null);
__d("adsCampaignGroupBudgetBatchMutationSelector",["AdsCampaignGroupBudgetBatchMutationDataProvider","AdsStoreUtils","adsCreateSelector"],(function(a,b,c,d,e,f){"use strict";a=b("AdsCampaignGroupBudgetBatchMutationDataProvider").toFluxStore();c=b("adsCreateSelector")([b("AdsStoreUtils").toSelector(a)],function(a){return a},{name:e.id});e.exports=c}),null);
__d("AdsBaseConnectionObjectStore",["invariant","AdsBaseDataStore","AdsConnectionObjectBatchLoadedDataActionFlux","AdsConnectionObjectBatchLoadErrorDataActionFlux","AdsConnectionObjectDataManager","AdsLoadState_LEGACY","abstractMethod","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getFor.bind(babelHelpers.assertThisInitialized(d))),d.getAllSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getAllFor.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getDataManager=function(){return b("AdsConnectionObjectDataManager")};d.get=function(a){g(0,2156)};d.getAll=function(a){g(0,2157)};d.getFor=function(a,b){return this.getAllFor(a,[b]).get(b)};d.getAllFor=function(a,b){return this.__getAllConnectionObjectsFor(a,b)};d.getAllCachedFor=function(a,b){return this.getAllCached(b)};d.__getAllConnectionObjectsFor=function(a,c){var d=this.__updateLoading(c);d.length>0&&b("AdsConnectionObjectDataManager").loadAllFor(a,d);return this.getAllCached(c)};d.__getActionTypes=function(){return[b("AdsConnectionObjectBatchLoadErrorDataActionFlux").actionType,b("AdsConnectionObjectBatchLoadedDataActionFlux").actionType]};d.__onDispatch=function(a){a=a.action;switch(a.type){case b("AdsConnectionObjectBatchLoadedDataActionFlux").actionType:this.__handleLoadedData(a.connectionObjects);break;case b("AdsConnectionObjectBatchLoadErrorDataActionFlux").actionType:this.__handleData(a.errors,b("AdsLoadState_LEGACY").ERROR);break}};d.__computeStorageKey=function(a,b){return a+"_"+b};d.__handleLoadedData=function(a){var c=this,d=new Map(),e=new Map();a.forEach(function(a,b){c.__filterConnectionObject(a)?d.set(b,a):e.set(b,a)});this.__handleData(d,b("AdsLoadState_LEGACY").LOADED);this.__handleData(e,b("AdsLoadState_LEGACY").ERROR)};d.__filterConnectionObject=function(a){return b("abstractMethod")("AdsBaseConnectionObjectStore","__filterConnectionObject")};return c}(b("AdsBaseDataStore"));e.exports=a}),null);
__d("AdsPromotableEventStore",["AdsAccountStore","AdsBaseConnectionObjectStore","AdsConnectionObjectUtils","AdsLoadState_LEGACY","AdsPromotableEventBatchLoadedDataActionFlux","AdsPromotableEventBatchLoadErrorDataActionFlux","AdsPromotableEventDataManager","AdsPromotableEventListBatchLoadedDataActionFlux","AdsPromotableEventsSearchCompletedDataActionFlux","adsCreateStoreThunkSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="https://www.facebook.com/events/";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getForSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getFor.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getFor=function(a,b){return this.getAllFor(a,[b]).get(this.__computeStorageKey(a,b))};d.getAllFor=function(c,d){var e=this,f=[];d.forEach(function(a){f.push(e.__computeStorageKey(c,a))});var g=[];this.__updateLoading(f).forEach(function(a){g.push(a.split("_")[1])});g.length>0&&b("AdsPromotableEventDataManager").loadAllFor(c,g);return a.prototype.getAllCached.call(this,f)};d.getAllCachedFor=function(a,b){var c=this;return this.getAllCached(b.map(function(b){return c.__computeStorageKey(a,b)}))};d.__getActionTypes=function(){var c;return[].concat((c=a.prototype.__getActionTypes.call(this))!=null?c:[],[b("AdsPromotableEventBatchLoadErrorDataActionFlux").actionType,b("AdsPromotableEventBatchLoadedDataActionFlux").actionType,b("AdsPromotableEventListBatchLoadedDataActionFlux").actionType,b("AdsPromotableEventsSearchCompletedDataActionFlux").actionType])};d.__getDependencyStores=function(){var c;return[].concat((c=a.prototype.__getDependencyStores.call(this))!=null?c:[],[b("AdsAccountStore")])};d.__onDispatch=function(a){__p&&__p();var c=this,d=a.action;switch(d.type){case b("AdsPromotableEventBatchLoadedDataActionFlux").actionType:case b("AdsPromotableEventListBatchLoadedDataActionFlux").actionType:this.$AdsPromotableEventStoreClass1(d.accountID,d.promotableEvents);break;case b("AdsPromotableEventsSearchCompletedDataActionFlux").actionType:this.getDispatcher().waitFor(this.getDependencyDispatchTokens());this.$AdsPromotableEventStoreClass1(b("AdsAccountStore").getSelectedAccountIDX(),d.events);break;case b("AdsPromotableEventBatchLoadErrorDataActionFlux").actionType:var e=new Map();d.errors.forEach(function(a,b){b=c.__computeStorageKey(d.accountID,b);e.set(b,a)});this.__handleData(e,b("AdsLoadState_LEGACY").ERROR);break}};d.$AdsPromotableEventStoreClass2=function(a){a.url=g+a.id};d.__filterConnectionObject=function(a){return b("AdsConnectionObjectUtils").isEvent(a)};d.$AdsPromotableEventStoreClass1=function(a,c){var d=this,e=new Map();c.forEach(function(b){var c=d.__computeStorageKey(a,b.id);d.$AdsPromotableEventStoreClass2(b);e.set(c,b)});this.__handleData(e,b("AdsLoadState_LEGACY").LOADED)};return c}(b("AdsBaseConnectionObjectStore"));c=new a();e.exports=c}),null);
__d("AdsBootloadedValidationStore",["AdsBootloadedStore","AdsErrorUtils","adsCreateStoreThunkSelector","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.getCombinedErrorsSelector=b("adsCreateStoreThunkSelector")(babelHelpers.assertThisInitialized(d),d.getCombinedErrors.bind(babelHelpers.assertThisInitialized(d))),c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.getErrorSpec=function(a){return this.onLoadedStore(function(b){return b.getErrorSpec(a)},b("AdsErrorUtils").getErrorSpec([]))};d.indexErrorsByPath=function(a){return this.onLoadedStore(function(b){return b.indexErrorsByPath(a)},b("AdsErrorUtils").indexErrorsByPath([]))};d.getErrors=function(a){return this.onLoadedStore(function(b){return b.getErrors(a)},[])};d.getErrorsUnconditionally=function(a){return this.onLoadedStore(function(b){return b.getErrorsUnconditionally(a)},[])};d.getAllErrors=function(a){return this.onLoadedStore(function(b){return b.getAllErrors(a)},[])};d.getCombinedErrorsFor=function(a){return this.onLoadedStore(function(b){return b.getCombinedErrorsFor(a)},b("immutable").Map())};d.getCombinedErrors=function(a){return this.onLoadedStore(function(b){return b.getCombinedErrors(a)},[])};d.getAllCombinedErrors=function(a){return this.onLoadedStore(function(b){return b.getAllCombinedErrors(a)},b("immutable").Map())};d.getAllClientErrors=function(a){return this.onLoadedStore(function(b){return b.getAllClientErrors(a)},b("immutable").Map())};return c}(b("AdsBootloadedStore"));e.exports=a}),null);
__d("AdsAdgroupValidationBootloadedStore",["AdsBootloadedValidationStore","JSResource","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AdsBootloadedValidationStore"))(b("JSResource")("AdsAdgroupValidationStore").__setRef("AdsAdgroupValidationBootloadedStore"));b("requireWeak")("AdsAdgroupValidationStore",function(a){return g.loadStorePostDispatch(a)});e.exports=g}),null);
__d("AdsCampaignValidationBootloadedStore",["AdsBootloadedValidationStore","JSResource","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AdsBootloadedValidationStore"))(b("JSResource")("AdsCampaignValidationStore").__setRef("AdsCampaignValidationBootloadedStore"));b("requireWeak")("AdsCampaignValidationStore",function(a){return g.loadStorePostDispatch(a)});e.exports=g}),null);
__d("AdsCampaignGroupCrossValidationBootloadedStore",["AdsBootloadedValidationStore","JSResource","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AdsBootloadedValidationStore"))(b("JSResource")("AdsCampaignGroupCrossValidationStore").__setRef("AdsCampaignGroupCrossValidationBootloadedStore"));b("requireWeak")("AdsCampaignGroupCrossValidationStore",function(a){return g.loadStorePostDispatch(a)});e.exports=g}),null);
__d("AdsCampaignGroupValidationBootloadedStore",["AdsBootloadedValidationStore","JSResource","requireWeak"],(function(a,b,c,d,e,f){"use strict";var g=new(b("AdsBootloadedValidationStore"))(b("JSResource")("AdsCampaignGroupValidationStore").__setRef("AdsCampaignGroupValidationBootloadedStore"));b("requireWeak")("AdsCampaignGroupValidationStore",function(a){return g.loadStorePostDispatch(a)});e.exports=g}),null);
__d("adsUEditorPagesForAccountSelector",["AdsAccountStore","AdsAccountUtils","AdsLoadStateUtils_LEGACY","AdsPageStore","AdsPromotablePageListStore","AdsUEditorPageLoadedObjectError","AFCPromotableObjectStore","ApiPagePaths","LoadObject","adsCreateStoreSelector","getByPath","immutable","intersectArrays","naturalComparator"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Error(b("AdsUEditorPageLoadedObjectError").HAS_EMPTY_AFC_PAGE_INTERSECTION),h=new Error(b("AdsUEditorPageLoadedObjectError").LOADING_FAILURE);a=b("adsCreateStoreSelector")([b("AdsAccountStore"),b("AdsPageStore"),b("AdsPromotablePageListStore"),b("AFCPromotableObjectStore")],function(){__p&&__p();var a=b("AdsPromotablePageListStore").getFor(b("AdsAccountStore").getSelectedAccountIDX()),c=b("AdsAccountUtils").hasCapability(b("AdsAccountStore").get(b("AdsAccountStore").getSelectedAccountIDX()),"CAN_USE_AAC_ENFORCE_PO_SELECTOR"),d=a.list;if(c){var e=b("AFCPromotableObjectStore").get(b("AdsAccountStore").getSelectedAccountIDX()).getValue();if(e){e=e.promotable_page_ids;d=b("intersectArrays")(e,d)}}e=b("AdsPageStore").getAll(d);d=b("AdsLoadStateUtils_LEGACY").getLoadedValuesSingleMap(e);var f=d.sort(function(a,c){return b("naturalComparator")(b("getByPath")(a,b("ApiPagePaths").NAME),b("getByPath")(c,b("ApiPagePaths").NAME))});if(b("AdsLoadStateUtils_LEGACY").isLoading(a)||b("AdsLoadStateUtils_LEGACY").anyLoading(e))return b("LoadObject").withValue(b("immutable").List(f)).loading();else if(b("AdsLoadStateUtils_LEGACY").isError(a)||a.list.length>0&&!b("AdsLoadStateUtils_LEGACY").anyLoaded(e))return b("AdsLoadStateUtils_LEGACY").allLoaded(e)&&c&&d.length===0?b("LoadObject").withError(g):b("LoadObject").withError(h);return b("LoadObject").withValue(b("immutable").List(f))},e.id+".adsUEditorPagesForAccountSelector");e.exports=a}),null);