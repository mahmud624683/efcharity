if (self.CavalryLogger) { CavalryLogger.start_js(["lgMle"]); }

__d("AdsVideoDialogSortConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({TITLE:"title",LENGTH:"length",UPDATED_TIME:"updated_time",UPDATED_TIME_FOR_FIELD:"updatedTime",ASC:"ascending",DESC:"descending",HEADER_ASC:"ASC",HEADER_DESC:"DESC",TITLE_ASC:"title_ascending",TITLE_DESC:"title_descending",LENGTH_ASC:"length_ascending",LENGTH_DESC:"length_descending",UPDATED_TIME_ACS:"updated_time_ascending",UPDATED_TIME_DESC:"updated_time_descending",WIDTH_ASC:"width_ascending",WIDTH_DSC:"width_descending",HEIGHT_ASC:"height_ascending",HEIGHT_DSC:"height_descending"});e.exports=a}),null);
__d("AdsAccountVideoListDataLoaderV2",["AdsAssetListBaseDataLoader","AdsGraphAPI","AdsVideoDialogSortConstants","VideoGraphFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("VideoGraphFields").ID],h=25;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(g))||this,d.load=function(a,c){a=a.toJS();var f=a.accountID;a=babelHelpers.objectWithoutPropertiesLoose(a,["accountID"]);a=d.$AdsAccountVideoListDataLoaderV21(a,c);return b("AdsGraphAPI").get(e.id).adaccount(f).edge("advideos").batched().get(a).then(function(a){return d.$AdsAccountVideoListDataLoaderV22(a)})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$AdsAccountVideoListDataLoaderV21=function(a,c){return babelHelpers["extends"]({after:c,fields:g,limit:h,sort:b("AdsVideoDialogSortConstants").UPDATED_TIME_DESC},a)};d.$AdsAccountVideoListDataLoaderV22=function(a){var c,d=b("immutable").OrderedSet(a.data.map(function(a){return a.id}));c=(a==null?void 0:(c=a.paging)==null?void 0:c.next)?a==null?void 0:(c=a.paging)==null?void 0:(a=c.cursors)==null?void 0:a.after:null;return{after:c,videoSet:d}};return c}(b("AdsAssetListBaseDataLoader"));e.exports=new a()}),null);
__d("AdsVideoListLoadedUtil",["LoadObject"],(function(a,b,c,d,e,f){"use strict";a={handleResponse:function(a,c,d){return a.update(c,function(a){return b("LoadObject").withValue({videoSet:a.getValueEnforcing().videoSet.union(d.videoSet),after:d.after})})},handleError:function(a,b,c){return a.update(b,function(a){return a.setError(c).done()})}};e.exports=a}),null);
__d("AdsAccountVideoListDataProviderPlugin",["AdsAccountVideoListDataLoaderV2","AdsVideoListLoadedUtil","PaginationLoadObjectMap","immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return new(b("PaginationLoadObjectMap"))(Object.freeze({after:null,videoSet:b("immutable").OrderedSet([])}),b("AdsAccountVideoListDataLoaderV2").load,function(c,d){a(function(a){return b("AdsVideoListLoadedUtil").handleResponse(a,c,d)})},function(c,d){a(function(a){return b("AdsVideoListLoadedUtil").handleError(a,c,d)})})}};e.exports=a}),null);
__d("AdsAccountVideoListDataProvider",["Laminar","AdsAccountVideoListDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsAccountVideoListDataProviderPlugin"),"AdsAccountVideoListDataProviderPlugin")}),null);
__d("AdsAccountVideoListLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.VIDEO.LIST.LOAD_ERROR");e.exports=a}),null);
__d("AdsAccountVideoListLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.VIDEO.LIST.LOAD_ERROR"}}),null);
__d("AdsAccountVideoListLoadMoreReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set(b.query,a.getMore(b.query))}};e.exports=a}),null);
__d("AdsAccountVideoListLoadMoreDataAction",["Laminar","AdsAccountVideoListLoadMoreReducerPlugin","AdsAccountVideoListDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsAccountVideoListLoadMoreReducerPlugin"),b("AdsAccountVideoListDataProvider"),{})]},function(){return[]},"ACCOUNT_VIDEOS_LIST_LOAD_MORE");e.exports=a}),null);
__d("AdsAccountVideoListLoadMoreDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT_VIDEOS_LIST_LOAD_MORE"}}),null);
__d("AdsAccountVideoListLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"ACCOUNT.VIDEO_LIST_LOADED");e.exports=a}),null);
__d("AdsAccountVideoListLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ACCOUNT.VIDEO_LIST_LOADED"}}),null);
__d("AdsBusinessVideoListDataLoader",["AdsAssetListBaseDataLoader","AdsGraphAPI","AdsVideoDialogSortConstants","VideoGraphFields","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("VideoGraphFields").ID],h=25;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){__p&&__p();var c,d;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(c=d=a.call.apply(a,[this].concat(g))||this,d.load=function(a,c){a=a.toJS();var f=a.businessID;a=babelHelpers.objectWithoutPropertiesLoose(a,["businessID"]);a=d.$AdsBusinessVideoListDataLoader1(a,c);return b("AdsGraphAPI").get(e.id).object("business",f).edge("videos").batched().get(a).then(function(a){return d.$AdsBusinessVideoListDataLoader2(a)})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.$AdsBusinessVideoListDataLoader1=function(a,c){return babelHelpers["extends"]({after:c,fields:g,limit:h,sort:b("AdsVideoDialogSortConstants").UPDATED_TIME_DESC},a)};d.$AdsBusinessVideoListDataLoader2=function(a){var c,d=b("immutable").OrderedSet(a.data.map(function(a){return a.id}));c=(a==null?void 0:(c=a.paging)==null?void 0:c.next)?a==null?void 0:(c=a.paging)==null?void 0:(a=c.cursors)==null?void 0:a.after:null;return{after:c,videoSet:d}};return c}(b("AdsAssetListBaseDataLoader"));e.exports=new a()}),null);
__d("AdsBusinessVideoListDataProviderPlugin",["AdsBusinessVideoListDataLoader","AdsVideoListLoadedUtil","PaginationLoadObjectMap","immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:function(a){return new(b("PaginationLoadObjectMap"))(Object.freeze({after:null,videoSet:b("immutable").OrderedSet([])}),b("AdsBusinessVideoListDataLoader").load,function(c,d){a(function(a){return b("AdsVideoListLoadedUtil").handleResponse(a,c,d)})},function(c,d){a(function(a){return b("AdsVideoListLoadedUtil").handleError(a,c,d)})})}};e.exports=a}),null);
__d("AdsBusinessVideoListDataProvider",["Laminar","AdsBusinessVideoListDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsBusinessVideoListDataProviderPlugin"),"AdsBusinessVideoListDataProviderPlugin")}),null);
__d("AdsVideoSelectionHeaderTabTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({ACCOUNT:null,BUSINESS:null,PAGE:null,LIBRARY:null,IMPORT:null,UPLOAD:null});e.exports=a}),null);
__d("AdsCreativeContainerVideoPickerDataProviderPlugin",["AdsVideoSelectionHeaderTabTypes","immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:{source:b("AdsVideoSelectionHeaderTabTypes").ACCOUNT,uploads:b("immutable").OrderedSet()}};e.exports=a}),null);
__d("AdsCreativeContainerVideoPickerDataProvider",["Laminar","AdsCreativeContainerVideoPickerDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCreativeContainerVideoPickerDataProviderPlugin"),"AdsCreativeContainerVideoPickerDataProviderPlugin")}),null);
__d("AdsCurrentSessionUploadedVideoIDsDataProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={initialState:b("immutable").OrderedSet()};e.exports=a}),null);
__d("AdsCurrentSessionUploadedVideoIDsDataProvider",["Laminar","AdsCurrentSessionUploadedVideoIDsDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsCurrentSessionUploadedVideoIDsDataProviderPlugin"),"AdsCurrentSessionUploadedVideoIDsDataProviderPlugin")}),null);
__d("AdsDLOAssetFeedDismissDialogDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_DLO_ASSET_FEED.DISMISS_DIALOG"}}),null);
__d("AdsDraftDraftDeleteBatchDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsDraft.DRAFT.DELETE_BATCH"}}),null);
__d("AdsDraftDraftPublishDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"AdsDraft.DRAFT.PUBLISH"}}),null);
__d("AdsInstagramVideoUploadStartDataLoggerPlugin",["AdsInterfacesLogEvents","adsEditorLoggerLog"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsInterfacesLogEvents").Event;a={log:function(a){b("adsEditorLoggerLog")(g.VIDEO_LIB_INSTAGRAM_VIDEO_START_UPLOAD,{remote_video_url:a.url})}};e.exports=a}),null);
__d("AdsInstagramVideoUploadStartDataAction",["Laminar","AdsInstagramVideoUploadStartDataLoggerPlugin"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[b("Laminar").__createLogger("AdsInstagramVideoUploadStartDataLoggerPlugin",b("AdsInstagramVideoUploadStartDataLoggerPlugin"),{})]},"INSTAGRAM_VIDEO_UPLOAD_START");e.exports=a}),null);
__d("AdsInstagramVideoUploaderDataProviderPlugin",["immutable"],(function(a,b,c,d,e,f){"use strict";a={currentStoryID:null,errorMessage:null,isProcessing:!1,uploadedVideoID:null};var g=b("immutable").Record(a);c=function(){return g()};d={initialState:c()};e.exports=d}),null);
__d("AdsInstagramVideoUploaderDataProvider",["Laminar","AdsInstagramVideoUploaderDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsInstagramVideoUploaderDataProviderPlugin"),"AdsInstagramVideoUploaderDataProviderPlugin")}),null);
__d("AdsPageVideoListLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"PAGE.VIDEO.LIST.LOAD_ERROR");e.exports=a}),null);
__d("AdsPageVideoListLoadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PAGE.VIDEO.LIST.LOAD_ERROR"}}),null);
__d("AdsPageVideoListLoadMoreDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PAGE_VIDEOS_LIST_LOAD_MORE"}}),null);
__d("AdsPageVideoListLoadedReducerPlugin",["LoadObject"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){var d=a.getData().get(c.query),e=d.getValueEnforcing(),f=e.videoMap.withMutations(function(a){c.videos.forEach(function(b){return a.set(b.id,b)})});return!d.isLoading()&&c.after===e.after&&f===e.videoMap?a:a.set(c.query,b("LoadObject").withValue({after:c.after,videoMap:f}))}};e.exports=a}),null);
__d("AdsPageVideoListLoadedDataAction",["Laminar","AdsPageVideoListLoadedReducerPlugin","AdsPageVideoListProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsPageVideoListLoadedReducerPlugin"),b("AdsPageVideoListProvider"),{})]},function(){return[]},"PAGE.VIDEO_LIST_LOADED");e.exports=a}),null);
__d("AdsPageVideoListProvider",["Laminar","AdsPageVideoListProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsPageVideoListProviderPlugin"),"AdsPageVideoListProviderPlugin")}),null);
__d("AdsPageVideoListDataLoader",["AdsGraphAPI","AdsPageVideoListLoadedDataAction","AdsPageVideoListLoadErrorDataAction","AdsVideoDialogSortConstants","VideoGraphFields","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("VideoGraphFields").ID,b("VideoGraphFields").UPDATED_TIME],h=25;function i(a,c){var d=a.data.map(function(a){return{id:a.id,updatedTime:a.updated_time}});a=a.paging&&a.paging.next!=null&&a.paging.next!==""?a.paging.cursors.after:null;b("AdsPageVideoListLoadedDataAction").dispatch({after:a,query:c,videos:d},{line:"43",module:"AdsPageVideoListDataLoader.js"})}function j(a,c){b("AdsPageVideoListLoadErrorDataAction").dispatch({error:a,query:c},{line:"51",module:"AdsPageVideoListDataLoader.js"})}function a(a,c){var d=a.toJS(),f=d.pageID,k=d.accessToken;d=babelHelpers.objectWithoutPropertiesLoose(d,["pageID","accessToken"]);var l=a.filtering?a.filtering.toJS():[];d=babelHelpers["extends"]({sort:b("AdsVideoDialogSortConstants").UPDATED_TIME_DESC},d,{access_token:k,after:c,fields:g,filtering:[{field:b("VideoGraphFields").LIVE_STATUS,operator:"NOT_EQUAL",value:"is_live_broadcast"}].concat(l),limit:h});b("promiseDone")(b("AdsGraphAPI").get(e.id).object("page",f).edge("indexed_videos").batched().get(d),function(b){return i(b,a)},function(b){return j(b,a)})}e.exports={loadVideos:a}}),null);
__d("AdsPageVideoListProviderPlugin",["AdsPageVideoListDataLoader","LoadObject","LoadObjectMap","immutable"],(function(a,b,c,d,e,f){"use strict";var g={after:null,videoMap:b("immutable").OrderedMap()};a={initialState:function(a){return b("LoadObjectMap").create(function(c){c.forEach(function(c){b("AdsPageVideoListDataLoader").loadVideos(c),a(function(a){return a.set(c,b("LoadObject").loading().setValue(g))})})},function(a){return!a.isLoading()&&!a.isUpdating()&&!a.hasValue()})}};e.exports=a}),null);
__d("AdsPageVideoListLoadedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"PAGE.VIDEO_LIST_LOADED"}}),null);
__d("AdsUEditorAdgroupSetChildVideoIDDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_ADGROUP_EDITOR_SET_CHILD_VIDEO_ID"}}),null);
__d("AdsUEditorAdgroupSetVideoIDDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"ADS_ADGROUP_EDITOR_SET_VIDEO_ID"}}),null);
__d("AdsVideoApiParamDataProviderPlugin",["AdsVideoDialogSortConstants","immutable"],(function(a,b,c,d,e,f){"use strict";a={param:{sort:b("AdsVideoDialogSortConstants").UPDATED_TIME_DESC}};var g=b("immutable").Record(a);c=function(){return g()};d={initialState:c()};e.exports=d}),null);
__d("AdsVideoApiParamDataProvider",["Laminar","AdsVideoApiParamDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsVideoApiParamDataProviderPlugin"),"AdsVideoApiParamDataProviderPlugin")}),null);
__d("AdsVideoBatchLoadErrorDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"VIDEO.BATCH_LOAD_ERROR");e.exports=a}),null);
__d("AdsVideoBatchLoadedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"VIDEO.BATCH_LOADED");e.exports=a}),null);
__d("AdsVideoEncodingSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"VIDEO.ENCODING_SUCCESS"}}),null);
__d("AdsVideoFilterReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("param",babelHelpers["extends"]({},b.query,{sort:a.param.sort,title:a.param.title}))}};e.exports=a}),null);
__d("AdsVideoFilterDataAction",["Laminar","AdsVideoFilterReducerPlugin","AdsVideoApiParamDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsVideoFilterReducerPlugin"),b("AdsVideoApiParamDataProvider"),{})]},function(){return[]},"AdsVideoAction.VIDEOS_FILTER");e.exports=a}),null);
__d("AdsVideoItemClickedDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"VIDEO.ITEM_CLICKED");e.exports=a}),null);
__d("AdsVideoItemClickedDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"VIDEO.ITEM_CLICKED"}}),null);
__d("AdsVideoOpenSelectorDataLoggerPlugin",["AdsInterfacesLogEvents","adsEditorLoggerLog"],(function(a,b,c,d,e,f){"use strict";var g=b("AdsInterfacesLogEvents").Event;a={log:function(a){b("adsEditorLoggerLog")(g.VIDEO_LIB_OPEN_SELECTOR,{})}};e.exports=a}),null);
__d("AdsVideoOpenVideoPickerReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return babelHelpers["extends"]({},a,{shouldOpenPicker:!1})}};e.exports=a}),null);
__d("AdsVideoPickerUIDataProviderPlugin",["AdsVideoSelectionHeaderTabTypes"],(function(a,b,c,d,e,f){"use strict";a={initialState:{recentUploadedVideoID:null,selectedTab:b("AdsVideoSelectionHeaderTabTypes").ACCOUNT,shouldOpenPicker:!1}};e.exports=a}),null);
__d("AdsVideoPickerUIDataProvider",["Laminar","AdsVideoPickerUIDataProviderPlugin"],(function(a,b,c,d,e,f){"use strict";e.exports=b("Laminar").__createProvider(b("AdsVideoPickerUIDataProviderPlugin"),"AdsVideoPickerUIDataProviderPlugin")}),null);
__d("AdsVideoOpenSelectorDataAction",["Laminar","AdsVideoOpenVideoPickerReducerPlugin","AdsVideoPickerUIDataProvider","AdsVideoOpenSelectorDataLoggerPlugin"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsVideoOpenVideoPickerReducerPlugin"),b("AdsVideoPickerUIDataProvider"),{})]},function(){return[b("Laminar").__createLogger("AdsVideoOpenSelectorDataLoggerPlugin",b("AdsVideoOpenSelectorDataLoggerPlugin"),{})]},"VIDEO.OPEN_SELECTOR");e.exports=a}),null);
__d("AdsVideoSearchReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("param",babelHelpers["extends"]({},a.param,{title:b.query}))}};e.exports=a}),null);
__d("AdsVideoSearchDataAction",["Laminar","AdsVideoSearchReducerPlugin","AdsVideoApiParamDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsVideoSearchReducerPlugin"),b("AdsVideoApiParamDataProvider"),{})]},function(){return[]},"AdsVideoAction.VIDEOS_SEARCH");e.exports=a}),null);
__d("AdsVideoSortReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return a.set("param",babelHelpers["extends"]({},a.param,{sort:b.query}))}};e.exports=a}),null);
__d("AdsVideoSortDataAction",["Laminar","AdsVideoSortReducerPlugin","AdsVideoApiParamDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsVideoSortReducerPlugin"),b("AdsVideoApiParamDataProvider"),{})]},function(){return[]},"AdsVideoAction.VIDEOS_SORT");e.exports=a}),null);
__d("AdsVideoUploadToastCardUtils",["fbt","AdObjectLevels","AdsSideTrayKeys","AdsToggleSource","AdsVideoUploadStatus","Bootloader"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=2e4,i=Object.freeze({ERROR:"error",INFO:"info",PROGRESS:"progress",SUCCESS:"success",WARNING:"warning"}),j="videoUpload";function a(a,b,c,d,e,f,g){if(!e)return a;e=e.videoUploadingAdgroupIDs;e=k(e,b,c,d,f,g);return a.concat([e])}function c(a,b,c,d,e,f,g){__p&&__p();if(!e)return a;var h=e.videoUploadingAdgroupIDs;e=h&&a.find(function(a){return a.id===l(b,h)});if(!e)return a;c=k(h,b,c,d,f,g);Object.assign(e,c);return[].concat(a)}function d(a){var b=a.filter(function(a){return!(a.useCase===j&&a.cardType===i.PROGRESS)});return b.length!==a.length?b:a}function f(a,c){if(c.data.source!==b("AdsToggleSource").toast_card_cta)return a;var d=a.filter(function(a){return!(a.useCase===j&&(a.id===l(i.ERROR,c.data.ids)||a.id===l(i.SUCCESS,c.data.ids)))});return d.length!==a.length?d:a}function k(a,c,d,e,f,g){e={id:l(c,a),cardType:c,canDismiss:!0,dismissTimer:e,header:m(c,d,g===b("AdsVideoUploadStatus").ENCODING),bodyText:n(c,d),callsToAction:o(c,a),useCase:j,progressBar:p(g,f||0)};return e}function l(a,b){return a.concat(b.toString())}function m(a,b,c){switch(a){case i.SUCCESS:return g._("Your video {title} upload is complete",[g._param("title",b)]);case i.PROGRESS:return c===!0?g._("Processing video {title}",[g._param("title",b)]):g._("Uploading video {title}",[g._param("title",b)]);case i.ERROR:return g._("Unable to upload video {title}",[g._param("title",b)])}return null}function n(a,b){switch(a){case i.SUCCESS:return g._("Review your video ad to finish and publish.");case i.ERROR:return g._("Try again or select a new video.")}return null}function o(a,b){switch(a){case i.SUCCESS:case i.ERROR:return[{label:r(a),onClick:function(){q(b,a===i.ERROR)},use:"default"}]}return[]}function p(a,c){switch(a){case b("AdsVideoUploadStatus").UPLOADING:return{isBuffering:!1,percentage:c*100};case b("AdsVideoUploadStatus").ENCODING:return{isBuffering:!0,percentage:100}}return null}function q(a,c){b("Bootloader").loadModules(["AdsMgmtDrawerActions"],function(d){d.openTarget(b("AdsSideTrayKeys").EDITOR_DRAWER,a,b("AdObjectLevels").ADGROUP,b("AdsToggleSource").toast_card_cta,c)},"AdsVideoUploadToastCardUtils")}function r(a){switch(a){case i.SUCCESS:return g._("View Ad");case i.ERROR:return g._("Try Again")}return""}e.exports={DISMISS_TIMER:h,TOAST_CARD_TYPE:i,VIDEO_UPLOAD_USE_CASE:j,createToastCard:a,dismissProgressVideoToastCard:d,dismissVideoToastCardByCTA:f,updateToastCard:c}}),null);
__d("AdsVideoToastCardsCancelUploadReducerPlugin",["AdsVideoUploadToastCardUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return b("AdsVideoUploadToastCardUtils").dismissProgressVideoToastCard(a)}};e.exports=a}),null);
__d("AdsVideoUploadCancelReducerPlugin",["AdsInstagramVideoUploaderDataProvider"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return b("AdsInstagramVideoUploaderDataProvider").getInitialState()}};e.exports=a}),null);
__d("AdsVideoUploadCancelDataAction",["Laminar","AdsVideoToastCardsCancelUploadReducerPlugin","AdsToastCardDataProvider","AdsVideoUploadCancelReducerPlugin","AdsInstagramVideoUploaderDataProvider"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsVideoToastCardsCancelUploadReducerPlugin"),b("AdsToastCardDataProvider"),{}),b("Laminar").__createReducer(b("AdsVideoUploadCancelReducerPlugin"),b("AdsInstagramVideoUploaderDataProvider"),{})]},function(){return[]},"VIDEO.UPLOAD_CANCEL");e.exports=a}),null);
__d("AdsVideoUploadCancelDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"VIDEO.UPLOAD_CANCEL"}}),null);
__d("AdsVideoUploadErrorDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"VIDEO.UPLOAD_ERROR"}}),null);
__d("AdsVideoUploadFinishDataAction",["Laminar"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[]},function(){return[]},"VIDEO.UPLOAD_FINISH");e.exports=a}),null);
__d("AdsVideoUploadFinishDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"VIDEO.UPLOAD_FINISH"}}),null);
__d("AdsVideoUploadProgressDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"VIDEO.UPLOAD_PROGRESS"}}),null);
__d("AdsVideoToastCardsUploadStartReducerPlugin",["AdsUEditorHostIDs","AdsVideoUploadStatus","AdsVideoUploadToastCardUtils"],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,c){return c.editingVideo===!0&&c.hostID===b("AdsUEditorHostIDs").CREATION?a:a.length===0?b("AdsVideoUploadToastCardUtils").createToastCard(a,b("AdsVideoUploadToastCardUtils").TOAST_CARD_TYPE.PROGRESS,c.title!=null&&c.title!==""?c.title:null,null,c.context&&c.context.videoBackgroundUploadInfo,0,b("AdsVideoUploadStatus").UPLOADING):a}};e.exports=a}),null);
__d("AdsVideoUploadStartDataLoggerPlugin",["AdsInterfacesLogEvents","VideoAdCreationLoggerEvent","VideoAdsCreationTypedLogger","adsEditorLoggerLog"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsInterfacesLogEvents").Event;a={log:function(a){var c;a.title!=null&&(c=a.title);var d;a.url!=null&&(c=a.url);b("adsEditorLoggerLog")(g.VIDEO_LIB_START_UPLOAD,{remote_video_title:c,remote_video_url:d});new(b("VideoAdsCreationTypedLogger"))().setEvent(b("VideoAdCreationLoggerEvent").CLIENT_UPLOAD_DISPATCH_STARTED).setWaterfallID(a.waterfallID==null?"undefined":a.waterfallID).setSourceType("ads_interfaces").setAdAccountID(a.accountID).setTriggerTime(Date.now()).log()}};e.exports=a}),null);
__d("AdsVideoUploadStartReducerPlugin",[],(function(a,b,c,d,e,f){"use strict";a={reduce:function(a,b){return b.instagramStoryID!=null&&b.instagramStoryID!==""?a.merge({currentStoryID:b.instagramStoryID,errorMessage:null,isProcessing:!0,uploadedVideoID:null}):a}};e.exports=a}),null);
__d("AdsVideoUploadStartDataAction",["Laminar","AdsCreativeContainerVideoPickerReducerPlugins","AdsCreativeContainerVideoPickerDataProvider","AdsVideoToastCardsUploadStartReducerPlugin","AdsToastCardDataProvider","AdsVideoUploadStartReducerPlugin","AdsInstagramVideoUploaderDataProvider","AdsVideoUploadStartDataLoggerPlugin"],(function(a,b,c,d,e,f){"use strict";a=b("Laminar").__createAction(function(){return[b("Laminar").__createReducer(b("AdsCreativeContainerVideoPickerReducerPlugins").onUploadStart,b("AdsCreativeContainerVideoPickerDataProvider"),{}),b("Laminar").__createReducer(b("AdsVideoToastCardsUploadStartReducerPlugin"),b("AdsToastCardDataProvider"),{}),b("Laminar").__createReducer(b("AdsVideoUploadStartReducerPlugin"),b("AdsInstagramVideoUploaderDataProvider"),{})]},function(){return[b("Laminar").__createLogger("AdsVideoUploadStartDataLoggerPlugin",b("AdsVideoUploadStartDataLoggerPlugin"),{})]},"VIDEO.UPLOAD_START");e.exports=a}),null);
__d("VideoAdsCreationSpinnerTypes",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS_VIDEO_UPLOAD_PROGRESS_VIEW:"AdsVideoUploadProgressView",ADS_VIDEO_UPLOAD_VIEW:"AdsVideoUploadView"})}),null);
__d("VideoAdsCreationSessionStateManager",["LoadingMarkerGlobalListener","VideoAdCreationLoggerEvent","VideoAdsCreationSpinnerTypes","VideoAdsCreationTypedLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={IDLE:"idle",STARTED:"started",FINISHED:"finished"};a=function(){__p&&__p();function a(){this.$1=0,this.$2=0,this.$3=null,this.$4=null,this.$5=g.IDLE,this.$6="ads_interface"}var c=a.prototype;c.init=function(){var a=this;this.$5=g.IDLE;this.$1=0;this.$3=null;b("LoadingMarkerGlobalListener").subscribe(function(b){return a.$7(b)},function(b,c){return a.$8(b,c)})};c.$7=function(a){if(this.$5===g.STARTED&&this.$3!==null)switch(a.name){case b("VideoAdsCreationSpinnerTypes").ADS_VIDEO_UPLOAD_PROGRESS_VIEW:case b("VideoAdsCreationSpinnerTypes").ADS_VIDEO_UPLOAD_VIEW:new(b("VideoAdsCreationTypedLogger"))().setEvent(b("VideoAdCreationLoggerEvent").CLIENT_UPLOAD_SPINNER_STARTED).setWaterfallID(String(this.$3)).setAdAccountID(this.$4).setSourceType(this.$6).setTriggerTime(Date.now()).setSpinnerName(String(a.name)).setSpinnerSource(String(a.cssStack)).setSpinnerID(String(a.id)).log();break;default:break}};c.$8=function(a,c){if(this.$5===g.STARTED&&this.$3!==null)switch(a.name){case b("VideoAdsCreationSpinnerTypes").ADS_VIDEO_UPLOAD_PROGRESS_VIEW:case b("VideoAdsCreationSpinnerTypes").ADS_VIDEO_UPLOAD_VIEW:new(b("VideoAdsCreationTypedLogger"))().setEvent(b("VideoAdCreationLoggerEvent").CLIENT_UPLOAD_SPINNER_FINISHED).setWaterfallID(String(this.$3)).setAdAccountID(this.$4).setSourceType(this.$6).setTriggerTime(Date.now()).setSpinnerName(String(a.name)).setSpinnerSource(String(a.cssStack)).setSpinnerID(String(a.id)).log();this.endUploadSession();break;default:break}};c.startUploadSession=function(a,b,c){this.$3=a,this.$4=b,this.$1=Date.now(),this.$5=g.STARTED,this.$6=c===null?"ads_interface":c};c.endUploadSession=function(){this.$3=null,this.$2=Date.now(),this.$5=g.FINISHED};c.getWaterfallID=function(){return this.$3};return a}();e.exports=new a()}),null);
__d("AdsVideoActions",["invariant","AdsInstagramVideoUploadStartDataAction","AdsVideoBatchLoadedDataAction","AdsVideoBatchLoadErrorDataAction","AdsVideoFilterDataAction","AdsVideoItemClickedDataAction","AdsVideoOpenSelectorDataAction","AdsVideoSearchDataAction","AdsVideoSortDataAction","AdsVideoUploadCancelDataAction","AdsVideoUploadFinishDataAction","AdsVideoUploadStartDataAction","VideoAdsCreationSessionStateManager","WaterfallIDGenerator"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={openSelector:function(){b("AdsVideoOpenSelectorDataAction").dispatch({},{line:"34",module:"AdsVideoActions.js"})},videoBatchLoaded:function(a){b("AdsVideoBatchLoadedDataAction").dispatch({videos:a},{line:"38",module:"AdsVideoActions.js"})},videoBatchLoadError:function(a){b("AdsVideoBatchLoadErrorDataAction").dispatch({errors:a},{line:"44",module:"AdsVideoActions.js"})},videoClicked:function(){b("AdsVideoItemClickedDataAction").dispatch({},{line:"50",module:"AdsVideoActions.js"})},startVideoEdit:function(a,c,d,e,f){b("AdsVideoUploadStartDataAction").dispatch({title:a,accountID:c,videoID:d,editingVideo:!0,context:e,hostID:f},{line:"60",module:"AdsVideoActions.js"})},startUpload:function(a,c,d,e,f){var g=String(b("WaterfallIDGenerator").generate());b("VideoAdsCreationSessionStateManager").startUploadSession(g,c);Array.from(a).forEach(function(a){return b("AdsVideoUploadStartDataAction").dispatch({accountID:c,appID:d,businessFolderToken:f,file:a,context:e,waterfallID:g},{line:"83",module:"AdsVideoActions.js"})})},startUploadWithFileMap:function(a,c,d){a.forEach(function(a,e){return b("AdsVideoUploadStartDataAction").dispatch({accountID:c,file:a,uploaderKey:e,context:d},{line:"100",module:"AdsVideoActions.js"})})},startImport:function(a,c,d,e){b("AdsVideoUploadStartDataAction").dispatch({accountID:d,title:a,url:c,context:e},{line:"115",module:"AdsVideoActions.js"})},startInstagramImport:function(a,c,d,e){d||g(0,2214),b("AdsVideoUploadStartDataAction").dispatch({title:a,instagramStoryID:c,accountID:d,context:e},{line:"130",module:"AdsVideoActions.js"})},startSourceInstagramMediaImport:function(a,c,d,e){b("AdsVideoUploadStartDataAction").dispatch({title:a,sourceInstagramMediaID:c,accountID:d,context:e},{line:"144",module:"AdsVideoActions.js"})},startInstagramVideoLibraryImport:function(a,c){b("AdsInstagramVideoUploadStartDataAction").dispatch({url:a,accountID:c},{line:"153",module:"AdsVideoActions.js"})},cancelUpload:function(a){b("AdsVideoUploadCancelDataAction").dispatch(typeof a==="string"?{uploaderKey:a}:{},{line:"160",module:"AdsVideoActions.js"})},cancelUploadWithFileMap:function(a){a.forEach(function(a,b){return h.cancelUpload(b)})},cancelUploads:function(a){a.forEach(function(a){return h.cancelUpload(a)})},finishUpload:function(){b("AdsVideoUploadFinishDataAction").dispatch({},{line:"183",module:"AdsVideoActions.js"})},filter:function(a){b("AdsVideoFilterDataAction").dispatch({query:a},{line:"187",module:"AdsVideoActions.js"})},sort:function(a){b("AdsVideoSortDataAction").dispatch({query:a},{line:"193",module:"AdsVideoActions.js"})},search:function(a){b("AdsVideoSearchDataAction").dispatch({query:a===""?void 0:a},{line:"199",module:"AdsVideoActions.js"})}};e.exports=h}),null);
__d("AdsBaseVideoListStore",["FluxLoadObjectStore","LoadObject","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={after:null,videoMap:b("immutable").OrderedMap()};a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.__defaultWrapper=function(a){a=a||b("LoadObject").empty();return a.hasValue()?a:a.setValue(g)};d.__getVideoIDs=function(a){return this.__defaultWrapper(this.get(a)).map(function(b){return{after:b.after,ids:Array.from(b.videoMap.keys()),query:a}})};d.__handleVideoListLoaded=function(a,b,c,d){var e=this.__defaultWrapper(a.get(b)),f=e.getValueEnforcing(),g=f.videoMap.withMutations(function(a){c.forEach(function(b){return a.set(b.id,b)})});return!e.isLoading()&&d===f.after&&g===f.videoMap?a:this.__handleOne(a,b,{after:d,videoMap:g})};d.__handleVideoListLoadError=function(a,b,c){return this.__handleOne(a,b,c)};return c}(b("FluxLoadObjectStore"));a.__moduleID=e.id;e.exports=a}),null);
__d("AdsPageVideosQuery",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({accessToken:void 0,filtering:void 0,pageID:void 0,sort:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsVideoApiParamsForPagesEdgeFilter",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({field:void 0,operator:void 0,value:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsVideoDialogFilterConstants",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({LENGTH_LESS_THAN_15:"less than 15s",LENGTH_LESS_THAN_60:"less than 60s",LENGTH_GREATER_THAN_60:"greater than 60s",HEIGHT_GREATER_THAN_340:"greater than 340px",HEIGHT_GREATER_THAN_1067:"greater than 1067px",WIDTH_GREATER_THAN_600:"greater than 600px",ASPECT_RATIO_16_OVER_9:"16:9",ASPECT_RATIO_9_OVER_16:"9:16",ASPECT_RATIO_4_OVER_5:"4:5",ASPECT_RATIO_1_OVER_1:"1:1",ASPECT_RATIO_OTHER:"Other"});e.exports=a}),null);
__d("AdsVideoDialogFilterUtil",["AdsGenericFilterFieldType","AdsVideoDialogFilterConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1e3,h=.01,i=16/9,j=9/16,k=4/5,l=1/1,m={getApiParamsForAdAccount:function(a){__p&&__p();var c={};a.values.map(function(a){__p&&__p();var d=a.field.name,e;d==="length"?typeof a.value==="string"?e=parseInt(a.value,10)*g:e=a.value.map(function(a){return parseInt(a,10)*g}):e=a.value;switch(a.field.type){case b("AdsGenericFilterFieldType").NUMBER:switch(a.operator){case"LESS_THAN":c["max"+d]=parseInt(e,10);break;case"GREATER_THAN":c["min"+d]=parseInt(e,10);break;case"IN_RANGE":typeof e==="object"&&(c["min"+d]=parseInt(e[0],10),c["max"+d]=parseInt(e[1],10));break}break;case b("AdsGenericFilterFieldType").STRING:c[d]=e;break}});return c},getApiParamsForPagesEdge:function(a){__p&&__p();if(!a)return null;var b={};b.filtering=[];var c,d;for(var e in a){var f;switch(e){case"title":if(a[e]==null)break;f=m.getFilter("title","CONTAIN",a[e]);b.filtering.push(f);break;case"maxlength":f=m.getFilter("length","LESS_THAN",a[e]);b.filtering.push(f);break;case"minlength":f=m.getFilter("length","GREATER_THAN",a[e]);b.filtering.push(f);break;case"maxheight":f=m.getFilter("height","LESS_THAN",a[e]);b.filtering.push(f);break;case"minheight":f=m.getFilter("height","GREATER_THAN",a[e]);b.filtering.push(f);break;case"maxwidth":f=m.getFilter("width","LESS_THAN",a[e]);b.filtering.push(f);break;case"minwidth":f=m.getFilter("width","GREATER_THAN",a[e]);b.filtering.push(f);break;case"min_aspect_ratio":d=a[e];break;case"max_aspect_ratio":c=a[e];break;case"sort":b.sort=a[e]!=null&&a[e]!==""?[a[e]]:null;break;default:return null}}if(d!=null&&d!==0&&c){f=m.getFilter("aspect_ratio","IN_RANGE",[d,c]);b.filtering.push(f)}return b},getFilter:function(a,b,c){a={field:a,operator:b,value:c};return a},getApiParamsForAdAccountFromPresetFilters:function(a){__p&&__p();if(!a)return null;var c={};a.values.map(function(a){__p&&__p();var d=a.field.name,e=a.value;switch(a.field.type){case b("AdsGenericFilterFieldType").STRING:c[d]=e;break;case b("AdsGenericFilterFieldType").STRING_SET:switch(d){case"length":switch(e){case b("AdsVideoDialogFilterConstants").LENGTH_LESS_THAN_15:c.maxlength=15e3;break;case b("AdsVideoDialogFilterConstants").LENGTH_LESS_THAN_60:c.maxlength=6e4;break;case b("AdsVideoDialogFilterConstants").LENGTH_GREATER_THAN_60:c.minlength=6e4;break}break;case"height":switch(e){case b("AdsVideoDialogFilterConstants").HEIGHT_GREATER_THAN_340:c.minheight=340;break;case b("AdsVideoDialogFilterConstants").HEIGHT_GREATER_THAN_1067:c.minheight=1067;break}break;case"width":switch(e){case b("AdsVideoDialogFilterConstants").WIDTH_GREATER_THAN_600:c.minwidth=600;break}break;case"aspect_ratio":switch(e){case b("AdsVideoDialogFilterConstants").ASPECT_RATIO_16_OVER_9:c.min_aspect_ratio=i-h;c.max_aspect_ratio=i+h;break;case b("AdsVideoDialogFilterConstants").ASPECT_RATIO_9_OVER_16:c.min_aspect_ratio=j-h;c.max_aspect_ratio=j+h;break;case b("AdsVideoDialogFilterConstants").ASPECT_RATIO_4_OVER_5:c.min_aspect_ratio=k-h;c.max_aspect_ratio=k+h;break;case b("AdsVideoDialogFilterConstants").ASPECT_RATIO_1_OVER_1:c.min_aspect_ratio=l-h;c.max_aspect_ratio=l+h;break}break}}});return c}};e.exports=m}),null);
__d("AdsVideoParamProcessUtil",["AdsVideoApiParamsForPagesEdgeFilter","AdsVideoDialogFilterUtil","immutable"],(function(a,b,c,d,e,f){"use strict";a={convertPageVideoApiParamsToImmutable:function(a){a=b("AdsVideoDialogFilterUtil").getApiParamsForPagesEdge(a);var c;a&&a.filtering?c=b("immutable").List(a.filtering.map(function(a){return new(b("AdsVideoApiParamsForPagesEdgeFilter"))(babelHelpers["extends"]({},a,{value:Array.isArray(a.value)?b("immutable").List(a.value):a.value}))})):c=b("immutable").List();a=a&&a.sort?b("immutable").List(a.sort):null;return{filtering:c,sort:a}}};e.exports=a}),null);
__d("AdsPageVideoListStore",["AdsBaseVideoListStore","AdsDataAtom","AdsPageVideoListDataLoader","AdsPageVideoListLoadedDataActionFlux","AdsPageVideoListLoadErrorDataActionFlux","AdsPageVideoListLoadMoreDataActionFlux","AdsPageVideosQuery","AdsVideoParamProcessUtil"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsPageVideoListLoadedDataActionFlux").actionType:return this.__handleVideoListLoaded(a,c.query,c.videos,c.after);case b("AdsPageVideoListLoadErrorDataActionFlux").actionType:return this.__handleVideoListLoadError(a,c.query,c.error);case b("AdsPageVideoListLoadMoreDataActionFlux").actionType:return this.$AdsPageVideoListStore1(a,c.query);default:return a}};d.getVideoIDsByParams=function(a,c,d){d=b("AdsVideoParamProcessUtil").convertPageVideoApiParamsToImmutable(d);var e=d.filtering;d=d.sort;return this.__getVideoIDs(new(b("AdsPageVideosQuery"))({accessToken:c,filtering:e,pageID:a,sort:d}))};d.__load=function(a){b("AdsPageVideoListDataLoader").loadVideos(a)};d.$AdsPageVideoListStore1=function(a,c){var d=this.__defaultWrapper(a.get(c)),e=d.getValueEnforcing();e=e.after;if(e==null||e==="")return a;d.isUpdating()||b("AdsPageVideoListDataLoader").loadVideos(c,e);return this.__setUpdating(a,[c])};return c}(b("AdsBaseVideoListStore"));e.exports=new a(b("AdsDataAtom"))}),null);
__d("adsAccountAndMaybePageVideoListSelector",["AdsAccountVideoListStore","AdsLoadObjectUtils","AdsLoadStateUtils_LEGACY","AdsPageStore","AdsPageVideoListStore","LoadObject","adsCreateStoreSelector","adsMemoizeWithArgs","jsObjectHash"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("adsMemoizeWithArgs")(function(a,c){a=b("AdsLoadObjectUtils").allForceWithValues([a,c]);c=a.getValueEnforcing();c=c[0];return{accountVideosQuery:c?c.query:null,hasNextPage:c?!!c.after:!1,videoIDs:a.map(function(a){var b=a[0];a=a[1];return(a?a.ids:[]).concat(b?b.ids:[])})}},function(a,c){return b("jsObjectHash")({accountVideoResult:a,pageVideosResult:c})},e.id+".combineAccounWithPageVideos");a=b("adsCreateStoreSelector")([b("AdsAccountVideoListStore"),b("AdsPageStore"),b("AdsPageVideoListStore")],function(a){__p&&__p();var c=a.accountID,d=a.pageID;a=a.videoAPIParams;c=b("AdsAccountVideoListStore").getVideoIDsByParams(c,a);var e;if(d==null||d==="")e=b("LoadObject").empty();else{var f=b("AdsPageStore").get(d);!b("AdsLoadStateUtils_LEGACY").isLoaded(f)?e=b("LoadObject").empty():e=b("AdsPageVideoListStore").getVideoIDsByParams(d,f.access_token,a)}return g(c,e)},e.id+".adsAccountAndMaybePageVideoListSelector");e.exports=a}),null);
__d("AdsAccountVideosQuery",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({accountID:void 0,max_aspect_ratio:void 0,maxheight:void 0,maxlength:void 0,maxwidth:void 0,min_aspect_ratio:void 0,minheight:void 0,minlength:void 0,minwidth:void 0,sort:void 0,title:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("AdsAccountVideoListDataSelector",["AdsAccountVideoListDataProvider","AdsAccountVideosQuery","LoadObject","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LoadObject").withValue({after:null,ids:[],query:null});a=b("adsCreateStoreSelector")([b("AdsAccountVideoListDataProvider").toFluxStore()],function(a){var c=a.accountID;a=a.videoAPIParams;if(c===null)return g;var d=new(b("AdsAccountVideosQuery"))(babelHelpers["extends"]({},a,{accountID:c}));a=b("AdsAccountVideoListDataProvider")().get(d);return a.map(function(a){return{after:a.after,ids:a.videoSet.toArray(),query:d}})},e.id+".adsAccountVideoListSelector");e.exports=a}),null);
__d("AdsBusinessVideosQuery",["immutable"],(function(a,b,c,d,e,f){"use strict";a=b("immutable").Record({businessID:void 0,max_aspect_ratio:void 0,maxheight:void 0,maxlength:void 0,maxwidth:void 0,min_aspect_ratio:void 0,minheight:void 0,minlength:void 0,minwidth:void 0,sort:void 0,title:void 0});c=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}return b}(a);e.exports=c}),null);
__d("adsBusinessVideoListSelector",["AdsAccountStore","AdsBusinessVideoListDataProvider","AdsBusinessVideosQuery","AdsVideoApiParamDataProvider","LoadObject","adsCreateSelector","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("gkx")("890288"),h=b("LoadObject").withValue({after:null,ids:[],query:null});a=b("adsCreateSelector")([b("AdsAccountStore").getSelectedBusinessID,b("AdsBusinessVideoListDataProvider").toFluxSelector(),b("AdsVideoApiParamDataProvider").toFluxSelector()],function(a,c,d){if(!g||a==null)return h;d=d.param;var e=new(b("AdsBusinessVideosQuery"))(babelHelpers["extends"]({},d,{businessID:a}));d=c.get(e);return d.map(function(a){return{after:a.after,ids:a.videoSet.toArray(),query:e}})},{name:e.id+".adsBusinessVideoListSelector"});e.exports=a}),null);
__d("adsPageVideoListDataSelector",["AdsLoadStateUtils_LEGACY","AdsPageStore","AdsPageVideoListProvider","AdsPageVideosQuery","AdsVideoParamProcessUtil","LoadObject","adsCreateStoreSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LoadObject").withValue(Object.freeze({after:null,ids:[],query:null}));a=b("adsCreateStoreSelector")([b("AdsPageStore"),b("AdsPageVideoListProvider").toFluxStore()],function(a){__p&&__p();var c=a.pageID;a=a.videoAPIParams;if(c==null)return g;var d=b("AdsPageStore").get(c);if(!b("AdsLoadStateUtils_LEGACY").isLoaded(d))return g;a=b("AdsVideoParamProcessUtil").convertPageVideoApiParamsToImmutable(a);var e=a.filtering;a=a.sort;var f=new(b("AdsPageVideosQuery"))({pageID:c,accessToken:d.access_token,filtering:e,sort:a});c=b("AdsPageVideoListProvider")().get(f);return c.isEmpty()?g:c.map(function(a){return{after:a.after,ids:Array.from(a.videoMap.keys()),query:f}})},e.id+".adsPageVideoListDataSelector");e.exports=a}),null);
__d("adsVideoApiParamHasNoSearchNoSortAppliedSelector",["AdsVideoApiParamDataProvider","adsCreateSelector","shallowEqual"],(function(a,b,c,d,e,f){"use strict";a=b("adsCreateSelector")([b("AdsVideoApiParamDataProvider").toFluxSelector()],function(a){return b("shallowEqual")(b("AdsVideoApiParamDataProvider").getInitialState().param,a.param)},{name:e.id});e.exports=a}),null);
__d("adsSelectedTabVideoListSelector",["AdsAccountVideoListDataSelector","AdsCurrentSessionUploadedVideoIDsDataProvider","AdsVideoApiParamDataProvider","AdsVideoPickerUIDataProvider","AdsVideoSelectionHeaderTabTypes","LoadObject","adsAccountAndMaybePageVideoListSelector","adsBusinessVideoListSelector","adsCreateStoreSelector","adsPageVideoListDataSelector","adsVideoApiParamHasNoSearchNoSortAppliedSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsVideoApiParamDataProvider").toFluxStore(),h=b("AdsCurrentSessionUploadedVideoIDsDataProvider").toFluxSelector(),i=b("AdsVideoPickerUIDataProvider").toFluxSelector(),j=Object.freeze({accountVideosQuery:null,businessVideosQuery:null,hasNextPage:!1,pageVideosQuery:null,videoIDs:b("LoadObject").withValue([])});a=b("adsCreateStoreSelector")([].concat(b("adsAccountAndMaybePageVideoListSelector").getStores(),b("AdsAccountVideoListDataSelector").getStores(),b("adsBusinessVideoListSelector").getStores(),h.getStores(),b("adsPageVideoListDataSelector").getStores(),i.getStores(),b("adsVideoApiParamHasNoSearchNoSortAppliedSelector").getStores(),[g]),function(a){__p&&__p();var c=a.accountID,d=a.pageID;a=a.selectedTab;function e(a){if(!b("adsVideoApiParamHasNoSearchNoSortAppliedSelector")())return a;var c=h();return a.map(function(a){return c.union(a).toArray()})}a=(a=a)!=null?a:i().selectedTab;var f=g.getState().param;switch(a){case b("AdsVideoSelectionHeaderTabTypes").LIBRARY:a=b("adsAccountAndMaybePageVideoListSelector")({accountID:c,pageID:d,videoAPIParams:f});a.videoIDs=e(a.videoIDs);return babelHelpers["extends"]({},a,{pageVideosQuery:null,businessVideosQuery:null});case b("AdsVideoSelectionHeaderTabTypes").ACCOUNT:a=b("AdsAccountVideoListDataSelector")({accountID:c,videoAPIParams:f});c=e(a.map(function(a){return a.ids}));return{accountVideosQuery:a.hasValue()?a.getValueEnforcing().query:null,hasNextPage:a.hasValue()?!!a.getValueEnforcing().after:!1,pageVideosQuery:null,videoIDs:c};case b("AdsVideoSelectionHeaderTabTypes").PAGE:a=b("adsPageVideoListDataSelector")({pageID:d,videoAPIParams:f});e=a.map(function(a){return a.ids});return{accountVideosQuery:null,hasNextPage:a.hasValue()?!!a.getValueEnforcing().after:!1,pageVideosQuery:a.hasValue()?a.getValueEnforcing().query:null,videoIDs:e};case b("AdsVideoSelectionHeaderTabTypes").BUSINESS:a=b("adsBusinessVideoListSelector")();c=a.map(function(a){return a.ids});return{accountVideosQuery:null,businessVideosQuery:a.hasValue()?a.getValueEnforcing().query:null,hasNextPage:a.hasValue()?!!a.getValueEnforcing().after:!1,pageVideosQuery:null,videoIDs:c};default:return j}},e.id+".adsSelectedTabVideoListSelector");e.exports=a}),null);
__d("AdsAccountVideoListDataLoader",["AdsAccountVideoListLoadedDataAction","AdsAccountVideoListLoadErrorDataAction","AdsGraphAPI","AdsVideoDialogSortConstants","VideoGraphFields","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=[b("VideoGraphFields").ID,b("VideoGraphFields").UPDATED_TIME],h=25;function i(a,c){var d=a.data.map(function(a){return{id:a.id,updatedTime:a.updated_time}});a=a.paging&&a.paging.next!=null&&a.paging.next!==""?a.paging.cursors.after:null;b("AdsAccountVideoListLoadedDataAction").dispatch({after:a,query:c,videos:d},{line:"41",module:"AdsAccountVideoListDataLoader.js"})}function j(a,c){b("AdsAccountVideoListLoadErrorDataAction").dispatch({error:a,query:c},{line:"49",module:"AdsAccountVideoListDataLoader.js"})}function a(a,c){var d=a.toJS(),f=d.accountID;d=babelHelpers.objectWithoutPropertiesLoose(d,["accountID"]);d=babelHelpers["extends"]({sort:b("AdsVideoDialogSortConstants").UPDATED_TIME_DESC},d,{after:c,fields:g,limit:h});b("promiseDone")(b("AdsGraphAPI").get(e.id).adaccount(f).edge("advideos").batched().get(d),function(b){return i(b,a)},function(b){return j(b,a)})}e.exports={loadVideos:a}}),null);
__d("AdsAccountVideoListStore",["AdsAccountVideoListDataLoader","AdsAccountVideoListLoadedDataActionFlux","AdsAccountVideoListLoadErrorDataActionFlux","AdsAccountVideoListLoadMoreDataActionFlux","AdsAccountVideosQuery","AdsBaseVideoListStore","AdsDataAtom","AdsSelectorUtils","AdsVideoEncodingSuccessDataActionFlux","AdsVideoUploadStore","AdsVideoUploadUtil","LoadObject","adsVideoApiParamHasNoSearchNoSortAppliedSelector"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("LoadObject").withValue({after:null,ids:[],query:null});a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.reduce=function(a,c){c=c.action;switch(c.type){case b("AdsAccountVideoListLoadedDataActionFlux").actionType:return this.__handleVideoListLoaded(a,c.query,c.videos,c.after);case b("AdsAccountVideoListLoadErrorDataActionFlux").actionType:return this.__handleVideoListLoadError(a,c.query,c.error);case b("AdsAccountVideoListLoadMoreDataActionFlux").actionType:return this.$AdsAccountVideoListStore1(a,c.query);case b("AdsVideoEncodingSuccessDataActionFlux").actionType:b("AdsDataAtom").waitFor([b("AdsVideoUploadStore").getDispatchToken()].concat(b("AdsSelectorUtils").getStoreDispatchTokens([b("adsVideoApiParamHasNoSearchNoSortAppliedSelector")])));return b("adsVideoApiParamHasNoSearchNoSortAppliedSelector")()||b("AdsVideoUploadUtil").atLeastOneVideoUploading(b("AdsVideoUploadStore").getState())?a:this.getInitialState();default:return a}};d.getVideoIDsByParams=function(a,c){return a==null||a===""?g:this.__getVideoIDs(new(b("AdsAccountVideosQuery"))(babelHelpers["extends"]({},c,{accountID:a})))};d.__load=function(a){b("AdsAccountVideoListDataLoader").loadVideos(a)};d.$AdsAccountVideoListStore1=function(a,c){var d=this.__defaultWrapper(a.get(c)),e=d.getValueEnforcing();e=e.after;if(e==null||e==="")return a;d.isUpdating()||b("AdsAccountVideoListDataLoader").loadVideos(c,e);return this.__setUpdating(a,[c])};return c}(b("AdsBaseVideoListStore"));e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsVideoBackgroundUploadUtils",["AdsUEditorHostIDs"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b){return!b?!0:a.some(function(a){return b&&b.includes(a)})}function a(a,c){return!a&&c!==b("AdsUEditorHostIDs").CREATION}function c(a,b,c){var d=b||{},e=d.videoUploadingAdgroupIDs;d=d.videoUploadingTabID;a=g(a,e);e=d==null||c===d;return!!b&&a&&e}e.exports={areCurrentAdLevelsUploadingVideoNow:g,currentlyBackgroundUploadingForAdgroupsAndSelectedProductTab:c,isBackgroundUploadSupported:a}}),null);
__d("AdImageSpecsUtilsV2",["AdImageSpecs","AdImageSpecsUtils","AdImageTallFBSpecs","AdsPlacementAPISpecReaderUtils","AdsUniformValue","ApiAdObjectTypes","adsGetCreativeTypeByCreativeFields"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("AdsPlacementAPISpecReaderUtils").isPageTypeSupportedByAssetCustomizationPlacement,h=b("AdsPlacementAPISpecReaderUtils").isPageTypeSupportedByPlacement,i=b("adsGetCreativeTypeByCreativeFields")(b("ApiAdObjectTypes").SHARE),j={getImageSpecsForAdTypeV2:function(a,c){var d=[],e=b("AdImageSpecsUtils").getAllImageSpecs();Object.keys(e).forEach(function(b){var c=e[b].supportedTypes||[];c.indexOf(a)>=0&&d.push(e[b])});var f=c;return f?d.filter(function(a){return f.every(function(b){return h(a.placement,b)})}):d},getCropImageSpecsForDCO:function(a,c){if(a&&c)return[b("AdImageSpecs").PAGE_POST_MULTI_PRODUCT];if(a)return[b("AdImageSpecs").PAGE_POST_DESKTOP_FEED,b("AdImageTallFBSpecs").PAGE_POST_DESKTOP_FEED_SQUARE,b("AdImageTallFBSpecs").PAGE_POST_DESKTOP_FEED_NO_CROP];return a?[b("AdImageSpecs").PAGE_POST_DESKTOP_FEED]:[]},getCropImageSpecsForBulkObjectTypeV2:function(a,c){if(a instanceof b("AdsUniformValue")){a=b("adsGetCreativeTypeByCreativeFields")(a.getValue());return j.getCropImageSpecsForAdTypeV2(a,c)}return[]},getImageSpecsForAssetCustomizationPlacement:function(a,c){var d=[],e=b("AdImageSpecsUtils").getAllImageSpecs();Object.keys(e).forEach(function(a){var b=e[a].supportedTypes||[];b.indexOf(i)>=0&&d.push(e[a])});var f=c;return a&&f?d.filter(function(b){return g(b.placement,a,f)}):d},getCropImageSpecsForAdTypeV2:function(a,c){a=j.getImageSpecsForAdTypeV2(a,c);return b("AdImageSpecsUtils").getUniqueCropImageSpecs(a)}};e.exports=j}),null);
__d("AdsVideoSpecs",["AdsAPIAudienceNetworkPosition","AdsAPIFacebookPosition","AdsAPIInstagramPosition","AdsAPIMessengerPosition","AdsAPIPublisherPlatform","AdsAPIWhatsAppPosition","AdsInstagramMediaSpecs","AdsPlacementAPISpecReaderUtils","AdsVideoConfig","adsContainsAssetCustomizationPlacement","adsPlacementAPISpecReaderIsActiveFacebookPosition","adsPlacementAPISpecReaderIsActivePublisherPlatform","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={INSTAGRAM_IGTV:{placement:b("AdsAPIInstagramPosition").IGTV,placementChecker:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveInstagramPosition(a,b("AdsAPIInstagramPosition").IGTV)},assetCustomizationPlacementChecker:function(a){return b("adsContainsAssetCustomizationPlacement")(a,{platform:b("AdsAPIPublisherPlatform").INSTAGRAM,position:b("AdsAPIInstagramPosition").IGTV})},maxWarningAspectRatio:b("AdsInstagramMediaSpecs").MAX_IGTV_ASPECT_RATIO,maxWarningLength:b("AdsInstagramMediaSpecs").MAX_IGTV_VIDEO_DURATION_IN_SEC,minWarningWidth:b("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:b("AdsInstagramMediaSpecs").MIN_STORY_MEDIA_HEIGHT_LOW_RES,supportsCarousel:!1},INSTAGRAM_STORY:{placement:b("AdsAPIInstagramPosition").STORY,placementChecker:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveInstagramPosition(a,b("AdsAPIInstagramPosition").STORY)},assetCustomizationPlacementChecker:function(a){return b("adsContainsAssetCustomizationPlacement")(a,{platform:b("AdsAPIPublisherPlatform").INSTAGRAM,position:b("AdsAPIInstagramPosition").STORY})},maxWarningAspectRatio:b("AdsInstagramMediaSpecs").MAX_STORY_ASPECT_RATIO,maxWarningLength:b("AdsInstagramMediaSpecs").MAX_STORY_VIDEO_DURATION_IN_SEC_FOR_TWO_MIN_VIDEOS,minWarningWidth:b("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:b("AdsInstagramMediaSpecs").MIN_STORY_MEDIA_HEIGHT_LOW_RES,supportsCarousel:!1},INSTAGRAM_STORY_CAROUSEL:{placement:b("AdsAPIInstagramPosition").STORY,placementChecker:function(a){return b("AdsPlacementAPISpecReaderUtils").isOnlyActiveInstagramPosition(a,b("AdsAPIInstagramPosition").STORY)},assetCustomizationPlacementChecker:function(a){return a.every(function(a){return a.platform===b("AdsAPIPublisherPlatform").INSTAGRAM&&a.position===b("AdsAPIInstagramPosition").STORY})},maxWarningAspectRatio:b("AdsInstagramMediaSpecs").MAX_STORY_ASPECT_RATIO,maxWarningLength:b("AdsInstagramMediaSpecs").MAX_STORY_VIDEO_DURATION_IN_SEC_FOR_CAROUSEL_VIDEOS,minWarningWidth:b("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:b("AdsInstagramMediaSpecs").MIN_STORY_MEDIA_HEIGHT_LOW_RES,supportsCarousel:!0},INSTAGRAM_STREAM:{placement:b("AdsAPIInstagramPosition").STREAM,placementChecker:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveInstagramPosition(a,b("AdsAPIInstagramPosition").STREAM)},assetCustomizationPlacementChecker:function(a){return b("adsContainsAssetCustomizationPlacement")(a,{platform:b("AdsAPIPublisherPlatform").INSTAGRAM,position:b("AdsAPIInstagramPosition").STREAM})},minWarningAspectRatio:b("AdsInstagramMediaSpecs").MIN_STREAM_ASPECT_RATIO,maxWarningAspectRatio:b("AdsInstagramMediaSpecs").MAX_STREAM_ASPECT_RATIO,maxWarningLength:b("AdsInstagramMediaSpecs").MAX_STREAM_VIDEO_DURATION_IN_SEC,minWarningWidth:b("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:b("AdsInstagramMediaSpecs").MIN_STREAM_MEDIA_HEIGHT_LOW_RES,supportsCarousel:!1},INSTAGRAM_STREAM_CAROUSEL:{placement:b("AdsAPIInstagramPosition").STREAM,placementChecker:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveInstagramPosition(a,b("AdsAPIInstagramPosition").STREAM)},assetCustomizationPlacementChecker:function(a){return b("adsContainsAssetCustomizationPlacement")(a,{platform:b("AdsAPIPublisherPlatform").INSTAGRAM,position:b("AdsAPIInstagramPosition").STREAM})},minWarningAspectRatio:1,maxWarningAspectRatio:1,maxWarningLength:b("AdsInstagramMediaSpecs").MAX_STREAM_VIDEO_DURATION_IN_SEC,minWarningWidth:b("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH_LOW_RES,minWarningHeight:b("AdsInstagramMediaSpecs").MIN_MEDIA_WIDTH_LOW_RES,supportsCarousel:!0},AUDIENCE_NETWORK_MOBILE_EXTERNAL:{placement:b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,placementChecker:function(a){return b("adsPlacementAPISpecReaderIsActivePublisherPlatform")(a,b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)&&!b("AdsPlacementAPISpecReaderUtils").isOnlyActivePublisherPlatform(a,b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)},assetCustomizationPlacementChecker:function(a){var c=a.toArray().some(function(a){return a.platform===b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK&&a.position===b("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO});a=a.toArray().every(function(a){return a.platform===b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK&&a.position===b("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO});return c&&!a},minWarningAspectRatio:.95,maxWarningAspectRatio:2,minWarningLength:b("AdsVideoConfig").audienceNetworkInStreamVideoMinDurationInSec,maxWarningLength:b("AdsVideoConfig").audienceNetworkInStreamVideoMaxDurationInSec,hasSound:!0,hasHDQuality:!0},AUDIENCE_NETWORK_MOBILE_EXTERNAL_ONLY:{placement:b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,placementChecker:function(a){return b("AdsPlacementAPISpecReaderUtils").isOnlyActivePublisherPlatform(a,b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)},assetCustomizationPlacementChecker:function(a){return a.toArray().every(function(a){return a.platform===b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK&&a.position===b("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO})},minWarningAspectRatio:.95,maxWarningAspectRatio:2,minWarningLength:b("AdsVideoConfig").audienceNetworkInStreamVideoMinDurationInSec,maxWarningLength:b("AdsVideoConfig").audienceNetworkOnlyInStreamVideoMaxDurationInSec,hasSound:!0,hasHDQuality:!0},INSTREAM_VIDEO:{placement:b("AdsAPIFacebookPosition").INSTREAM_VIDEO,placementChecker:function(a){return b("adsPlacementAPISpecReaderIsActiveFacebookPosition")(a,b("AdsAPIFacebookPosition").INSTREAM_VIDEO)},assetCustomizationPlacementChecker:function(){return!1},minWarningLength:b("AdsVideoConfig").instreamVideoMinDurationInSec,maxWarningLength:b("AdsVideoConfig").instreamVideoMaxDurationInSec,hasSound:!0},INSTREAM_VIDEO_PAC:{placement:b("AdsAPIFacebookPosition").INSTREAM_VIDEO,placementChecker:function(){return!1},assetCustomizationPlacementChecker:function(a){return b("adsContainsAssetCustomizationPlacement")(a,{platform:b("AdsAPIPublisherPlatform").FACEBOOK,position:b("AdsAPIFacebookPosition").INSTREAM_VIDEO})},minWarningLength:b("AdsVideoConfig").instreamVideoMinDurationInSec,maxWarningLength:b("AdsVideoConfig").instreamVideoMaxDurationInSec,minWarningAspectRatio:b("AdsVideoConfig").instreamPACMinWarningAspectRatio,maxWarningAspectRatio:b("AdsVideoConfig").instreamPACMaxWarningAspectRatio,hasSound:!0},FACEBOOK_STORIES:{platform:b("AdsAPIPublisherPlatform").FACEBOOK,placement:b("AdsAPIFacebookPosition").STORY,placementChecker:function(a){return b("adsPlacementAPISpecReaderIsActiveFacebookPosition")(a,b("AdsAPIFacebookPosition").STORY)},assetCustomizationPlacementChecker:function(a){return b("adsContainsAssetCustomizationPlacement")(a,{platform:b("AdsAPIPublisherPlatform").FACEBOOK,position:b("AdsAPIFacebookPosition").STORY})},minWarningWidth:500,aspectRatioTolerance:.01,maxWarningAspectRatio:1.91,minWarningAspectRatio:.5625,maxWarningLength:15,supportsCarousel:!1},AUDIENCE_NETWORK_REWARDED_VIDEO:{placement:b("AdsAPIAudienceNetworkPosition").REWARDED_VIDEO,placementChecker:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveAudienceNetworkPosition(a,b("AdsAPIAudienceNetworkPosition").REWARDED_VIDEO)},assetCustomizationPlacementChecker:function(a){return b("adsContainsAssetCustomizationPlacement")(a,{platform:b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,position:b("AdsAPIAudienceNetworkPosition").REWARDED_VIDEO})}},WHATSAPP_STATUS:{platform:b("AdsAPIPublisherPlatform").WHATSAPP,placement:b("AdsAPIWhatsAppPosition").STATUS,placementChecker:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveWhatsAppPosition(a,b("AdsAPIWhatsAppPosition").STATUS)},assetCustomizationPlacementChecker:function(a){return b("adsContainsAssetCustomizationPlacement")(a,{platform:b("AdsAPIPublisherPlatform").WHATSAPP,position:b("AdsAPIWhatsAppPosition").STATUS})},maxWarningLength:15},MESSENGER_STORIES:{platform:b("AdsAPIPublisherPlatform").MESSENGER,placement:b("AdsAPIMessengerPosition").MESSENGER_STORY,placementChecker:function(a){return b("AdsPlacementAPISpecReaderUtils").isActiveMessengerPosition(a,b("AdsAPIMessengerPosition").MESSENGER_STORY)},assetCustomizationPlacementChecker:function(a){return b("adsContainsAssetCustomizationPlacement")(a,{platform:b("AdsAPIPublisherPlatform").MESSENGER,position:b("AdsAPIMessengerPosition").MESSENGER_STORY})},maxWarningLength:15,supportsCarousel:!1}};e.exports=a}),null);
__d("AdsInstreamCapabilityUtils",["AdsAccountUtils","AdsAPIObjectives","AdsAppUtils"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d){var e=b("AdsAccountUtils").hasCapabilityFromList(a,"INSTREAM_ADS_APP_INSTALL_LONG_VIDEO_ADS")&&c&&b("AdsAppUtils").isAppInstall(d);a=b("AdsAccountUtils").hasCapabilityFromList(a,"ADS_INSTREAM_VIDEO_LONGER_VIDEO_VIEW_CREATIVE")&&c&&d===b("AdsAPIObjectives").VIDEO_VIEWS;return e||a}function c(a,c){var d=b("AdsAccountUtils").hasCapabilityFromList(a,"ADS_INSTREAM_IMAGE_CAROUSEL_CREATION")&&(c===b("AdsAPIObjectives").CONVERSIONS||c===b("AdsAPIObjectives").WEBSITE_CONVERSIONS);a=b("AdsAccountUtils").hasCapabilityFromList(a,"ADS_INSTREAM_IMAGE_CAROUSEL_CREATION_APP_INSTALL")&&c===b("AdsAPIObjectives").APP_INSTALLS;return d||a}d={isEligibleForInstreamLongVideoAds:a,isEligibleForInstreamImageCarouselAds:c};e.exports=d}),null);
__d("AdsVideoValidationMigrationUtils",["errorCode","errorDesc","fbt","AdsAccountUtils","AdsAPIAdgroupPaths","AdsError","AdsInstagramErrorUtils","AdsInstreamCapabilityUtils","AdsInstreamVideoErrorUtils","AdsVideoConfig","AdsVideoConstraintsUtils","AdsVideoSpecs","VideoCreatorProductType"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID,k={inRange:function(a,b,c){return a>=((b=b)!=null?b:-Infinity)&&a<=((b=c)!=null?b:Infinity)},isValidAspectRatio:function(a,b,c){var d;c===void 0&&(c=.01);d=(d=b.aspectRatioTolerance)!=null?d:c;c=b.minWarningAspectRatio!=null?b.minWarningAspectRatio*(1-d):null;b=b.maxWarningAspectRatio!=null?b.maxWarningAspectRatio*(1+d):null;return k.inRange(a,c,b)},validateFBStory:function(a,c){__p&&__p();var d=[];c.maxWarningLength!=null&&Math.floor(a.length)>Number(c.maxWarningLength)&&d.push(new(b("AdsError"))(1443209,h._(function(a,b){return a._("The video duration for ads in Facebook Stories can not be longer than 15 seconds.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));if(a.height&&a.width){var e=a.width/a.height;k.isValidAspectRatio(e,c)||d.push(new(b("AdsError"))(1443208,h._(function(a,b){return a._("Ads in Facebook Stories must have an aspect ratio ranging from 9:16 to 1.91:1.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}))}k.inRange(a.width,c.minWarningWidth)||d.push(new(b("AdsError"))(1443205,h._(function(a,b){return a._("The width of photo and video has to be larger than 500px for ads in Facebook Stories.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));a.spherical&&d.push(new(b("AdsError"))(1443214,h._(function(a,b){return a._("Spherical Video is currently not supported in ads in Facebook Stories.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));return d},validateInstagramStory:function(a,c){__p&&__p();var d=[],e=b("AdsVideoConstraintsUtils").getMaxVideoDurationInSecForStories();k.inRange(Math.floor(a.length),c.minWarningLength,e)||d.push(new(b("AdsError"))(1772173,h._(function(a,b){return a._("The video duration for Instagram story ads can not be longer than 120 seconds.")},{}),{level:b("AdsError").Level.WARN,path:j}));k.inRange(a.width,c.minWarningWidth)||d.push(new(b("AdsError"))(1772076,b("AdsInstagramErrorUtils").getWrongVideoDimensionErrorMessage(c.minWarningWidth,c.minWarningHeight).toString(),{level:b("AdsError").Level.WARN,path:j}));if(a.height&&a.width){e=a.width/a.height;!k.isValidAspectRatio(e,c)&&!k.isValidAspectRatio(e,b("AdsVideoSpecs").INSTAGRAM_STREAM)&&d.push(new(b("AdsError"))(1772130,h._(function(a,b){return a._("Story media aspect ratio has to be smaller than or equal to 9:16")},{}).toString(),{level:b("AdsError").Level.WARN,path:j}))}return d},validateInstagramStream:function(a,c){var d=[],e=b("AdsVideoConstraintsUtils").getMaxVideoDurationInSecForSingleVideoStream();k.inRange(Math.floor(a.length),c.minWarningLength,e)||d.push(new(b("AdsError"))(2238028,h._(function(a,b){return a._("Instagram feed video duration can not be longer than 120 seconds.")},{}).toString(),{level:b("AdsError").Level.WARN,path:j}));k.inRange(a.width,c.minWarningWidth)||d.push(new(b("AdsError"))(1772076,b("AdsInstagramErrorUtils").getWrongVideoDimensionErrorMessage(c.minWarningWidth,c.minWarningHeight).toString(),{level:b("AdsError").Level.WARN,path:j}));if(a.height&&a.width){e=a.width/a.height;k.isValidAspectRatio(e,c)||d.push(new(b("AdsError"))(1772074,b("AdsInstagramErrorUtils").getWrongVideoRatioErrorMessage(c.maxWarningAspectRatio,c.minWarningAspectRatio),{level:b("AdsError").Level.WARN,path:j}))}return d},validateInstagramIGTV:function(a,c){__p&&__p();var d=[];k.inRange(Math.floor(a.length),c.minWarningLength,c.maxWarningLength)||d.push(new(b("AdsError"))(2238018,h._(function(a,b){return a._("IGTV only supports video ads shorter than 15 seconds.")},{}),{level:b("AdsError").Level.WARN,path:j}));k.inRange(a.width,c.minWarningWidth)||d.push(new(b("AdsError"))(1772076,b("AdsInstagramErrorUtils").getWrongVideoDimensionErrorMessage(c.minWarningWidth,c.minWarningHeight).toString(),{level:b("AdsError").Level.WARN,path:j}));if(a.height&&a.width){a=a.width/a.height;k.isValidAspectRatio(a,c)||d.push(new(b("AdsError"))(2238019,h._(function(a,b){return a._("IGTV only supports ad creative with an aspect ratio smaller or equal to 9:16. Please try an attachment with a width to height ratio smaller or equal to 9:16.")},{}),{level:b("AdsError").Level.WARN,path:j}))}return d},validateFacebookInstreamVideo:function(a,c,d,e,f){__p&&__p();d===void 0&&(d=b("AdsError").Level.RECOMMEND);var g=[];f=b("AdsInstreamCapabilityUtils").isEligibleForInstreamLongVideoAds(e,!0,f);var h=c.maxWarningLength;f&&(h=b("AdsVideoConstraintsUtils").getMaxVideoDurationInSecForLongInstreamDRAds());!k.inRange(a.length,c.minWarningLength,h)?g.push(b("AdsInstreamVideoErrorUtils").getWrongLengthError(d,f)):f&&c.maxWarningLength!=null&&a.length>c.maxWarningLength&&g.push(b("AdsInstreamVideoErrorUtils").getLongDRTruncationWarning(d));if(a.height&&a.width){h=a.width/a.height;k.isValidAspectRatio(h,c)||g.push(b("AdsInstreamVideoErrorUtils").getAspectRatioError(d))}f=b("AdsAccountUtils").hasCapabilityFromList(e,"ADS_INSTREAM_VIDEO_ENABLE_SLIDE_SHOW");!f&&a.creator_product===b("VideoCreatorProductType").SLIDESHOW&&g.push(b("AdsInstreamVideoErrorUtils").getSlideShowError(d));a.spherical&&g.push(b("AdsInstreamVideoErrorUtils").getSphericalError(d));return g},validateAudienceNetworkVideo:function(a,c){__p&&__p();var d=[],e=c.maxWarningLength;k.inRange(a.length,c.minWarningLength,e)||d.push(new(b("AdsError"))(1815755,i._("Make this video {minimum Audience Network InStream video duration} - {maximum Audience Network InStream video duration} seconds long.",[i._param("minimum Audience Network InStream video duration",c.minWarningLength),i._param("maximum Audience Network InStream video duration",e!=null?e-1:null)]),{level:b("AdsError").Level.RECOMMEND,path:j}));k.inRange(a.length,b("AdsVideoConfig").audienceNetworkInStreamVideoCTVMinDurationInSec,b("AdsVideoConfig").audienceNetworkInStreamVideoCTVMaxDurationInSec)||d.push(new(b("AdsError"))(2016032,h._(function(a,b){return a._("Make this video 10-30 seconds long.")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));if(a.height&&a.width){e=a.width/a.height;k.isValidAspectRatio(e,c)||d.push(new(b("AdsError"))(1815754,i._("Change the aspect ratio to 16:9, 5:3, 4:3 or 1:1."),{level:b("AdsError").Level.RECOMMEND,path:j}))}Boolean(c.hasSound)&&!a.has_sound&&d.push(new(b("AdsError"))(2016029,h._(function(a,b){return a._("Add sound to your video, or upload a video with sound")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));Boolean(c.hasHDQuality)&&!a.has_hd_quality&&d.push(new(b("AdsError"))(1885566,h._(function(a,b){return a._("Make the video at least 720p, or upload a video that's 720p")},{}),{level:b("AdsError").Level.RECOMMEND,path:j}));a.spherical&&d.push(new(b("AdsError"))(1815287,i._("360 Videos are not supported by the Audience Network InStream Format."),{level:b("AdsError").Level.WARN,path:j}));return d},validateAudienceNetworkRewardedVideo:function(a,c){c=[];a.creator_product===b("VideoCreatorProductType").SLIDESHOW&&c.push(new(b("AdsError"))(1885824,i._("Rewarded video ads do not support slideshow videos."),{level:b("AdsError").Level.RECOMMEND,path:j}));return c},validateWhatsAppStatus:function(a,c){var d=[];k.inRange(a.length,null,c.maxWarningLength)||d.push(new(b("AdsError"))(2490020,i._("WhatsApp Status ad videos must be less than {maximum WhatsApp Status ad video duration in seconds} seconds long.",[i._param("maximum WhatsApp Status ad video duration in seconds",c.maxWarningLength)]),{level:b("AdsError").Level.WARN,path:j}));return d}};e.exports=k}),null);
__d("AdsVideoSpecsUtils",["AdsAPIFacebookPosition","AdsAPIObjectives","AdsAPIPublisherPlatform","AdsBuyingTypes","AdsPlacementAPISpecReaderUtils","AdsPlacementAssetEligibilityUtils","AdsVideoConfig","AdsVideoSpecs","AdsVideoValidationMigrationUtils","getObjectValues","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("getObjectValues")(b("AdsVideoSpecs")),h=b("immutable").Map([[b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,new Set([b("AdsAPIObjectives").VIDEO_VIEWS])]]),i=b("immutable").Map([[b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,new Set([b("AdsAPIObjectives").VIDEO_VIEWS,b("AdsAPIObjectives").REACH,b("AdsAPIObjectives").BRAND_AWARENESS])]]),j={getVideoSpecsForPlacementObjective:function(a,b,c){return g.filter(function(d){if(!d.placementChecker(a))return!1;return d.supportsCarousel!==void 0&&d.supportsCarousel===!c?!1:j.doesVideoSpecSupportObjective(d,b)})},getVideoSpecsForAssetCustomizationPlacementObjective:function(a,b,c){return g.filter(function(d){if(!d.assetCustomizationPlacementChecker(a))return!1;return d.supportsCarousel!==void 0&&d.supportsCarousel===!c?!1:j.doesVideoAssetCustomizationSpecSupportObjective(d,b)})},doesVideoSpecSupportObjective:function(a,b){a=h.get(a.placement);return!a?!0:a.has(b)},transformVideoSpecsBasedOnBuyingType:function(a,c,d){if(d!==b("AdsBuyingTypes").RESERVED)return c;d=Boolean(a&&b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement(a));return!d?c:c.map(function(a){if(a.placement===b("AdsAPIFacebookPosition").INSTREAM_VIDEO)return babelHelpers["extends"]({},a,{minWarningAspectRatio:b("AdsVideoConfig").instreamPACMinWarningAspectRatio,maxWarningAspectRatio:b("AdsVideoConfig").instreamPACMaxWarningAspectRatio});else return a})},doesVideoAssetCustomizationSpecSupportObjective:function(a,b){a=i.get(a.placement);return!a?!0:a.has(b)},isInvalidFacebookInstreamVideoInPACFlow:function(a,c){if(!a||!c||!c.height||!c.width)return!1;a=b("AdsPlacementAssetEligibilityUtils").isEligiblePlacementSpecForPlacementAssetCustomizationPhase2(a,a.spec);c=c.width/c.height;c=b("AdsVideoValidationMigrationUtils").isValidAspectRatio(c,b("AdsVideoSpecs").INSTREAM_VIDEO_PAC);return a&&!c}};e.exports=j}),null);
__d("AdsVideoValidation",["errorCode","errorDesc","fbt","AdsAPIAdCampaignFields","AdsAPIAdgroupPaths","AdsAPIAudienceNetworkPosition","AdsAPIFacebookPosition","AdsAPIInstagramPosition","AdsAPIPublisherPlatform","AdsAPIWhatsAppPosition","AdsError","AdsErrorUtils","AdsInstagramErrorUtils","AdsInstreamCapabilityUtils","AdsInstreamVideoErrorUtils","AdsPlacementAPISpecReaderUtils","AdsVideoBuyingStoreUtils","AdsVideoSpecsUtils","AdsVideoValidationMigrationUtils"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=b("AdsAPIAdgroupPaths").CREATIVE.OBJECT_STORY_SPEC.VIDEO_DATA.VIDEO_ID,k={getValidationMapByPlacementForVideoList:function(a,c,d,e,f,g){var h=new Map(),i=b("AdsVideoSpecsUtils").getVideoSpecsForPlacementObjective(c,d,f),j=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement(c)?b("AdsError").Level.WARN:b("AdsError").Level.RECOMMEND;a.forEach(function(a){h.set(a.id,k.validateVideo(a,i,c,e,j,g,d))});return h},getValidationMapByPlacementsForVideoList:function(a,b,c,d,e,f){__p&&__p();var g=new Map();b.map(function(b){return k.getValidationMapByPlacementForVideoList(a,b,c,d,e,f)}).forEach(function(a){a.forEach(function(a,b){var c=g.get(b)||[];a.forEach(function(a){c.some(function(b){return b.key===a.key})||c.push(a)});g.set(b,c)})});return g},getErrorMapByCampaignForVideoList:function(a,c,d,e,f,g){var h=b("AdsPlacementAPISpecReaderUtils").convertCampaignRecordToPlacementSpec(c);h=k.getValidationMapByPlacementForVideoList(a,h,d,e,f,g);d=c.get(b("AdsAPIAdCampaignFields").OPTIMIZATION_GOAL);b("AdsVideoBuyingStoreUtils").addVideoBuyingVideoListErrors(a,h,[d]);return h},validateVideoForPlacementBuyingTypeObjective:function(a,c,d,e,f,g){f=b("AdsVideoSpecsUtils").getVideoSpecsForPlacementObjective(c,d,f);var h=b("AdsPlacementAPISpecReaderUtils").isOnlyActiveFacebookInstreamVideosPlacement(c)?b("AdsError").Level.WARN:b("AdsError").Level.RECOMMEND;return k.validateVideo(a,f,c,e,h,g,d)},validateVideo:function(a,c,d,e,f,g,h){f===void 0&&(f=b("AdsError").Level.RECOMMEND);c=b("AdsVideoSpecsUtils").transformVideoSpecsBasedOnBuyingType(d,c,e);var i=[];c.forEach(function(b){i=i.concat(k.validateVideoForSpec(a,b,f,g,h))});d&&(i=b("AdsErrorUtils").giveRecommendationsForSoftErrors(i,[d]));return i},validateVideoForSpec:function(a,c,d,e,f){__p&&__p();d===void 0&&(d=b("AdsError").Level.RECOMMEND);var g=[],h=(c.placement===b("AdsAPIInstagramPosition").STREAM||c.placement===b("AdsAPIInstagramPosition").STORY||c.placement===b("AdsAPIInstagramPosition").IGTV)&&c.platform!==b("AdsAPIPublisherPlatform").FACEBOOK,i=c.platform===b("AdsAPIPublisherPlatform").FACEBOOK&&c.placement===b("AdsAPIFacebookPosition").STORY;if(i)return b("AdsVideoValidationMigrationUtils").validateFBStory(a,c);i=h&&c.placement===b("AdsAPIInstagramPosition").STORY;if(i)return b("AdsVideoValidationMigrationUtils").validateInstagramStory(a,c);i=h&&c.placement===b("AdsAPIInstagramPosition").STREAM;if(i)return b("AdsVideoValidationMigrationUtils").validateInstagramStream(a,c);i=h&&c.placement===b("AdsAPIInstagramPosition").IGTV;if(i)return b("AdsVideoValidationMigrationUtils").validateInstagramIGTV(a,c);if(c.placement===b("AdsAPIFacebookPosition").INSTREAM_VIDEO)return b("AdsVideoValidationMigrationUtils").validateFacebookInstreamVideo(a,c,d,e,f);if(c.placement===b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK)return b("AdsVideoValidationMigrationUtils").validateAudienceNetworkVideo(a,c);if(c.placement===b("AdsAPIAudienceNetworkPosition").REWARDED_VIDEO)return b("AdsVideoValidationMigrationUtils").validateAudienceNetworkRewardedVideo(a,c);if(c.placement===b("AdsAPIWhatsAppPosition").STATUS&&c.platform===b("AdsAPIPublisherPlatform").WHATSAPP)return b("AdsVideoValidationMigrationUtils").validateWhatsAppStatus(a,c);if(a.length){h=b("AdsInstreamCapabilityUtils").isEligibleForInstreamLongVideoAds(e,c.placement===b("AdsAPIFacebookPosition").INSTREAM_VIDEO,f);i=c.maxWarningLength;b("AdsVideoValidationMigrationUtils").inRange(a.length,c.minWarningLength,i)||g.push(k._getLengthError(c,h,d))}(!b("AdsVideoValidationMigrationUtils").inRange(a.width,c.minWarningWidth)||!b("AdsVideoValidationMigrationUtils").inRange(a.height,c.minWarningHeight))&&g.push(k._getDimensionError(c));if(a.height&&a.width){e=a.width/a.height;b("AdsVideoValidationMigrationUtils").isValidAspectRatio(e,c)||g.push(k._getAspectRatioError(c,d))}return g},_getLengthError:function(a,c,d){__p&&__p();d===void 0&&(d=b("AdsError").Level.RECOMMEND);var e=a.placement,f=b("AdsError").Level.WARN,g=1487685,k=i._("Your video is invalid"),l=j;switch(e){case b("AdsAPIInstagramPosition").IGTV:k=h._(function(a,b){return a._("IGTV only supports video ads shorter than 15 seconds.")},{});g=2238018;break;case b("AdsAPIInstagramPosition").STORY:k=h._(function(a,b){return a._("The video duration for Instagram story ads can not be longer than 120 seconds.")},{});g=1772173;break;case b("AdsAPIInstagramPosition").STREAM:k=h._(function(a,b){return a._("Instagram feed video duration can not be longer than 120 seconds.")},{});g=2238028;break;case b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK:f=b("AdsError").Level.RECOMMEND;k=i._("Make this video {minimum Audience Network InStream video duration} - {maximum Audience Network InStream video duration} seconds long.",[i._param("minimum Audience Network InStream video duration",a.minWarningLength),i._param("maximum Audience Network InStream video duration",a.maxWarningLength!=null?a.maxWarningLength-1:null)]);g=1815755;break;case b("AdsAPIFacebookPosition").INSTREAM_VIDEO:return b("AdsInstreamVideoErrorUtils").getWrongLengthError(d,c)}return new(b("AdsError"))(g,k,{level:f,path:l})},_getDimensionError:function(a){var c=b("AdsError").Level.WARN,d=h._(function(a,b){return a._("Your video is invalid")},{}),e=2490005,f=j;switch(a.placement){case b("AdsAPIInstagramPosition").STREAM:case b("AdsAPIInstagramPosition").IGTV:case b("AdsAPIInstagramPosition").STORY:d=b("AdsInstagramErrorUtils").getWrongVideoDimensionErrorMessage(a.minWarningWidth,a.minWarningHeight);e=1772076;break}return new(b("AdsError"))(e,d.toString(),{level:c,path:f})},_getAspectRatioError:function(a,c){__p&&__p();c===void 0&&(c=b("AdsError").Level.RECOMMEND);var d=b("AdsError").Level.WARN,e=h._(function(a,b){return a._("Your video is invalid")},{}),f=2490005,g=j;switch(a.placement){case b("AdsAPIInstagramPosition").IGTV:e=h._(function(a,b){return a._("IGTV only supports ad creative with an aspect ratio smaller or equal to 9:16. Please try an attachment with a width to height ratio smaller or equal to 9:16.")},{});f=2238019;break;case b("AdsAPIInstagramPosition").STORY:e=h._(function(a,b){return a._("Story media aspect ratio has to be smaller than or equal to 9:16")},{});f=1772130;break;case b("AdsAPIInstagramPosition").STREAM:e=b("AdsInstagramErrorUtils").getWrongVideoRatioErrorMessage(a.maxWarningAspectRatio,a.minWarningAspectRatio);f=1772074;break;case b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK:d=b("AdsError").Level.RECOMMEND;e=i._("Change the aspect ratio to 16:9, 5:3, 4:3 or 1:1.");f=1815754;break;case b("AdsAPIFacebookPosition").INSTREAM_VIDEO:return b("AdsInstreamVideoErrorUtils").getAspectRatioError(c)}return new(b("AdsError"))(f,e.toString(),{level:d,path:g})},_getFacebookStoriesVideoDimensionError:function(){var a=b("AdsError").Level.RECOMMEND;return new(b("AdsError"))(1443205,h._(function(a,b){return a._("The width of photo and video has to be larger than 500px for ads in Facebook Stories.")},{}),{level:a,path:j})}};e.exports=k}),null);
__d("AdsPlacementAssetValidationUtils",["errorCode","AdImageSpecsUtils","AdImageSpecsUtilsV2","AdsAccountUtils","AdsAPIAdCampaignFields","AdsAPIAudienceNetworkPosition","AdsAPIFacebookPosition","AdsAPIInstagramPosition","AdsAPIPublisherPlatform","AdsAssetCustomizationEligibility","AdsError","AdsImageValidation","AdsPageTypes","AdsPlacementAPISpecReaderUtils","AdsPlacementAssetCustomizationTypes","AdsPlacementAssetEligibilityUtils","AdsPlacementAssetUtils","AdsPlacementPluginList","AdsPlacementsWhatsAppPlatformPlugin","AdsPlacementUtils","AdsVideoBuyingStoreUtils","AdsVideoSpecsUtils","AdsVideoValidation","adsContainsAssetCustomizationPlacement","immutable"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("AdsPlacementAssetCustomizationTypes").AdsPlacementAssetGroups,i=new Map(),j=[1815896],k={validateImagesForPlacementSpec:function(a,c,d){var e=b("AdImageSpecsUtilsV2").getImageSpecsForAssetCustomizationPlacement(c,d);a.forEach(function(a){var d=k.filterInstagramSpecsBasedOnCrop(a.imageCrops,c,e);d.forEach(function(c){b("AdsImageValidation").validateNow(a.image,c,a.imageCrops)})});return a},getPlacementsCompatibleWithImage:function(a,c,d){var e=k.getPlacementsIncompatibleWithImages([a],c,d),f=[];c.forEach(function(a){b("adsContainsAssetCustomizationPlacement")(e,a)||f.push(a)});return b("immutable").List(f)},getPlacementsIncompatibleWithImages:function(a,c,d){__p&&__p();a=k.validateImagesForPlacementSpec(a,c,d);var e=b("AdsPlacementAPISpecReaderUtils").getPageTypesFromAssetCustomizationPlacement(c,d),f=[];a.map(function(a){var b=a.image.validationMap;e.forEach(function(a){b[a]&&!b[a].errorMessage&&!f.includes(a)&&f.push(a)})});c=e.filter(function(a){return!f.includes(a)});var g=b("immutable").List();c.forEach(function(a){a=k.getAssetCustomizationPlacementFromPageTypes(a);a&&!b("adsContainsAssetCustomizationPlacement")(g,a)&&(g=g.push(a))});return g},getPlacementsIncompatibleWithVideos:function(a,c,d,e){__p&&__p();var f=b("AdsVideoSpecsUtils").getVideoSpecsForAssetCustomizationPlacementObjective(c,e),g=[];a.forEach(function(a){var d={};f.forEach(function(c){d[c.placement]=b("AdsVideoValidation").validateVideoForSpec(a,c)});c.forEach(function(a){var c=!d[a.position]||d[a.position].length===0,e=!d[a.platform]||d[a.platform].length===0;!c&&a.platform===b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK&&(c=!0);!e&&a.position!==b("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO&&(e=!0);c&&e&&g.push(a)})});d=c.filter(function(a){return!b("adsContainsAssetCustomizationPlacement")(g,a)});return d},getPlacementsCompatibleWithVideo:function(a,c,d,e){__p&&__p();var f=k.getVideoErrorsByPlacement(a,c,d,e);b("AdsAPIFacebookPosition").INSTREAM_VIDEO in f&&(f[b("AdsAPIFacebookPosition").INSTREAM_VIDEO]=f[b("AdsAPIFacebookPosition").INSTREAM_VIDEO].filter(function(a){return a.key!==2490087}));var g=[];c.forEach(function(a){var c=!f[a.position]||f[a.position].length===0,d=!f[a.platform]||f[a.platform].length===0;!c&&a.platform===b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK&&(c=!0);!d&&a.position!==b("AdsAPIAudienceNetworkPosition").INSTREAM_VIDEO&&(d=!0);c&&d&&g.push(a)});return b("immutable").List(g)},getVideoListErrors:function(a,c,d){var e=new Map();a.forEach(function(a){e.set(a.id,k.getVideoErrors(a,c,d))});e.forEach(function(a){return a.forEach(function(a){a&&!j.includes(a.key)&&(a.level=b("AdsError").Level.WARN)})});return e},getVideoListErrorsFromAdlabel:function(a,c,d,e,f,g){__p&&__p();var j,l=i;if(d)a===h.INSTAGRAM&&(j=b("immutable").List.of({platform:b("AdsAPIPublisherPlatform").INSTAGRAM,position:b("AdsAPIInstagramPosition").STREAM}));else{d=b("AdsPlacementAssetUtils").coerceAssetCustomizationGroup(a);d!=null&&(j=f.get(d))}j!=null&&(l=k.getVideoListErrors(g,j,e));a=c.get(b("AdsAPIAdCampaignFields").OPTIMIZATION_GOAL);b("AdsVideoBuyingStoreUtils").addVideoBuyingVideoListErrors(g,l,[a]);return l},getVideoErrors:function(a,b,c){a=k.getVideoErrorsByPlacement(a,b,c);b=[];for(var d in a)b=b.concat(a[d]);return b},getVideoErrorsByPlacement:function(a,c,d,e){c=b("AdsVideoSpecsUtils").getVideoSpecsForAssetCustomizationPlacementObjective(c,d);var f={};c.forEach(function(c){f[c.placement]=b("AdsVideoValidation").validateVideoForSpec(a,c,void 0,e,d)});return f},getVideoSpecByPlacement:function(a,c){a=b("AdsVideoSpecsUtils").getVideoSpecsForAssetCustomizationPlacementObjective(a,c);return a.length===1?a[0]:null},getAssetCustomizationPlacementFromPageTypes:function(a){switch(a){case b("AdsPageTypes").DESKTOP_FEED:case b("AdsPageTypes").MOBILE_FEED:return{platform:b("AdsAPIPublisherPlatform").FACEBOOK,position:b("AdsAPIFacebookPosition").FEED};case b("AdsPageTypes").RIGHT_COLUMN:return{platform:b("AdsAPIPublisherPlatform").FACEBOOK,position:b("AdsAPIFacebookPosition").RHC};case b("AdsPageTypes").INSTAGRAM_STREAM:return{platform:b("AdsAPIPublisherPlatform").INSTAGRAM,position:b("AdsAPIInstagramPosition").STREAM};case b("AdsPageTypes").INSTAGRAM_STORY:return{platform:b("AdsAPIPublisherPlatform").INSTAGRAM,position:b("AdsAPIInstagramPosition").STORY};case b("AdsPageTypes").MOBILE_EXTERNAL:return{platform:b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK,position:b("AdsAPIAudienceNetworkPosition").CLASSIC};default:return null}},filterInstagramSpecsBasedOnCrop:function(a,c,d){var e;c.toArray().some(function(a){return a.platform===b("AdsAPIPublisherPlatform").INSTAGRAM})&&(e=b("AdImageSpecsUtils").getSelectedInstagramImageSpec(a));if(e){c=d.filter(function(a){return a.placement!==b("AdsPageTypes").INSTAGRAM_STREAM&&a.placement!==b("AdsPageTypes").INSTAGRAM_STORY||e&&a.cropKey===e.cropKey});return c}return d},hasMissingCapability:function(a,c,d){return a.some(function(a){return c==a.group?!b("AdsAccountUtils").hasCapabilityFromList(d.capabilities,a.capability):!1})},shouldShowL2RemovingCustomizationDialog:function(a,c,d,e,f,g){__p&&__p();if(b("AdsAccountUtils").hasCapabilityFromList(d.capabilities,"ALWAYS_SHOW_PAC_PHASE2_V2"))return!1;if(!a||c===!0)return!1;if(g===!0){a=b("AdsPlacementUtils").getDefaultCampaignPlacement(d);return!b("AdsPlacementAssetEligibilityUtils").isEligiblePlacementSpecForPlacementAssetCustomizationPhase2(d,a)}if(f){c=k.getPositionFromGroup(f);switch(e){case b("AdsAPIPublisherPlatform").FACEBOOK:return!b("AdsAssetCustomizationEligibility").FACEBOOK_POSITIONS.includes(String(c));case b("AdsAPIPublisherPlatform").INSTAGRAM:return!b("AdsAssetCustomizationEligibility").INSTAGRAM_POSITIONS.includes(String(c));case b("AdsAPIPublisherPlatform").AUDIENCE_NETWORK:return!b("AdsAssetCustomizationEligibility").AUDIENCE_NETWORK_POSITIONS.includes(String(c));case b("AdsAPIPublisherPlatform").MESSENGER:return k.hasMissingCapability(b("AdsPlacementAssetUtils").groupToCapabilities.get(b("AdsAPIPublisherPlatform").MESSENGER),f,d)?!0:!b("AdsAssetCustomizationEligibility").MESSENGER_POSITIONS.includes(String(c));case b("AdsAPIPublisherPlatform").WHATSAPP:return k.hasMissingCapability(b("AdsPlacementAssetUtils").groupToCapabilities.get(b("AdsAPIPublisherPlatform").WHATSAPP),f,d)||!b("AdsAssetCustomizationEligibility").WHATSAPP_POSITIONS.includes(String(c));default:return!1}}else if(e===b("AdsPlacementsWhatsAppPlatformPlugin").key)return!0;return!1},getPositionFromGroup:function(a){var c=b("AdsPlacementPluginList").getAllPositions().filter(function(b){b=b.key;return b===a}).map(function(a){a=a.apiPosition;return a}).filter(function(a){return!!a}).toArray();return c.length===0?null:c[0]}};e.exports=k}),null);
__d("AdsVideoErrorUtils",["AdsBulkValueUtils","AdsBuyingTypes","AdsError","AdsPlacementAssetValidationUtils","AdsUniformValue","AdsVideoBuyingStoreUtils","AdsVideoValidation","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getVideoListErrors:function(a,c,d,e,f,h,i){__p&&__p();var j=b("AdsBulkValueUtils").getUniformValue(a,b("AdsBuyingTypes").AUCTION),k=new Map();f.map(function(a){return b("AdsVideoValidation").getValidationMapByPlacementForVideoList(h,a,e instanceof b("AdsUniformValue")?e.getValue():void 0,j,d,i)}).forEach(function(a){a.forEach(function(a,b){var c=k.get(b)||[];a.forEach(function(a){c.some(function(b){return b.key===a.key})||c.push(a)});k.set(b,c)})});g._updateOptimizedVideoError(c,h,k);return k},getSingleVideoErrors:function(a,c,d,e,f,g){var h=[],i=b("AdsBulkValueUtils").getUniformValueOrDefault(d,b("AdsBuyingTypes").AUCTION);g.forEach(function(d){return h=h.concat(b("AdsVideoValidation").validateVideoForPlacementBuyingTypeObjective(c,d,f instanceof b("AdsUniformValue")?f.getValue():void 0,i,a))});d=b("AdsVideoBuyingStoreUtils").getVideoBuyingVideoErrors(c,e.getValues());return h.concat(d)},getNewlyUploadedVideoWarnErrors:function(a,c,d,e,f,h,i){h=h?b("AdsPlacementAssetValidationUtils").getVideoErrors(c,h,f instanceof b("AdsUniformValue")?f.getValue():void 0):g.getSingleVideoErrors(a,c,d,e,f,i);a=h.filter(function(a){return a.level===b("AdsError").Level.WARN});return a},_updateOptimizedVideoError:function(a,c,d){b("AdsVideoBuyingStoreUtils").addVideoBuyingVideoListErrors(c,d,a.getValues())}};e.exports=g}),null);
__d("AdsVideoUploadStartDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"VIDEO.UPLOAD_START"}}),null);
__d("AdsVideoUploadSuccessDataActionFlux",[],(function(a,b,c,d,e,f){"use strict";e.exports={actionType:"VIDEO.UPLOAD_SUCCESS"}}),null);
__d("AdsVideoUploadStore",["invariant","AdsDataAtom","AdsDLOAssetFeedDismissDialogDataActionFlux","AdsDraftDraftDeleteBatchDataActionFlux","AdsDraftDraftPublishDataActionFlux","AdsUEditorAdgroupSetChildVideoIDDataActionFlux","AdsUEditorAdgroupSetVideoIDDataActionFlux","AdsVideoBackgroundUploadUtils","AdsVideoEncodingSuccessDataActionFlux","AdsVideoErrorUtils","AdsVideoItemClickedDataActionFlux","AdsVideoUploadCancelDataActionFlux","AdsVideoUploadConsts","AdsVideoUploadErrorDataActionFlux","AdsVideoUploadFinishDataActionFlux","AdsVideoUploadProgressDataActionFlux","AdsVideoUploadStartDataAction","AdsVideoUploadStartDataActionFlux","AdsVideoUploadStatus","AdsVideoUploadStoreState","AdsVideoUploadSuccessDataActionFlux","AdsVideoUploadUtil","Bootloader","FluxMapStore","VideoUploadFile","ifRequired","immutable","requireWeak"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){__p&&__p();for(var b=a,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e[0];e=e[1];e.__internalUploader&&e.__internalUploader.abort()}return a.clear()}a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.getInitialState=function(){return b("immutable").Map()};d.__getActionTypes=function(){return[b("AdsUEditorAdgroupSetVideoIDDataActionFlux").actionType,b("AdsUEditorAdgroupSetChildVideoIDDataActionFlux").actionType,b("AdsVideoUploadStartDataActionFlux").actionType,b("AdsVideoEncodingSuccessDataActionFlux").actionType,b("AdsVideoItemClickedDataActionFlux").actionType,b("AdsVideoUploadErrorDataActionFlux").actionType,b("AdsVideoUploadProgressDataActionFlux").actionType,b("AdsVideoUploadSuccessDataActionFlux").actionType,b("AdsVideoUploadCancelDataActionFlux").actionType,b("AdsDraftDraftPublishDataActionFlux").actionType,b("AdsDraftDraftDeleteBatchDataActionFlux").actionType,b("AdsVideoUploadFinishDataActionFlux").actionType,b("AdsDLOAssetFeedDismissDialogDataActionFlux").actionType]};d.reduce=function(a,c){__p&&__p();var d=this,e=c.action,f=e.uploaderKey;f||(f=e.type===b("AdsVideoUploadStartDataActionFlux").actionType?b("AdsVideoUploadUtil").generateUploaderKey(a.size):b("AdsVideoUploadConsts").DEFAULT_UPLOADER_KEY);var g=a.get(f);c=a;g||(g=new(b("AdsVideoUploadStoreState"))(),c=c.set(f,g));switch(e.type){case b("AdsUEditorAdgroupSetVideoIDDataActionFlux").actionType:case b("AdsUEditorAdgroupSetChildVideoIDDataActionFlux").actionType:var i=g.videoBackgroundUploadInfo||{},j=i.videoUploadingAdgroupIDs;i=i.videoUploadingTabID;return e.adgroupIDs&&b("AdsVideoBackgroundUploadUtils").areCurrentAdLevelsUploadingVideoNow(e.adgroupIDs,j)&&(!e.index||e.index===i)?c.set(f,g.withMutations(function(a){a.set("errorMessage",null).set("newlyUploadedVideoErrors",null)})):c;case b("AdsVideoUploadStartDataActionFlux").actionType:b("ifRequired")("AdsVideoUploaderWrapper",function(a){g=d.$AdsVideoUploadStore1(g,e,f)},function(){g=d.$AdsVideoUploadStore2(g,e,f)});return a.set(f,g);case b("AdsVideoEncodingSuccessDataActionFlux").actionType:var k;if(g.videoBackgroundUploadInfo){j=g.videoBackgroundUploadInfo;i=j.bulkBuyingType;c=j.bulkOptimizationGoal;var l=j.objective,m=j.placementSpecs;j=j.isMPA;var n=g.videoUploadPACInfo&&g.videoUploadPACInfo.placementList;k=b("AdsVideoErrorUtils").getNewlyUploadedVideoWarnErrors(j,e.video,i,c,l,n,m)}return a.set(f,g.withMutations(function(a){a.set("errorMessage",null).set("newlyUploadedVideoErrors",k).set("videoBackgroundUploadInfo",null).set("videoUploadPACInfo",null).set("videoUploadDLOInfo",null).merge({encodingTime:a.__internalUploader&&a.__internalUploader.getEncodingTime(),recentUploadedVideoID_DO_NOT_USE:e.video.id,status:b("AdsVideoUploadStatus").NONE})}));case b("AdsVideoItemClickedDataActionFlux").actionType:return a.set(f,g.merge({recentUploadedVideoID_DO_NOT_USE:null}));case b("AdsVideoUploadErrorDataActionFlux").actionType:return a.set(f,g.withMutations(function(a){a.set("errorMessage",e.errorMessage).set("newlyUploadedVideoErrors",null).set("status",b("AdsVideoUploadStatus").ERROR).set("uploadTime",a.__internalUploader&&a.__internalUploader.getUploadTime()).set("videoBackgroundUploadInfo",null).set("videoUploadPACInfo",null).set("videoUploadDLOInfo",null)}));case b("AdsVideoUploadProgressDataActionFlux").actionType:return a.set(f,g.merge({progress:e.progress}));case b("AdsVideoUploadSuccessDataActionFlux").actionType:if(g.__internalUploader){j=g.__internalUploader;g=g.merge({progress:1,status:b("AdsVideoUploadStatus").ENCODING,title:j.getVideoTitle()||g.title,uploadTime:j.getUploadTime()})}return a.set(f,g);case b("AdsVideoUploadCancelDataActionFlux").actionType:if(e.uploaderKey){g.__internalUploader&&g.__internalUploader.abort();return a["delete"](e.uploaderKey)}else return h(a);case b("AdsDraftDraftPublishDataActionFlux").actionType:case b("AdsDraftDraftDeleteBatchDataActionFlux").actionType:return h(a);case b("AdsVideoUploadFinishDataActionFlux").actionType:return a.clear();case b("AdsDLOAssetFeedDismissDialogDataActionFlux").actionType:return a.filter(function(a){if(!a.videoUploadDLOInfo)return!0;a.__internalUploader&&a.__internalUploader.abort();return!1});default:return a}};d.$AdsVideoUploadStore1=function(a,c,d){__p&&__p();var e,f;b("requireWeak")("AdsVideoUploaderWrapper",function(a){return f=a});f||g(0,4434);var h=(e=c)!=null?(e=e.context)!=null?e.videoBackgroundUploadInfo:e:e,i=(e=c)!=null?(e=e.context)!=null?e.videoUploadPACInfo:e:e,j=(e=c)!=null?(e=e.context)!=null?e.videoUploadDLOInfo:e:e;e=(e=c.context)==null?void 0:e.assetKey;var k=new f(d,h,i,j,c.appID,e,c.hostID,c.waterfallID);e=a.merge({__internalUploader:k});e.status==b("AdsVideoUploadStatus").NONE||e.status==b("AdsVideoUploadStatus").BOOTLOADING||e.status==b("AdsVideoUploadStatus").ERROR||g(0,4435);c.file?k.upload(b("VideoUploadFile").fromFile(c.file),c.accountID,c.businessFolderToken):c.instagramStoryID!=null&&c.instagramStoryID!==""?k.uploadInstagramVideo(c.instagramStoryID,c.title,c.accountID):c.sourceInstagramMediaID!=null&&c.sourceInstagramMediaID!==""?k.uploadSourceInstagramMediaVideo(c.sourceInstagramMediaID,c.title,c.accountID):c.editingVideo===!0&&c.videoID!=null&&c.videoID!==""?k.uploadEditedVideo(c.title,c.accountID,c.videoID):(c.url!=null||g(0,4436),k.remoteUpload(c.url,c.title,c.accountID));return e.withMutations(function(a){a.set("videoBackgroundUploadInfo",h).set("videoUploadPACInfo",i).set("videoUploadDLOInfo",j).merge({status:b("AdsVideoUploadStatus").UPLOADING,title:k.getVideoTitle(),uploaderKey:d})})};d.$AdsVideoUploadStore2=function(a,c,d){b("Bootloader").loadModules(["AdsVideoUploaderWrapper"],function(){b("AdsDataAtom").addPostDispatchCallback(function(){b("AdsVideoUploadStartDataAction").dispatch(babelHelpers["extends"]({},c,{uploaderKey:d}),{line:"381",module:"AdsVideoUploadStore.js"})})},"AdsVideoUploadStore");return a.set("status",b("AdsVideoUploadStatus").BOOTLOADING)};return c}(b("FluxMapStore"));a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("AdsCreativeContainerVideoPickerReducerPlugins",["AdsAccountVideoDataSourcePlugin","immutable"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("immutable").OrderedSet();a={reduce:function(a,b){return babelHelpers["extends"]({},a,{source:b.source})}};c={reduce:function(a,c){return{source:b("AdsAccountVideoDataSourcePlugin").source,uploads:g}}};d={reduce:function(a,c){return{source:b("AdsAccountVideoDataSourcePlugin").source,uploads:g}}};f={reduce:function(a,c){return babelHelpers["extends"]({},a,{source:b("AdsAccountVideoDataSourcePlugin").source})}};var h={reduce:function(a,b){var c=b.context;b=b.uploaderKey;var d=a.uploads;(c==null?void 0:c.videoUploadCreativeContainerContext)!=null&&b!=null&&(d=d.add(b));return babelHelpers["extends"]({},a,{uploads:d})}};e.exports={onApplyChanges:d,onChangeSource:a,onCloseCreativeContainer:c,onEncodingSuccess:f,onUploadStart:h}}),null);
__d("AdsCreativeToolVideoUtils",["AdsBulkValueUtils","AdsPlacementAssetValidationUtils","AdsVideoBuyingStoreUtils","AdsVideoUploadStoreState"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=new Map();function a(a,c,d,e,f){__p&&__p();if(!e.hasValue()||a==null||f==null)return g;c=b("AdsBulkValueUtils").getUniformValue(c,null);e=e.getValueEnforcing();var h=e.assetGroupsByAsset;e=e.placementsByAssetGroup;if(h==null||e==null)return g;h=h.get(a);a=e.get(h.first());if(a==null)return g;e=b("AdsPlacementAssetValidationUtils").getVideoListErrors(f,a,c);b("AdsVideoBuyingStoreUtils").addVideoBuyingVideoListErrors(f,e,d.getValues());return e}function c(a){a=a.last()||new(b("AdsVideoUploadStoreState"))();return h(a)?{name:a.title,status:a.status==="UPLOADING"?"loading":"buffering",progress:a.progress}:null}function h(a){return a!=null&&(a.status==="UPLOADING"||a.status==="ENCODING")}d={getPACVideoListErrors:a,getVideoUploadStatus:c,isUploadingVideo:h};e.exports=d}),null);
__d("AdsAccountVideoDataSourcePlugin",["ix","fbt","AdsAccountVideoListLoadMoreDataAction","AdsAccountVideosQuery","AdsCreativeToolVideoUtils","AdsGenericFilterSetUtil","AdsVideoActions","AdsVideoDialogFilterUtil","AdsVideoSelectionHeaderTabTypes","AdsVideoUploadStore","ClientIDs","adsSelectedTabVideoListSelector","asset","immutable"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={type:"videoDataSource",key:"ACCOUNT_VIDEO",filters:b("immutable").OrderedSet(["VIDEO_LENGTH","VIDEO_ASPECT_RATIO","VIDEO_WIDTH","VIDEO_HEIGHT"]),icon:g("567278"),label:h._("Account"),searchPlaceholder:h._("Search media"),source:b("AdsVideoSelectionHeaderTabTypes").ACCOUNT,getStores:function(){return[].concat(b("adsSelectedTabVideoListSelector").getStores(),[b("AdsVideoUploadStore")])},load:function(a){var c=a.accountID,d=a.pageID;a=a.source;c=b("adsSelectedTabVideoListSelector")({accountID:c,pageID:d,selectedTab:a});d=c.accountVideosQuery;a=c.hasNextPage;c=c.videoIDs;var e=c.getValue();return{hasNextPage:a,isLoading:c.isLoading(),query:d,uploadStatus:b("AdsCreativeToolVideoUtils").getVideoUploadStatus(b("AdsVideoUploadStore").getState()),videoIDs:b("immutable").OrderedSet(e||[])}},loadMore:function(a){a instanceof b("AdsAccountVideosQuery")&&b("AdsAccountVideoListLoadMoreDataAction").dispatch({query:a},{line:"75",module:"AdsAccountVideoDataSourcePlugin.js"})},onUpload:function(a,c){var d=new Map();Array.from(a).forEach(function(a){return d.set(b("ClientIDs").getNewClientID(),a)});b("AdsVideoActions").startUploadWithFileMap(d,c,{videoUploadCreativeContainerContext:{isCreativeContainer:!0}})},onSearch:function(a){b("AdsVideoActions").search(a)},applyFilters:function(a){a=b("AdsVideoDialogFilterUtil").getApiParamsForAdAccountFromPresetFilters(b("AdsGenericFilterSetUtil").removeIncomplete(a));b("AdsVideoActions").filter(a)},reset:function(){i.onSearch(""),i.applyFilters(null)}};e.exports=i}),null);